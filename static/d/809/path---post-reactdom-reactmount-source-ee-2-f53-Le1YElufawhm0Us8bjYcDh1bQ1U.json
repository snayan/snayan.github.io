{"data":{"avatar":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIEBQP/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQD/2gAMAwEAAhADEAAAAcSerUQpOzXUqiMAb//EABsQAAMAAgMAAAAAAAAAAAAAAAABAhESAxQh/9oACAEBAAEFAjzJ1VJcZepyU9x0z//EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAEDAQE/AWP/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAbEAADAAIDAAAAAAAAAAAAAAAAASEQERIxMv/aAAgBAQAGPwImPUNtcTodiz//xAAcEAACAgMBAQAAAAAAAAAAAAAAAREhMUFRYXH/2gAIAQEAAT8hWbK7l6NWStvasZEW4S7fwfTTAkNzkQZ//9oADAMBAAIAAwAAABAs1wP/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEQ/9oACAEDAQE/EMLbwL//xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAQ/9oACAECAQE/EIzR4rv/xAAfEAEAAwACAQUAAAAAAAAAAAABABEhMUFRYXGBodH/2gAIAQEAAT8QAjVRsF68R3WyhBpEB4otans9oxQXOZRxVfkow9YivuDFJrEfPmaECm2kqIiV2XP/2Q==","width":40,"height":40,"src":"/static/9d156e8486b343189790da372acb0018/987ea/my.jpg","srcSet":"/static/9d156e8486b343189790da372acb0018/987ea/my.jpg 1x,\n/static/9d156e8486b343189790da372acb0018/9c097/my.jpg 1.5x,\n/static/9d156e8486b343189790da372acb0018/bd6c6/my.jpg 2x"}}},"site":{"siteMetadata":{"title":"三羊的小站","author":"三羊","postPath":"/post","contentUrl":"https://github.com/snayan/blog-source/tree/master/content/blog","menu":{"search":{"name":"搜索","link":"/search"}}}},"markdownRemark":{"id":"0dbd6f3c-4789-5d56-814f-7e1549808c25","excerpt":"ReactMount 为 react-dom 对象提供了和这 2 个方法，其中第一个就是我们常用的输出 react element 到真实的 dom 里。方法实际上提供了三个参数，第一个就是 react element，第二个是页面上真实的 dom，第三个是 callback。如果 react element…","html":"<p>ReactMount 为 react-dom 对象提供了<code>render</code>和<code>unmountComponentAtNode</code>这 2 个方法，其中第一个<code>render</code>就是我们常用的输出 react element 到真实的 dom 里。</p>\n<pre><code class=\"language-javascript\">var ReactMount = {\n  scrollMonitor: function(container, renderCallback) {\n    //...\n  },\n  renderSubtreeIntoContainer: function(\n    parentComponent,\n    nextElement,\n    container,\n    callback\n  ) {\n    //...\n  },\n  render: function(nextElement, container, callback) {\n    //...\n  },\n  unmountComponentAtNode: function(container) {\n    //...\n  },\n}\n</code></pre>\n<!--more-->\n<p><code>render</code>方法实际上提供了三个参数，第一个就是 react element，第二个是页面上真实的 dom，第三个是 callback。如果 react element 已经在之前输出到 container 中了，那么再次调用<code>render</code>，则只会最小化更新 dom 的变化。</p>\n<pre><code class=\"language-javascript\">var render = function(nextElement, container, callback) {\n  // 验证callback\n  ReactUpdateQueue.validateCallback(callback, 'ReactDOM.render');\n  // 验证nextElement是否是Rect Element\n  !React.isValidElement(nextElement) ? '提示报错' : vodid 0;\n  // 验证container\n  !isValidContainer(container) ? '提示报错' : void 0;\n  // 创建实际node\n  var componentInstance = instantiateReactComponent(nextElement, false);\n  // 更新到dom\n  var component = ReactUpdates.batchedUpdates(batchedMountComponentIntoNode, componentInstance, container, shouldReuseMarkup, context)._renderComponent.getPublicInstance();\n  // 执行回调函数\n  if(callback) {\n    callback.call(component);\n  }\n  return componnet;\n}\n</code></pre>\n<p>「react 版本 15.5.4」</p>","tableOfContents":"<ul></ul>","frontmatter":{"title":"阅读react-dom源码--ReactMount部分","date":"June 10, 2017","tags":["react"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/reactdom_reactmount_source/","previous":{"fields":{"slug":"/post/reactelement_source/"},"frontmatter":{"title":"阅读react源码--ReactElement部分"}},"next":{"fields":{"slug":"/post/react_component_life_cycle/"},"frontmatter":{"title":"react组件生命周期浅谈"}}}}