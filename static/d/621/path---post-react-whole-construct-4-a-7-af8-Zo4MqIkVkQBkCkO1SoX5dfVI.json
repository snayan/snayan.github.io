{"data":{"avatar":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAIEBQP/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQD/2gAMAwEAAhADEAAAAcSerUQpOzXUqiMAb//EABsQAAMAAgMAAAAAAAAAAAAAAAABAhESAxQh/9oACAEBAAEFAjzJ1VJcZepyU9x0z//EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAEDAQE/AWP/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAbEAADAAIDAAAAAAAAAAAAAAAAASEQERIxMv/aAAgBAQAGPwImPUNtcTodiz//xAAcEAACAgMBAQAAAAAAAAAAAAAAAREhMUFRYXH/2gAIAQEAAT8hWbK7l6NWStvasZEW4S7fwfTTAkNzkQZ//9oADAMBAAIAAwAAABAs1wP/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEQ/9oACAEDAQE/EMLbwL//xAAXEQEBAQEAAAAAAAAAAAAAAAABEQAQ/9oACAECAQE/EIzR4rv/xAAfEAEAAwACAQUAAAAAAAAAAAABABEhMUFRYXGBodH/2gAIAQEAAT8QAjVRsF68R3WyhBpEB4otans9oxQXOZRxVfkow9YivuDFJrEfPmaECm2kqIiV2XP/2Q==","width":40,"height":40,"src":"/static/9d156e8486b343189790da372acb0018/987ea/my.jpg","srcSet":"/static/9d156e8486b343189790da372acb0018/987ea/my.jpg 1x,\n/static/9d156e8486b343189790da372acb0018/9c097/my.jpg 1.5x,\n/static/9d156e8486b343189790da372acb0018/bd6c6/my.jpg 2x"}}},"site":{"siteMetadata":{"title":"三洋的小站","author":"三洋","menu":{"search":{"name":"搜索","link":"/search"}}}},"markdownRemark":{"id":"b7c48148-1f07-5568-b437-f0ae0b7ae7de","excerpt":"最近打算学习 react 与 redux 的源码，以此记录在学习过程中做的笔记吧。\n先来整体看看 react 的结构吧，实际上 react 就是一个对象，在实际使用的时候是这样的方式查看源码发现，react…","html":"<p>最近打算学习 react 与 redux 的源码，以此记录在学习过程中做的笔记吧。\n先来整体看看 react 的结构吧，实际上 react 就是一个对象，在实际使用的时候是这样的方式</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token comment\">// 或则</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> createElement <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span></code></pre></div>\n<p>查看源码发现，react 对象就是一些包含一些属性的常见对象。常见的属性包括<code class=\"language-text\">Component</code>，<code class=\"language-text\">createElement</code>，<code class=\"language-text\">cloneElement</code>，<code class=\"language-text\">createClass</code>，<code class=\"language-text\">DOM</code>等。</p>\n<!--more-->\n<p>下面就是它的结构</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> React <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 这个主要是处理一些react element的方法,</span>\n  Children<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> map<span class=\"token punctuation\">,</span> forEach<span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">,</span> toArray<span class=\"token punctuation\">,</span> only <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">// Component的`父类`了，我们写的component都是继承这个</span>\n  Component<span class=\"token punctuation\">:</span> ReactComponent<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 纯的Component`父类`了，实际原型也是继承Component的，只不过多了一个isPureComponent=true</span>\n  PureComponent<span class=\"token punctuation\">:</span> ReactPureComponent<span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">// 创建react elment的方法，实际中可以用jsx去创建react element。</span>\n  createElement<span class=\"token punctuation\">:</span> createElment<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 克隆react element的方法</span>\n  cloneElement<span class=\"token punctuation\">:</span> cloneElement<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 验证一个对象是否是react element,实际就是判断这个对象是否有$$typeof===Symbol['for']('react.element')</span>\n  isValidElement<span class=\"token punctuation\">:</span> ReactElement<span class=\"token punctuation\">.</span>isValidElement<span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">// props的类型检查器，在15.X的版本中，这个单独移到了prop-types的库中了，不再是React的部分</span>\n  PropTypes<span class=\"token punctuation\">:</span> ReactPropTypes<span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">// 创建一个Component的类型，主要是es5的写法，在es6之后都是直接用Class形式继承Component</span>\n  createClass<span class=\"token punctuation\">:</span> ReactClass<span class=\"token punctuation\">.</span>createClass<span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// 同createClass，只不过指定一个type，之后就是创建同type的react element。</span>\n  createFactory<span class=\"token punctuation\">:</span> createFactory<span class=\"token punctuation\">,</span>\n\n  <span class=\"token comment\">// 同createFatory,只不过封装了dom中常见的elmenet类型，例如div,span,li等</span>\n  <span class=\"token constant\">DOM</span><span class=\"token punctuation\">:</span> ReactDOMFactories<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>上面只是列举了最常用的属性，还有一两个属性是不需要知道的，也就没有列举出来了。\n后面几篇将详细分析每个属性的具体代码部分。</p>\n<p>「react 版本 15.5.4」</p>","frontmatter":{"title":"阅读react源码--react整体结构","date":"May 04, 2017","tags":["react"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/react_whole_construct/","previous":{"fields":{"slug":"/post/singleton/"},"frontmatter":{"title":"单例模式"}},"next":{"fields":{"slug":"/post/react_component_source/"},"frontmatter":{"title":"阅读react源码--component部分"}}}}