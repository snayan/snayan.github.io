{"version":3,"sources":["webpack:///./src/pages/search/index.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/SEO/index.js","webpack:///./src/components/Layout/index.js","webpack:///./src/constants/icons.js","webpack:///./src/utils/index.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/Icon/index.js","webpack:///./src/components/Bio/index.js","webpack:///./src/components/Page/index.js"],"names":["Search","props","_this","_React$Component","call","this","formatPosts","total","data","allMarkdownRemark","edges","length","posts","tags","i","post","tag","Array","isArray","node","frontmatter","title","slug","fields","date","m","n","inputChange","e","query","target","value","setState","doQuery","state","preState","results","index","search","expand","map","_ref","ref","documentStore","getDoc","clicked","Index","load","siteSearchIndex","getQuery","componentDidMount","render","_this2","searchLink","site","siteMetadata","menu","link","content","react__WEBPACK_IMPORTED_MODULE_8___default","a","createElement","className","styles","empty","list","sort","b","Date","item","article","key","id","gatsby__WEBPACK_IMPORTED_MODULE_10__","to","info","infoDate","infoTags","join","_components_Page__WEBPACK_IMPORTED_MODULE_11__","location","panel","searchInput","type","onChange","placeholder","searchBtn","onClick","totalCount","Object","keys","href","getSearchLink","React","Component","searchQuery","module","exports","require","default","__webpack_require__","d","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","createContext","Consumer","staticQueryData","children","propTypes","PropTypes","object","string","isRequired","func","SEO","description","lang","meta","_public_static_d_3497927624_json__WEBPACK_IMPORTED_MODULE_0__","metaDescription","react__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","name","property","author","concat","defaultProps","arrayOf","Layout","opened","toggleOpenSlider","_this$props","react__WEBPACK_IMPORTED_MODULE_2___default","layout","_SEO__WEBPACK_IMPORTED_MODULE_3__","pathname","ICONS","TWITTER","path","viewBox","FACEBOOK","TELEGRAM","VKONTAKTE","GITHUB","EMAIL","RSS","getIcon","icon","window","url","RegExp","exec","decodeURIComponent","replace","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","InternalPageRenderer","assign","json","shape","Icon","react_default","bioQuery","Bio","gatsby_browser_entry","_data$site$siteMetada","belief","social","navItems","socialItems","bio","gatsby_image_default","fixed","avatar","childImageSharp","alt","imgStyle","borderRadius","beliefMobile","dangerouslySetInnerHTML","__html","contacts","components_Icon","footer","getFullYear","_1867215283","BlogIndex","home","aside","components_Bio","main"],"mappings":"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","file":"component---src-pages-search-index-js-444edfc6d15fdfd5377a.js","sourcesContent":["import React from \"react\"\nimport { Index } from \"elasticlunr\"\nimport { Link, graphql } from \"gatsby\"\nimport Page from \"../../components/Page\"\nimport styles from \"./index.module.css\"\nimport { getQuery, getSearchLink } from \"../../utils\"\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props)\n    this.index = Index.load(props.data.siteSearchIndex.index)\n    this.formatPosts(props)\n    this.state = {\n      query: getQuery(\"query\") || \"\",\n      results: [],\n      clicked: false,\n    }\n  }\n\n  formatPosts = props => {\n    const total = props.data.allMarkdownRemark.edges.length\n    const posts = {}\n    const tags = {}\n    for (let i = 0; i < total; i++) {\n      const post = props.data.allMarkdownRemark.edges[i]\n      const tag = Array.isArray(post.node.frontmatter.tags)\n        ? post.node.frontmatter.tags\n        : [post.node.frontmatter.tags]\n      posts[post.node.frontmatter.title] = {\n        slug: post.node.fields.slug,\n        date: post.node.frontmatter.date,\n      }\n      for (let m = 0, n = tag.length; m < n; m++) {\n        tags[tag[m]] = (tags[tag[m]] || 0) + 1\n      }\n    }\n    this.posts = posts\n    this.tags = tags\n  }\n\n  inputChange = e => {\n    const query = e.target.value\n    this.setState({ query })\n  }\n\n  doQuery = () => {\n    if (!this.state.query) {\n      return\n    }\n    this.setState(preState => {\n      const results = this.index\n        .search(preState.query, { expand: true })\n        .map(({ ref }) => this.index.documentStore.getDoc(ref))\n      return { results, clicked: true }\n    })\n  }\n\n  componentDidMount() {\n    this.doQuery()\n  }\n\n  render() {\n    const searchLink = this.props.data.site.siteMetadata.menu.search.link\n    const results = this.state.results\n    let content = null\n    if (this.state.clicked && !results.length) {\n      content = (\n        <p className={styles.empty}>没有找到任何结果，请更换查询词试试~</p>\n      )\n    } else if (results) {\n      content = (\n        <ul className={styles.list}>\n          {results\n            .sort((a, b) => new Date(b.date) - new Date(a.date))\n            .map(item => {\n              const post = this.posts[item.title]\n              return (\n                <li className={styles.article} key={item.id}>\n                  <article>\n                    <h4 className={styles.title}>\n                      <Link to={post.slug}>{item.title}</Link>\n                    </h4>\n                    <small className={styles.info}>\n                      <span className={styles.infoDate}>{post.date}</span>\n                      <span className={styles.infoTags}>\n                        「 {item.tags.join(\" 、\")} 」\n                      </span>\n                    </small>\n                  </article>\n                </li>\n              )\n            })}\n        </ul>\n      )\n    }\n    return (\n      <Page location={this.props.location} title=\"搜索\">\n        <div className={styles.panel}>\n          <div className={styles.search}>\n            <input\n              className={styles.searchInput}\n              type=\"text\"\n              value={this.state.query}\n              onChange={this.inputChange}\n              placeholder=\"请输入关键词...\"\n            />\n            <button className={styles.searchBtn} onClick={this.doQuery}>\n              搜索\n            </button>\n          </div>\n          {this.state.clicked && (\n            <small className={styles.totalCount}>\n              {\" \"}\n              本次搜索共找到结果 {results.length} 条\n            </small>\n          )}\n          <div className={styles.tags}>\n            <span>标签：</span>\n            {Object.keys(this.tags).map(tag => {\n              return (\n                <a key={tag} href={getSearchLink(searchLink, tag)}>\n                  <span className={styles.tag} key={tag}>\n                    {tag}\n                  </span>\n                </a>\n              )\n            })}\n          </div>\n          <div className={styles.results}>{content}</div>\n        </div>\n      </Page>\n    )\n  }\n}\n\nexport default Search\n\nexport const searchQuery = graphql`\n  query {\n    siteSearchIndex {\n      index\n    }\n    site {\n      siteMetadata {\n        menu {\n          search {\n            name\n            link\n          }\n        }\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"YYYY-MM-DD\")\n            title\n            tags\n          }\n        }\n      }\n    }\n  }\n`\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nfunction SEO({ description, lang, meta, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            author\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.author,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ].concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  description: ``,\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n","import React from \"react\"\nimport SEO from '../SEO'\nimport styles from \"./index.module.css\"\n\nclass Layout extends React.Component {\n  state = { opened: false }\n\n  get isHomePage() {\n    const { location } = this.props\n    const rootPath = `${__PATH_PREFIX__}/`\n    return location.pathname === rootPath\n  }\n\n  toggleOpenSlider = () => {\n    this.setState(preState => {\n      return { opened: !preState.opened }\n    })\n  }\n\n  render() {\n    const { title, description, children } = this.props\n    // const rootPath = `${__PATH_PREFIX__}/`\n\n    return (\n      <div className={styles.layout}>\n        <SEO title={title} description={description} />\n        {children}\n      </div>\n    )\n  }\n}\n\nexport default Layout\n","const ICONS = {\n  TWITTER: {\n    path: 'M25.312 6.375c-0.688 1-1.547 1.891-2.531 2.609 0.016 0.219 0.016 0.438 0.016 0.656 0 6.672-5.078 14.359-14.359 14.359-2.859 0-5.516-0.828-7.75-2.266 0.406 0.047 0.797 0.063 1.219 0.063 2.359 0 4.531-0.797 6.266-2.156-2.219-0.047-4.078-1.5-4.719-3.5 0.313 0.047 0.625 0.078 0.953 0.078 0.453 0 0.906-0.063 1.328-0.172-2.312-0.469-4.047-2.5-4.047-4.953v-0.063c0.672 0.375 1.453 0.609 2.281 0.641-1.359-0.906-2.25-2.453-2.25-4.203 0-0.938 0.25-1.797 0.688-2.547 2.484 3.062 6.219 5.063 10.406 5.281-0.078-0.375-0.125-0.766-0.125-1.156 0-2.781 2.25-5.047 5.047-5.047 1.453 0 2.766 0.609 3.687 1.594 1.141-0.219 2.234-0.641 3.203-1.219-0.375 1.172-1.172 2.156-2.219 2.781 1.016-0.109 2-0.391 2.906-0.781z',\n    viewBox: '0 0 26 28'\n  },\n  FACEBOOK: {\n    path: 'M14.984 0.187v4.125h-2.453c-1.922 0-2.281 0.922-2.281 2.25v2.953h4.578l-0.609 4.625h-3.969v11.859h-4.781v-11.859h-3.984v-4.625h3.984v-3.406c0-3.953 2.422-6.109 5.953-6.109 1.687 0 3.141 0.125 3.563 0.187z',\n    viewBox: '0 0 16 28'\n  },\n  TELEGRAM: {\n    path: 'M27.563 0.172c0.328 0.234 0.484 0.609 0.422 1l-4 24c-0.047 0.297-0.234 0.547-0.5 0.703-0.141 0.078-0.313 0.125-0.484 0.125-0.125 0-0.25-0.031-0.375-0.078l-7.078-2.891-3.781 4.609c-0.187 0.234-0.469 0.359-0.766 0.359-0.109 0-0.234-0.016-0.344-0.063-0.391-0.141-0.656-0.516-0.656-0.938v-5.453l13.5-16.547-16.703 14.453-6.172-2.531c-0.359-0.141-0.594-0.469-0.625-0.859-0.016-0.375 0.172-0.734 0.5-0.922l26-15c0.156-0.094 0.328-0.141 0.5-0.141 0.203 0 0.406 0.063 0.562 0.172z',\n    viewBox: '0 0 28 28'\n  },\n  VKONTAKTE: {\n    path: 'M29.953 8.125c0.234 0.641-0.5 2.141-2.344 4.594-3.031 4.031-3.359 3.656-0.859 5.984 2.406 2.234 2.906 3.313 2.984 3.453 0 0 1 1.75-1.109 1.766l-4 0.063c-0.859 0.172-2-0.609-2-0.609-1.5-1.031-2.906-3.703-4-3.359 0 0-1.125 0.359-1.094 2.766 0.016 0.516-0.234 0.797-0.234 0.797s-0.281 0.297-0.828 0.344h-1.797c-3.953 0.25-7.438-3.391-7.438-3.391s-3.813-3.938-7.156-11.797c-0.219-0.516 0.016-0.766 0.016-0.766s0.234-0.297 0.891-0.297l4.281-0.031c0.406 0.063 0.688 0.281 0.688 0.281s0.25 0.172 0.375 0.5c0.703 1.75 1.609 3.344 1.609 3.344 1.563 3.219 2.625 3.766 3.234 3.437 0 0 0.797-0.484 0.625-4.375-0.063-1.406-0.453-2.047-0.453-2.047-0.359-0.484-1.031-0.625-1.328-0.672-0.234-0.031 0.156-0.594 0.672-0.844 0.766-0.375 2.125-0.391 3.734-0.375 1.266 0.016 1.625 0.094 2.109 0.203 1.484 0.359 0.984 1.734 0.984 5.047 0 1.062-0.203 2.547 0.562 3.031 0.328 0.219 1.141 0.031 3.141-3.375 0 0 0.938-1.625 1.672-3.516 0.125-0.344 0.391-0.484 0.391-0.484s0.25-0.141 0.594-0.094l4.5-0.031c1.359-0.172 1.578 0.453 1.578 0.453z',\n    viewBox: '0 0 31 28'\n  },\n  GITHUB: {\n    path: 'M10 19c0 1.141-0.594 3-2 3s-2-1.859-2-3 0.594-3 2-3 2 1.859 2 3zM20 19c0 1.141-0.594 3-2 3s-2-1.859-2-3 0.594-3 2-3 2 1.859 2 3zM22.5 19c0-2.391-1.453-4.5-4-4.5-1.031 0-2.016 0.187-3.047 0.328-0.812 0.125-1.625 0.172-2.453 0.172s-1.641-0.047-2.453-0.172c-1.016-0.141-2.016-0.328-3.047-0.328-2.547 0-4 2.109-4 4.5 0 4.781 4.375 5.516 8.188 5.516h2.625c3.813 0 8.188-0.734 8.188-5.516zM26 16.25c0 1.734-0.172 3.578-0.953 5.172-2.063 4.172-7.734 4.578-11.797 4.578-4.125 0-10.141-0.359-12.281-4.578-0.797-1.578-0.969-3.437-0.969-5.172 0-2.281 0.625-4.438 2.125-6.188-0.281-0.859-0.422-1.766-0.422-2.656 0-1.172 0.266-2.344 0.797-3.406 2.469 0 4.047 1.078 5.922 2.547 1.578-0.375 3.203-0.547 4.828-0.547 1.469 0 2.953 0.156 4.375 0.5 1.859-1.453 3.437-2.5 5.875-2.5 0.531 1.062 0.797 2.234 0.797 3.406 0 0.891-0.141 1.781-0.422 2.625 1.5 1.766 2.125 3.938 2.125 6.219z',\n    viewBox: '0 0 26 28'\n  },\n  EMAIL: {\n    path: 'M26 23.5v-12c-0.328 0.375-0.688 0.719-1.078 1.031-2.234 1.719-4.484 3.469-6.656 5.281-1.172 0.984-2.625 2.188-4.25 2.188h-0.031c-1.625 0-3.078-1.203-4.25-2.188-2.172-1.813-4.422-3.563-6.656-5.281-0.391-0.313-0.75-0.656-1.078-1.031v12c0 0.266 0.234 0.5 0.5 0.5h23c0.266 0 0.5-0.234 0.5-0.5zM26 7.078c0-0.391 0.094-1.078-0.5-1.078h-23c-0.266 0-0.5 0.234-0.5 0.5 0 1.781 0.891 3.328 2.297 4.438 2.094 1.641 4.188 3.297 6.266 4.953 0.828 0.672 2.328 2.109 3.422 2.109h0.031c1.094 0 2.594-1.437 3.422-2.109 2.078-1.656 4.172-3.313 6.266-4.953 1.016-0.797 2.297-2.531 2.297-3.859zM28 6.5v17c0 1.375-1.125 2.5-2.5 2.5h-23c-1.375 0-2.5-1.125-2.5-2.5v-17c0-1.375 1.125-2.5 2.5-2.5h23c1.375 0 2.5 1.125 2.5 2.5z',\n    viewBox: '0 0 28 28'\n  },\n  RSS: {\n    path: 'M6 21c0 1.656-1.344 3-3 3s-3-1.344-3-3 1.344-3 3-3 3 1.344 3 3zM14 22.922c0.016 0.281-0.078 0.547-0.266 0.75-0.187 0.219-0.453 0.328-0.734 0.328h-2.109c-0.516 0-0.938-0.391-0.984-0.906-0.453-4.766-4.234-8.547-9-9-0.516-0.047-0.906-0.469-0.906-0.984v-2.109c0-0.281 0.109-0.547 0.328-0.734 0.172-0.172 0.422-0.266 0.672-0.266h0.078c3.328 0.266 6.469 1.719 8.828 4.094 2.375 2.359 3.828 5.5 4.094 8.828zM22 22.953c0.016 0.266-0.078 0.531-0.281 0.734-0.187 0.203-0.438 0.313-0.719 0.313h-2.234c-0.531 0-0.969-0.406-1-0.938-0.516-9.078-7.75-16.312-16.828-16.844-0.531-0.031-0.938-0.469-0.938-0.984v-2.234c0-0.281 0.109-0.531 0.313-0.719 0.187-0.187 0.438-0.281 0.688-0.281h0.047c5.469 0.281 10.609 2.578 14.484 6.469 3.891 3.875 6.188 9.016 6.469 14.484z',\n    viewBox: '0 0 22 28'\n  }\n};\n\nexport default ICONS;\n","import { ICONS } from \"../constants\"\n\nexport const getIcon = name => {\n  let icon\n\n  switch (name) {\n    case \"twitter\":\n      icon = ICONS.TWITTER\n      break\n    case \"github\":\n      icon = ICONS.GITHUB\n      break\n    case \"vkontakte\":\n      icon = ICONS.VKONTAKTE\n      break\n    case \"telegram\":\n      icon = ICONS.TELEGRAM\n      break\n    case \"email\":\n      icon = ICONS.EMAIL\n      break\n    case \"rss\":\n      icon = ICONS.RSS\n      break\n    default:\n      icon = {}\n      break\n  }\n\n  return icon\n}\n\nexport const getQuery = name => {\n  if (typeof window !== \"undefined\") {\n    const url = window.location.href\n    const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\")\n    const results = regex.exec(url)\n    if (!results) return null\n    if (!results[2]) return \"\"\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"))\n  }\n}\n\nexport const getSearchLink = (link, query) => {\n  return link + \"?query=\" + query\n}\n\nexport function throttle(func, interval) {\n  let isThrottling = false\n\n  return function() {\n    const context = this\n\n    if (!isThrottling) {\n      func.apply(context, arguments)\n      isThrottling = true\n\n      setTimeout(() => {\n        isThrottling = false\n      }, interval)\n    }\n  }\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react';\nimport styles from './index.module.css';\n\nconst Icon = ({ icon }) => (\n  <svg className={styles.icon} viewBox={icon.viewBox}>\n    <path d={icon.path} />\n  </svg>\n);\n\nexport default Icon;\n","/**\n * Bio component that queries for data\n * with Gatsby's StaticQuery component\n *\n * See: https://www.gatsbyjs.org/docs/static-query/\n */\n\nimport React from \"react\"\nimport { StaticQuery, graphql, Link } from \"gatsby\"\nimport Image from \"gatsby-image\"\nimport Icon from \"../Icon\"\nimport { getIcon } from \"../../utils\"\nimport styles from \"./index.module.css\"\n\nfunction Bio() {\n  return (\n    <StaticQuery\n      query={bioQuery}\n      render={data => {\n        const { belief, author, menu, social } = data.site.siteMetadata\n        const navItems = Object.keys(menu)\n        const socialItems = Object.keys(social)\n\n        return (\n          <div className={styles.bio}>\n            <div className={styles.author}>\n              <Image\n                fixed={data.avatar.childImageSharp.fixed}\n                alt={author}\n                className={styles.avatar}\n                imgStyle={{ borderRadius: `50%` }}\n              />\n              <div className={styles.info}>\n                <h1 className={styles.name}>{author}</h1>\n                <p\n                  className={styles.beliefMobile}\n                  dangerouslySetInnerHTML={{ __html: belief }}\n                />\n              </div>\n            </div>\n            <p\n              className={styles.belief}\n              dangerouslySetInnerHTML={{ __html: belief }}\n            />\n            <nav className={styles.menu}>\n              {navItems.map(item => {\n                return (\n                  <div key={item}>\n                    <Link to={menu[item].link}>\n                      {menu[item].name}\n                    </Link>\n                  </div>\n                )\n              })}\n            </nav>\n            <nav className={styles.contacts}>\n              {socialItems.map(item => {\n                return (\n                  <div key={item}>\n                    <a href={social[item]}>\n                      <Icon icon={getIcon(item)} />\n                    </a>\n                  </div>\n                )\n              })}\n            </nav>\n            <footer className={styles.footer}>\n              © {new Date().getFullYear()} All rights reserved.\n            </footer>\n          </div>\n        )\n      }}\n    />\n  )\n}\n\nconst bioQuery = graphql`\n  query BioQuery {\n    avatar: file(absolutePath: { regex: \"/my.jpg/\" }) {\n      childImageSharp {\n        fixed(width: 70, height: 70) {\n          ...GatsbyImageSharpFixed\n        }\n      }\n    }\n    site {\n      siteMetadata {\n        title\n        belief\n        author\n        menu {\n          home {\n            name\n            link\n          }\n          archive {\n            name\n            link\n          }\n          search {\n            name\n            link\n          }\n          about {\n            name\n            link\n          }\n        }\n        social {\n          email\n          github\n        }\n      }\n    }\n  }\n`\n\nexport default Bio\n","import React from \"react\"\nimport Layout from \"../Layout\"\nimport Bio from \"../Bio\"\nimport styles from \"./index.module.css\"\n\nclass BlogIndex extends React.Component {\n\n  render() {\n    const { location, title, children } = this.props\n\n    return (\n      <Layout location={location} title={title}>\n        <div className={styles.home}>\n          <aside  className={styles.aside}>\n            <Bio />\n          </aside>\n          <main className={styles.main}>{children}</main>\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default BlogIndex\n"],"sourceRoot":""}