<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[ä¸‰ç¾Šçš„å°ç«™]]></title><description><![CDATA[ä¸‰ç¾Šçš„å°ç«™ï¼Œè®°å½•å‰ç«¯ç›¸å…³çŸ¥è¯†ï¼Œæ€è€ƒä¸æ€»ç»“]]></description><link>https://snayan.github.io/</link><generator>RSS for Node</generator><lastBuildDate>Fri, 03 Jan 2020 13:14:34 GMT</lastBuildDate><item><title><![CDATA[2019å¹´å°ç»“]]></title><description><![CDATA[2019 å¹´ï¼Œè¿˜ç®—æ¯”è¾ƒå……å®ã€‚æŒ‰ç…§å¹´åˆå®šçš„ç›®æ ‡ï¼Œå¤§éƒ¨åˆ†å®Œæˆäº†ï¼Œé™¤äº† 12 ç¯‡æ–‡ç« ï¼Œç›®å‰åªå®Œæˆäº† 9 ç¯‡ã€‚Blog ä½¿ç”¨ gastby é‡æ„å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³• ã€è¯»äº† 4 æœ¬ä¹¦ç±å’Œä¸€ä¸ªä¸“æ ã€‘å­¦ä¹ äº†è§£ flutterã€å†™äº† 2 ä¸ª demoï¼Œåšäº†ä¸€ä¸ªåˆ†äº«ï¼Œå†™äº†ä¸‰ç¯‡æ–‡ç« ã€‘é˜…è¯» 1â€¦]]></description><link>https://snayan.github.io//post/2020/summary_of_2019/</link><guid isPermaLink="false">https://snayan.github.io//post/2020/summary_of_2019/</guid><pubDate>Fri, 03 Jan 2020 19:30:00 GMT</pubDate><content:encoded>&lt;p&gt;2019 å¹´ï¼Œè¿˜ç®—æ¯”è¾ƒå……å®ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          ç›®æ ‡
        &lt;/h2&gt;
      
&lt;p&gt;æŒ‰ç…§å¹´åˆå®šçš„ç›®æ ‡ï¼Œå¤§éƒ¨åˆ†å®Œæˆäº†ï¼Œé™¤äº† 12 ç¯‡æ–‡ç« ï¼Œç›®å‰åªå®Œæˆäº† 9 ç¯‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li class=&quot;task-list-item&quot;&gt;
&lt;p&gt;&lt;input type=&quot;checkbox&quot; checked disabled&gt; Blog ä½¿ç”¨ gastby é‡æ„&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;task-list-item&quot;&gt;
&lt;p&gt;&lt;input type=&quot;checkbox&quot; checked disabled&gt; å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³• ã€è¯»äº† 4 æœ¬ä¹¦ç±å’Œä¸€ä¸ªä¸“æ ã€‘&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;task-list-item&quot;&gt;
&lt;p&gt;&lt;input type=&quot;checkbox&quot; checked disabled&gt; å­¦ä¹ äº†è§£ flutterã€å†™äº† 2 ä¸ª demoï¼Œåšäº†ä¸€ä¸ªåˆ†äº«ï¼Œå†™äº†ä¸‰ç¯‡æ–‡ç« ã€‘&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;task-list-item&quot;&gt;
&lt;p&gt;&lt;input type=&quot;checkbox&quot; checked disabled&gt; é˜…è¯» 12 æœ¬&lt;a href=&quot;https://github.com/snayan/bookLists#2019&quot;&gt;ä¹¦ç±&lt;/a&gt;ã€8 æœ¬ä¹¦ï¼Œ4 ä¸ªä¸“æ ã€‘&lt;/p&gt;
&lt;/li&gt;
&lt;li class=&quot;task-list-item&quot;&gt;
&lt;p&gt;&lt;input type=&quot;checkbox&quot; disabled&gt; å†™ 12 ç¯‡æ–‡ç« ã€åªå†™äº† 9 ç¯‡ï¼Œå·® 3 ç¯‡ã€‘&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          å­¦ä¹ 
        &lt;/h2&gt;
      
&lt;p&gt;ä»Šå¹´å…¬å¸æä¾›äº†å­¦ä¹ ç¦åˆ©ï¼Œå¯ä»¥è®¢é˜…ã€Œæå®¢æ—¶é—´ã€ä¸Šçš„å­¦ä¹ ä¸“æ ã€‚æˆ‘è®¢é˜…çš„ç¬¬ä¸€ç¯‡æ˜¯ã€Œæ•°æ®ç»“æ„å’Œç®—æ³•ä¹‹ç¾ã€ï¼Œæ„Ÿè§‰éå¸¸ä¸é”™ï¼Œä»¥è‡³äºåé¢éƒ½æ²¡æœ‰è´­ä¹°ä¹¦ç±ï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½èŠ±åœ¨ã€Œæå®¢æ—¶é—´ã€çš„ä¸“æ å­¦ä¹ ä¸Šã€‚ä»æˆ‘è®¢é˜…çš„å‡ ç¯‡æ¥è¯´ï¼Œæœ‰äº›ä¸“æ è´¨é‡ä¸è¡Œï¼Œæœ‰äº›å´éå¸¸ä¸é”™ï¼Œå»ºè®®è®¢é˜…è´­ä¹°äººæ•°å¤šçš„ã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œæ˜¯æˆ‘ä»Šå¹´èŠ±çš„æ¯”è¾ƒå¤šçš„æ—¶é—´å»å­¦ä¹ çš„ã€‚å› ä¸ºå®ƒå®åœ¨æ˜¯å¤ªé‡è¦äº†ï¼Œå¤ªåŸºç¡€äº†ã€‚ã€Œæ•°æ®ç»“æ„å’Œç®—æ³•ä¹‹ç¾ã€ä¸“æ ä¸­éƒ¨åˆ†ä¼˜è´¨å†…å®¹è¯»äº† 2 éï¼Œä¹Ÿè´­ä¹°äº† 4 æœ¬ä¹¦ç±ã€‚è‡ªå·±ä¹Ÿå»ºäº†ä¸€ä¸ª repoï¼Œã€Œ&lt;a href=&quot;https://github.com/snayan/algorithm-demo&quot;&gt;algorithm-demo&lt;/a&gt;ã€ï¼ŒåŠ¨æ‰‹å®ç°äº†å¾ˆå¤šçš„é¢˜ç›®ã€‚ç°åœ¨æ„Ÿè§‰åˆå¿˜çš„å·®ä¸å¤šäº† ğŸ˜­ã€‚&lt;/p&gt;
&lt;p&gt;flutter æ˜¯ä¸‹åŠå¹´å¼€å§‹å­¦ä¹ çš„ã€‚è¡Œä¸šå†…ï¼Œå®ƒçš„çƒ­åº¦å¤ªé«˜ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿå»å­¦ä¹ äº†è§£äº†ä¸€ä¸‹ï¼Œè®°å½•äº†ä¸€äº›&lt;a href=&quot;https://snayan.github.io/search?query=flutter&quot;&gt;å­¦ä¹ ç¬”è®°&lt;/a&gt;ï¼Œä¹Ÿå¼€å‘äº†ä¸€ä¸ªå°çš„&lt;a href=&quot;https://github.com/snayan/flutter_juejin&quot;&gt;demo&lt;/a&gt;ã€‚å¯¹äºå¼€å‘è·¨å¹³å°ä¸šåŠ¡æ¥è¯´ï¼Œå®ƒç¡®å®ä¸é”™ã€‚æ„Ÿè§‰æ¥è¯´ï¼Œå®ƒå¯èƒ½æ›´é€‚åˆç§»åŠ¨ç«¯å¼€å‘è€…å»ä½¿ç”¨ï¼Œå› ä¸ºä¸€äº›æ€§èƒ½è°ƒä¼˜æˆ–è€…ç³»ç»Ÿ bugï¼Œç§»åŠ¨ç«¯å¼€å‘è€…æ›´åŠ ç†Ÿæ‚‰ã€‚æˆ‘ä¼šç»§ç»­å…³æ³¨å®ƒã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–ä¸€äº›å†…å®¹ï¼Œå°±ç›¸å¯¹æ¯”è¾ƒé›¶æ•£ï¼Œéšä¾¿çœ‹äº†çœ‹ï¼Œæœ‰ã€ŒReact å®æˆ˜è¿›é˜¶ 45 è®²ã€ï¼Œã€Œè¶£è°ˆç½‘ç»œåè®®ã€ï¼Œã€Œæ›´äº†ä¸èµ·çš„ NodeJs å·ä¸€ã€ã€‚&lt;/p&gt;
&lt;p&gt;å¤§æ¦‚ 6 æœˆä»½å¼€å§‹å¯åŠ¨ gastby é‡æ„è‡ªå·±çš„ blog ç³»ç»Ÿï¼Œæ–­æ–­ç»­ç»­ï¼Œç»ˆäºå®Œæˆã€‚12 æœˆä»½ï¼Œåˆå¢åŠ äº† table of contentï¼Œæ¯ç¯‡æ–‡ç« éƒ½æœ‰è‡ªåŠ¨ç”Ÿæˆæ–‡ç« ç›®å½•ï¼Œæ„Ÿè§‰ä¸é”™ã€‚ç”¨ gastby é‡æ„ï¼Œæ˜¯å› ä¸º gastby ä½¿ç”¨çš„æ˜¯ react æŠ€æœ¯æ ˆï¼Œè€Œè‡ªå·±åˆæ¯”è¾ƒç†Ÿæ‚‰å®ƒï¼Œå¹¶ä¸”ç›¸å¯¹ hexo è€Œè¨€ï¼Œgastby è‡ªç”±å¤ªå¤šã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          å·¥ä½œ
        &lt;/h2&gt;
      
&lt;p&gt;å·¥ä½œä¸Šï¼ŒçœŸå¿ƒè§‰å¾—æˆ‘ä»¬å°ç»„ä¸é”™ï¼Œåšçš„ä¸€äº›äº‹å„¿ä¹Ÿå¾ˆæœ‰æ„æ€ï¼Œæœ‰æ¸¸æˆå¼•æ“ç›¸å…³ï¼Œæ¸¸æˆå¹³å°ç›¸å…³ï¼Œå¾®å‰ç«¯ç›¸å…³ï¼ŒCLI è„šæ‰‹æ¶ç›¸å…³ç­‰ã€‚ç›®å‰æˆ‘ä¸»è¦æ˜¯åœ¨å¼€å‘å’Œç»´æŠ¤ CLI è„šæ‰‹æ¶ï¼Œæä¾›å¿«é€Ÿåˆ›å»º Vue å’Œ React é¡¹ç›®ï¼Œå±è”½ç¹ççš„ä¸šåŠ¡é…ç½®å’Œå·¥ç¨‹é…ç½®å·¥ä½œï¼Œä¹Ÿæœ‰å‚ä¸åˆ°æ¸¸æˆå¹³å°åŸºç¡€ç»„ä»¶åº“çš„å¼€å‘å·¥ä½œã€‚å¦‚æœä½ æ‰“ç®—è€ƒè™‘æ–°æœºä¼šï¼Œä¸å¦¨æ¥æˆ‘ä»¬ç»„ç©ç©ï¼Œå¯ä»¥é€šè¿‡é‚®ç®±&lt;a href=&quot;mailto:%20snayan@sina.com&quot;&gt;snayan@sina.com&lt;/a&gt;æ‰¾æˆ‘å†…æ¨ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-4&apos; &gt;
          ç”Ÿæ´»
        &lt;/h2&gt;
      
&lt;p&gt;ç”Ÿæ´»ä¸Šï¼Œæ²¡æœ‰ä»€ä¹ˆå¤ªå¤§çš„å˜åŒ–ã€‚å¤šäº† 2 ä¸ªèº«ä»½ï¼Œå¤šäº† 2 ä»½è´£ä»»ã€‚ä¸€åˆ‡éƒ½æ˜¯æ–°çš„å¼€å§‹ï¼Œæˆ‘ä¼šåŠªåŠ›èå…¥è§’è‰²ï¼Œå¸Œæœ›ä½ ä»¬å¤šå¤šåŒ…æ¶µã€‚&lt;/p&gt;
&lt;p&gt;å¿ƒæ€ä¸Šï¼Œæ„Ÿè§‰è‡ªå·±æ›´åŠ å¹³ç¨³ä¸€äº›äº†ï¼Œè®°å¾—æœ‰ä¸€å¥è¯æ˜¯è¿™ä¹ˆè¯´çš„&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸–ç•Œä¸Šåªæœ‰ä¸€ç§çœŸæ­£çš„è‹±é›„ä¸»ä¹‰ï¼Œå°±æ˜¯è®¤æ¸…äº†ç”Ÿæ´»çš„çœŸç›¸åè¿˜ä¾ç„¶çƒ­çˆ±å®ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ„¿ 2020ï¼Œçˆ±ä½ çˆ±ä½ ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[flutter å­¦ä¹ å°ç»“ï¼ˆä¸‰ï¼‰]]></title><description><![CDATA[ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº† flutter ä¸­ä¸‰ä¸ªä¸»è¦çš„ widgetï¼Œåˆ†åˆ«æ˜¯ StatelessWidgetï¼ŒStatefulWidgetï¼Œå’Œ RenderObjectWidgetï¼›ä¹Ÿç®€å•ä»‹ç»äº† Widgetï¼ŒElement å’Œ RenderObjectâ€¦]]></description><link>https://snayan.github.io//post/2019/flutter-learn-3/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/flutter-learn-3/</guid><pubDate>Sat, 30 Nov 2019 17:22:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;/post/2019/flutter-learn-2&quot;&gt;ä¸Šä¸€ç¯‡æ–‡ç« &lt;/a&gt;ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº† flutter ä¸­ä¸‰ä¸ªä¸»è¦çš„ widgetï¼Œåˆ†åˆ«æ˜¯ StatelessWidgetï¼ŒStatefulWidgetï¼Œå’Œ RenderObjectWidgetï¼›ä¹Ÿç®€å•ä»‹ç»äº† Widgetï¼ŒElement å’Œ RenderObject ä¹‹é—´çš„å…³ç³»ã€‚è¿™ä¸€ç¯‡ï¼Œå°†ä»‹ç»å¦‚ä½•åœ¨ flutter åº”ç”¨ä¸­è¿›è¡ŒçŠ¶æ€ç®¡ç†ä»¥åŠå…¶åŸºæœ¬çš„åŸç†ã€‚&lt;/p&gt;
&lt;p&gt;çŠ¶æ€ç®¡ç†ï¼Œå®é™…ä¸Šå°±æ˜¯å¯¹æ•°æ®çš„ç®¡ç†ï¼Œè¿™äº›æ•°æ®å¯ä»¥æ˜¯ä¸ç”¨æˆ·äº¤äº’çš„æ•°æ®ï¼Œç½‘ç»œè¯·æ±‚çš„æ•°æ®ï¼Œæˆ–è€…å½“å‰åŠ¨ç”»çš„çŠ¶æ€æ•°æ®ã€‚åœ¨è¿›è¡ŒçŠ¶æ€ç®¡ç†æ—¶ï¼Œéœ€è¦æ ¹æ®å½“å‰çŠ¶æ€çš„å½±å“èŒƒå›´æ¥å†³å®šå…¶ç®¡ç†æ–¹å¼ã€‚ä¸€èˆ¬æ˜¯ã€Œå°±è¿‘åŸåˆ™ã€ï¼Œå°±æ˜¯æŠŠçŠ¶æ€æ”¾åœ¨è·ç¦»ä½¿ç”¨å®ƒæœ€è¿‘çš„åœ°æ–¹ç»´æŠ¤ã€‚å¯¹äºç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼ˆlocal stateï¼‰ï¼Œæ”¾åœ¨ç»„ä»¶å†…éƒ¨ç»´æŠ¤å°±å¥½äº†ï¼›å¯¹äºå¤šä¸ªç»„ä»¶éœ€è¦å…±åŒä½¿ç”¨çš„çŠ¶æ€ï¼ˆshared stateï¼‰ï¼Œå°±å°†å®ƒæ”¾åœ¨æœ€è¿‘å…¬å…±ç¥–å…ˆä¸­æ¥ç»´æŠ¤ï¼›å¯¹äºå…¨å±€çŠ¶æ€ï¼ˆglobal stateï¼‰ï¼Œä¸€èˆ¬æ”¾åœ¨ app å…¨å±€çŠ¶æ€ä¸­ç»´æŠ¤ã€‚ç°åœ¨å¾ˆå¤š react å¼€å‘è€…ï¼Œæåˆ°çŠ¶æ€ç®¡ç†ï¼Œå°±æ˜¯ä½¿ç”¨ redux æ”¾åœ¨å…¨å±€ç®¡ç†ï¼Œä¹Ÿä¸ç®¡è¿™äº›æ•°æ®çš„ä½¿ç”¨åœºæ™¯ã€‚è¿™æ ·åšï¼Œé€šå¸¸ä¼šå¯¼è‡´å…¨å±€çŠ¶æ€æ··ä¹±ä¸”ä¸å¥½ç»´æŠ¤ï¼Œè€Œä¸”ä¹Ÿä¼šé€ æˆä¸€äº›æ¸²æŸ“æ–¹é¢çš„æ€§èƒ½é—®é¢˜ï¼Œæ˜¯éå¸¸ä¸å»ºè®®çš„ã€‚åœ¨ flutter åº”ç”¨ä¸­ï¼ŒåŸºæœ¬åŸåˆ™è·Ÿ react æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡å…·ä½“å®ç°æ–¹å¼ç•¥æœ‰å·®å¼‚è€Œå·²ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          çŠ¶æ€ç®¡ç†
        &lt;/h2&gt;
      

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          local state
        &lt;/h3&gt;
      
&lt;p&gt;å¯¹äºç»„ä»¶å†…éƒ¨çš„çŠ¶æ€ï¼Œå…¶ä»–åœ°æ–¹æ ¹æœ¬ä¸å…³å¿ƒå®ƒï¼Œä¹Ÿä¸ä½¿ç”¨å®ƒæ—¶ï¼Œç›´æ¥å°†å®ƒä»¬æ”¾åœ¨ç»„ä»¶å†…éƒ¨ç»´æŠ¤å°±å¥½äº†ã€‚è¿™æ ·ä¸ä»…å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨å®ƒï¼Œä¹Ÿä¿è¯äº†å®ƒä¸è¢«å¤–éƒ¨æ±¡æŸ“æˆ–è€…æ”¹å˜ã€‚ä»è®¾è®¡æ¨¡å¼ä¸Šæ¥è¯´ï¼Œå‡å°‘äº†ç»„ä»¶çš„å¤–éƒ¨ä¾èµ–ï¼Œå¢åŠ ç»„ä»¶çš„å†…èšæ€§ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ flutter ä¸­ï¼Œä½¿ç”¨ StatefulWidget æ¥åˆ›å»ºå’Œç»´æŠ¤çŠ¶æ€ã€‚åœ¨ä¸Šä¸€ç¯‡ã€Œ&lt;a href=&quot;/post/2019/flutter-learn-2&quot;&gt;flutter å­¦ä¹ å°ç»“ï¼ˆäºŒï¼‰&lt;/a&gt;ã€ä¸­ï¼Œè¯¦ç»†ä»‹ç»äº† StatefulWidget å’Œ Stateï¼Œä»¥åŠå…¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StateDemo&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StatefulWidget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  StateDemoState &lt;span class=&quot;token function&quot;&gt;createState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;StateDemoState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StateDemoState&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;StateDemo&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// state&lt;/span&gt;
  int _count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_increment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// setStateä¼šå¯¹å½“å‰ç»„ä»¶æ‰§è¡Œrebuild&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      _count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  Widget &lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      mainAxisAlignment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MainAxisAlignment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;center&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      children&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Widget&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;$_count&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;RaisedButton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          onPressed&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; _increment&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          child&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Icon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Icons&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;add&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ State å†…éƒ¨æœ‰ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;_count&lt;/code&gt;æ•°æ®ï¼Œæ¯æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œéƒ½ä¼šå°†å®ƒåŠ  1ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          shared state
        &lt;/h3&gt;
      
&lt;p&gt;å¦‚æœæœ‰å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«æŸäº›çŠ¶æ€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†éœ€è¦å…±äº«çš„çŠ¶æ€æå‡åˆ°å®ƒä»¬çš„æœ€è¿‘çš„ä¸Šå±‚ç»„ä»¶ä¸­å»ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç»„ä»¶ä¸ä¸Šå±‚ç»„ä»¶æ˜¯ç›´æ¥çˆ¶å­å…³ç³»ï¼Œé‚£ä¹ˆçˆ¶ç»„ä»¶å¯ä»¥å°†è¿™äº›çŠ¶æ€ä»¥åŠæ”¹å˜çŠ¶æ€çš„æ–¹æ³•ä¼ é€’åˆ°å­ç»„ä»¶ä¸­ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°ä¾‹å­ä¸­&lt;code class=&quot;language-text&quot;&gt;_count&lt;/code&gt;ä»¥åŠ&lt;code class=&quot;language-text&quot;&gt;_increment&lt;/code&gt;ç›´æ¥ä¼ é€’ç»™ä¸¤ä¸ªå­ç»„ä»¶ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// ä¸Šè¿°StateDemoState&lt;/span&gt;
&lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
Widget &lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    mainAxisAlignment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MainAxisAlignment&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;center&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    children&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Widget&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;Child1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; _increment&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;Child2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;_count&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å½“ç»„ä»¶ä¸ä¸Šå±‚ç»„ä»¶ä¸­é—´æœ‰å¤šå±‚ç»„ä»¶ï¼Œå®ƒä»¬æ˜¯ç¥–å…ˆä¸å­å­™å…³ç³»æ—¶ï¼Œå¦‚æœè¿˜æ˜¯é€šè¿‡ä¸Šé¢è¿™æ ·å±‚å±‚ä¼ é€’ï¼Œå°±ä¼šæ˜¾å¾—ååˆ†ç¹çï¼Œé‚£æˆ‘ä»¬èƒ½ä¸èƒ½ä½¿å¾—å­å­™ç»„ä»¶å¯ä»¥ç›´æ¥è·å–ç¥–å…ˆçš„æ•°æ®ï¼Œå¹¶ä¸”ç¥–å…ˆæ•°æ®æ”¹å˜äº†ï¼Œè‡ªåŠ¨æ›´æ–°å­å­™ç»„ä»¶å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;react ä¸­æ˜¯æä¾›äº† Context çš„æ–¹å¼ï¼Œå°†å…±äº«æ•°æ®æ”¾åœ¨ Context ç»„ä»¶ä¸­ï¼Œå®ƒçš„æ‰€æœ‰å­çº§ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;contextType&lt;/code&gt;æˆ–è€…&lt;code class=&quot;language-text&quot;&gt;Consumer&lt;/code&gt;æ¥è·å¾—å…±äº«æ•°æ®ï¼Œå…·ä½“ç»†èŠ‚å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://reactjs.org/docs/context.html&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ã€‚åœ¨ flutter ä¸­ï¼Œå¯ä»¥æœ‰å¦‚ä¸‹æ–¹æ¡ˆå¯ä»¥é€‰æ‹©ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;flutter æä¾›çš„åŸºç¡€ Widgetï¼ŒåŒ…æ‹¬ InheritedWidgetï¼ŒInheritedModel&lt;/li&gt;
&lt;li&gt;flutter å®˜æ–¹æä¾›çš„åº“ï¼ŒProvideï¼Œ&lt;/li&gt;
&lt;li&gt;ç¤¾åŒºå®ç°çš„åº“ï¼ŒåŒ…æ‹¬ Blocï¼ŒReduxï¼ŒMobxï¼ŒScoped Model ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æˆ‘ä»¬ä¼šåœ¨ä¸‹é¢è¯¦ç»†è®¨è®º InheritedWidgetï¼ŒInheritedModelï¼ŒProvider çš„å®ç°ï¼Œè‡³äºç¤¾åŒºæä¾›çš„æ–¹æ¡ˆï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å»äº†è§£ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          global state
        &lt;/h3&gt;
      
&lt;p&gt;å…¨å±€çŠ¶æ€æ˜¯ä¸€ç§ç‰¹æ®Šçš„å…±äº«çŠ¶æ€ï¼Œå®ƒå°†çŠ¶æ€æ”¾åœ¨ app æ ¹ç»„ä»¶ä¸­å»ç»´æŠ¤ï¼Œä½¿å¾—æ•´ä¸ª app çš„æ‰€æœ‰å­ç»„ä»¶éƒ½å¯ä»¥è·å–åˆ°ï¼Œæ‰€ä»¥å®ƒçš„å¤„ç†æ–¹æ¡ˆè·Ÿ share state ä¸­ä¸€æ ·ã€‚ä¸€èˆ¬çš„å…¨å±€çŠ¶æ€æœ‰ app ä¸»é¢˜ï¼Œè¯­è¨€ï¼Œæˆ–å…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰è®¾ç½®ç­‰ã€‚ä¸‹é¢æˆ‘ä»¬èŠèŠ flutter ä¸­çŠ¶æ€ç®¡ç†çš„å®ç°åŸç†ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          InheritedWidget
        &lt;/h2&gt;
      
&lt;p&gt;æˆ‘ä»¬å‰é¢åªèŠäº† flutter ä¸­ StatelessWidgetï¼ŒStatefulWidgetï¼Œå’Œ RenderObjectWidgetã€‚è¿™é‡Œï¼Œæˆ‘ä»¬æ¥è¯¦ç»†èŠèŠ flutter å¦ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„ Widgetï¼ŒInheritedWidgetã€‚&lt;/p&gt;
&lt;p&gt;InheritedWidget çš„ä¸»è¦ä½œç”¨å°±æ˜¯å¯ä»¥ç›´æ¥å°†æ•°æ®ä¼ é€’ç»™å­æ ‘ä¸‹é¢çš„ä»»æ„å­ç»„ä»¶ï¼Œå¹¶ä¸”å½“æ•°æ®å˜äº†æ—¶ï¼Œå­ç»„ä»¶ä¼šè‡ªåŠ¨æ›´æ–°ã€‚å½“åœ¨ä¸€æ£µ Widget tree ä¸­ï¼Œå­ç»„ä»¶å¯ä»¥é€šè¿‡ BuildContext.dependOnInheritedWidgetOfExactType æ¥è·å–æœ€è¿‘çš„ InheritedWidget æ•°æ®ï¼ˆåœ¨ flutter1.12.1 ä¹‹å‰æ˜¯ä½¿ç”¨ BuildContext.inheritFromWidgetOfExactTypeï¼‰ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// InheritedWidgetæºç &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedWidget&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ProxyWidget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;InheritedWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Key key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Widget child &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  InheritedElement &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;InheritedElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  bool &lt;span class=&quot;token function&quot;&gt;updateShouldNotify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;covariant InheritedWidget oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;InheritedWidget ä¸å…¶ä»– Widget ä¸åŒä¹‹å¤„æ˜¯ï¼Œå¤šå‡ºäº†ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;updateShouldNotify&lt;/code&gt;æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦å­ç±»å»å®ç°ã€‚æ¯å½“ rebuild æ—¶ï¼Œåˆ™ä¼šæ ¹æ®&lt;code class=&quot;language-text&quot;&gt;updateShouldNotify&lt;/code&gt;è¿”å›çš„å€¼å»å†³å®šæ˜¯å¦éœ€è¦å¯¹ä¾èµ–å®ƒçš„å­ç»„ä»¶åšæ›´æ–°ã€‚ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨ InheritedWidget æ¥å®ç°ä¸Šé¢ count çš„ä¾‹å­ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// å› ä¸ºWidgetæ˜¯immutableçš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨StatefulWidgetæ¥å­˜å‚¨æ•°æ®&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CountProvider&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StatefulWidget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Widget child&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;CountProvider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  State&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;CountProvider&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;CountProviderState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// é€šè¿‡CountProvider.of(context)å°±å¯ä»¥è·å–InheritedWidgetä¸Šçš„æ•°æ®äº†&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; ShareDataWidget &lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dependOnInheritedWidgetOfExactType&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ShareDataWidget&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/// Stateç”¨äºä¿å­˜æ•°æ®ï¼Œå¹¶ä¸”æ›´æ–°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CountProviderState&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;CountProvider&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  int _count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_incrementCounter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      _count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  Widget &lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// éœ€è¦å°†æ•°æ®å’Œæ›´æ–°æ–¹æ³•ä¼ é€’ç»™InheritedWidgetï¼Œ&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å› ä¸ºå­å­™ç»„ä»¶åªèƒ½è·å–åˆ°InheritedWidgetï¼Œè€ŒéStatefulWidgetå’ŒState&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ShareDataWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      child&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;widget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      count&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; _count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      add&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; _incrementCounter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/// å®ç°InheritedWidget&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ShareDataWidget&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedWidget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; int count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; VoidCallback add&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// é€šè¿‡æ„é€ å‡½æ•°æ¥å—éœ€è¦å…±äº«çš„æ•°æ®å’Œæ–¹æ³•&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ShareDataWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Key key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token metadata symbol&quot;&gt;@required&lt;/span&gt; Widget child&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;add&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  bool &lt;span class=&quot;token function&quot;&gt;updateShouldNotify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ShareDataWidget oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å½“countä¸æƒ³ç­‰æ—¶ï¼Œéœ€è¦é€šçŸ¥å­å­™ç»„ä»¶æ›´æ–°ï¼Œ&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å¦‚æœcountç›¸ç­‰ï¼Œåˆ™å­å­™ç»„ä»¶ä¸éœ€è¦æ›´æ–°&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; oldWidget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚æœè¿›ä¸€æ­¥æ·±ç©¶åŸç†ï¼Œæˆ‘ä»¬éœ€è¦å›ç­”å¦‚ä¸‹ 2 ä¸ªé—®é¢˜ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;dependOnInheritedWidgetOfExactType æ˜¯å¦‚ä½•æ‰¾åˆ° InheritedWidget çš„ï¼Ÿ&lt;/li&gt;
&lt;li&gt;updateShouldNotify æ˜¯å¦‚ä½•æ§åˆ¶å­å­™ç»„ä»¶æ›´æ–°çš„ï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥é€šè¿‡åˆ†ææºç ä¸€æ­¥ä¸€æ­¥å›ç­”ä¸Šé¢çš„é—®é¢˜ã€‚æˆ‘ä»¬çŸ¥é“ context å®é™…ä¸Šå°±æ˜¯ elementï¼Œåœ¨ element ä¸Šè°ƒç”¨ dependOnInheritedWidgetOfExactType å°±å¯ä»¥å–å‡ºæŒ‡å®šçš„ InheritedWidgetï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;/// Elementç±»&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Element&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DiagnosticableTree&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BuildContext&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// çœç•¥å…¶ä»–&lt;/span&gt;

  Map&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; InheritedElement&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; _inheritedWidgets&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  Set&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InheritedElement&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; _dependencies&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  InheritedWidget &lt;span class=&quot;token function&quot;&gt;dependOnInheritedElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;InheritedElement ancestor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Object aspect &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ancestor &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å…ˆå®ä¾‹åŒ–ä¸€ä¸ªSet&lt;/span&gt;
    _dependencies &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HashSet&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InheritedElement&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å°†ç¥–å…ˆInheritedElementåŠ å…¥åˆ°_dependenciesä¸­&lt;/span&gt;
    _dependencies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ancestor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// è°ƒç”¨ç»„å…ˆupdateDependenciesï¼Œå°†å½“å‰elementåŠ å…¥åˆ°ç¥–å…ˆçš„_dependenciesä¸­&lt;/span&gt;
    ancestor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateDependencies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; aspect&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// è¿”å›ç¥–å…ˆInheritedElementå…³è”çš„widget&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ancestor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;widget&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  T dependOnInheritedWidgetOfExactType&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedWidget&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Object aspect&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å…ˆæ‰¾åˆ°ç¥–å…ˆInheritedElement&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; InheritedElement ancestor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _inheritedWidgets &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; _inheritedWidgets&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ancestor &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/// æ³¨å†Œä¾èµ–é¡¹ï¼Œå¹¶è¿”å›å¯¹åº”çš„InheritedWidget&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dependOnInheritedElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ancestor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; aspect&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; aspect&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    _hadUnsatisfiedDependencies &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®ƒä¼šé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;_inheritedWidgets&lt;/code&gt;å–å‡ºå¯¹åº”ç±»å‹çš„ç¥–å…ˆ InheritedElementï¼Œæ¥ç€ä¼šæ‰§è¡Œå¦‚ä¸‹æ­¥éª¤ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”Ÿæˆä¸€ä¸ª Set å®ä¾‹ï¼Œå­˜æ”¾ä¾èµ–é¡¹&lt;/li&gt;
&lt;li&gt;å°†ç»„å…ˆ InheritedElement åŠ å…¥åˆ°å½“å‰çš„_dependencies ä¸­&lt;/li&gt;
&lt;li&gt;å°†å½“å‰ element åŠ å…¥åˆ°ç»„å…ˆ InheritedElement çš„_dependencies ä¸­&lt;/li&gt;
&lt;li&gt;è¿”å›ç¥–å…ˆ InheritedElement å…³è”çš„ Widget&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¥–å…ˆ InheritedElement å’Œå­å­™ Element ç›¸äº’æŠŠå¯¹æ–¹åŠ å…¥åˆ°è‡ªå·±çš„_dependencies ä¸­ã€‚é‚£ä¹ˆå­å­™ Element æ˜¯ä½•æ—¶å°†ç¥–å…ˆ InheritedElement åŠ å…¥åˆ°è‡ªå·±çš„&lt;code class=&quot;language-text&quot;&gt;_inheritedWidgets&lt;/code&gt;çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;/// Elementç±»&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Element&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DiagnosticableTree&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BuildContext&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// çœç•¥å…¶ä»–&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;_updateInheritance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;activate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;_updateInheritance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// ä¸€èˆ¬elementï¼Œåªæ˜¯ä½¿ç”¨parent elementçš„_inheritedWidgets&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// ä½†æ˜¯ï¼ŒInheritedElementä¼šé‡å†™_updateInheritanceæ–¹æ³•&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_updateInheritance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    _inheritedWidgets &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _parent&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_inheritedWidgets&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/// InheritedElementä¼šé‡å†™_updateInheritanceæ–¹æ³•&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedElement&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ProxyElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// å¿½ç•¥å…¶ä»–&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_updateInheritance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å…ˆå–çˆ¶çº§elementçš„_inheritedWidgets&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; Map&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; InheritedElement&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; incomingWidgets &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _parent&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_inheritedWidgets&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;incomingWidgets &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      _inheritedWidgets &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HashMap&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; InheritedElement&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;incomingWidgets&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
      _inheritedWidgets &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; HashMap&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; InheritedElement&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;/// æœ€åï¼Œå°†è‡ªå·±åŠ è¿›å»&lt;/span&gt;
    _inheritedWidgets&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;widget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;runtimeType&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;çœ‹ä¸Šé¢ä»£ç ï¼Œé€»è¾‘å°±å¾ˆç®€å•äº†ï¼Œæ¯æ¬¡ element åœ¨&lt;code class=&quot;language-text&quot;&gt;mount&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;activate&lt;/code&gt;ä¼šæ›´æ–°&lt;code class=&quot;language-text&quot;&gt;_inheritedWidgets&lt;/code&gt;ã€‚å¯¹äºæ™®é€šçš„ elementï¼Œ&lt;code class=&quot;language-text&quot;&gt;_inheritedWidgets&lt;/code&gt;å°±æ˜¯å–çš„ parent element çš„&lt;code class=&quot;language-text&quot;&gt;_inheritedWidgets&lt;/code&gt;ã€‚ä¸€ç›´è¿™æ ·è¿­ä»£ï¼Œç›´åˆ°ç¢°åˆ°&lt;code class=&quot;language-text&quot;&gt;InheritedElement&lt;/code&gt;ï¼Œå®ƒä¼šå°†è‡ªå·±åŠ å…¥è¿›å»ã€‚å¦‚æœæœ‰ç›¸åŒç±»å‹çš„ InheritedElement çš„åµŒå¥—å…³ç³»ï¼Œåˆ™ä¼šç›´æ¥è¦†ç›–ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå­å­™ element åªèƒ½å–å¾—ç¦»å®ƒæœ€è¿‘çš„ä¸€ä¸ªç‰¹å®šç±»å‹çš„ InheritedElementï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ee960590297f3d3c06a9db6786a5b8cd/b70fd/inherited.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 471px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.167728237791934%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABm0lEQVQoz41SDU+jQBDt//895tpqoybnxcRcNFFDoTV3UGDB8rELWAr7wbvdNXD1colOMjvskH3z3szMoC0hCbabLaBgbRgGGxlj2HgbMMo+5Akh8DwPjuPY2Pf99H9WdwzVkYIeSlQdhVACo6lBoWop5GlOqQn4tMgEeH4/x/nPJRZ3c8zvvsH115BCQnCBosnxY/sdCSU2Z5js93skSYIwDLHb7eD7vr2PLGcxjRAWIYIsQFSGeDs2UzUuuc0deTvlzEPjQgjrnHMbR6Yzc8i+xaGm+J+Z/ik14CtmJRfrFdLnS5DHFTLnElnk6p5pdkb2IQf1VugqAiEHzYSjLEtQSlEUBfI8t15VFaSU7wwzZ4lsfYXcvUb6tARLX2AIGVDZlmj9G/AmhcaD0o/quraABtiAZllmt8HIniQPuld9e/hXgD3fmubDJD+VTFiM36+/4O5cEC1tHIrt7SDghS7a/m8xMwTjRuI4EPM9DeXiYYGL+6VenYVemzNsNPDp2ty+3CBlybQ2RmKapojjGFEUIQgCe++6zgL+ASFt/fVAX+0xAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ee960590297f3d3c06a9db6786a5b8cd/cc182/inherited.webp 148w,
/static/ee960590297f3d3c06a9db6786a5b8cd/f7e40/inherited.webp 295w,
/static/ee960590297f3d3c06a9db6786a5b8cd/0c9df/inherited.webp 471w&quot;
          sizes=&quot;(max-width: 471px) 100vw, 471px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ee960590297f3d3c06a9db6786a5b8cd/cf440/inherited.png 148w,
/static/ee960590297f3d3c06a9db6786a5b8cd/d2d38/inherited.png 295w,
/static/ee960590297f3d3c06a9db6786a5b8cd/b70fd/inherited.png 471w&quot;
          sizes=&quot;(max-width: 471px) 100vw, 471px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ee960590297f3d3c06a9db6786a5b8cd/b70fd/inherited.png&quot;
          alt=&quot;inherited&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å®é™…ä¸Šå·²ç»å›ç­”äº†ç¬¬ä¸€ä¸ªé—®é¢˜äº†ã€‚æˆ‘ä»¬å†æ¥çœ‹çœ‹ç¬¬äºŒä¸ªé—®é¢˜ï¼ŒupdateShouldNotify æ˜¯å¦‚ä½•æ§åˆ¶å­å­™ç»„ä»¶æ›´æ–°çš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ProxyElement&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ComponentElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// å¿½ç•¥å…¶ä»–çš„&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ProxyWidget newWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; ProxyWidget oldWidget &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; widget&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// ä¼šè°ƒç”¨InheritedElementçš„updated&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;updated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;covariant ProxyWidget oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;notifyClients&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;notifyClients&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;covariant ProxyWidget oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/// InheritedElement&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedElement&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ProxyElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// å¿½ç•¥å…¶ä»–çš„&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;notifyDependent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;covariant InheritedWidget oldWidget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Element dependent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å¯¹äºStatefulElementï¼ŒdidChangeDependenciesæ–¹æ³•ä¸­ä¼šè°ƒç”¨State.didChangeDependencies,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å¯¹äºå…¶ä»–elementï¼Œä¼šè°ƒç”¨markNeedsBuildï¼Œå®ç°rebuild&lt;/span&gt;
    dependent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;didChangeDependencies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// é‡å†™äº†Elementä¸­updatedæ–¹æ³•&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;InheritedWidget oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// é€šè¿‡updateShouldNotifyåˆ¤æ–­ï¼Œæ˜¯å¦éœ€è¦æ›´æ–°å­å­™element&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;widget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateShouldNotify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/// å†è°ƒç”¨ProxyElementçš„updatedï¼ŒProxyElementçš„updatedä¼šè°ƒç”¨notifyClients&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/// InheritedElementåˆé‡å†™äº†notifyClients&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updated&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// é‡å†™äº†Elementä¸­notifyClientsæ–¹æ³•&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;notifyClients&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;InheritedWidget oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// æˆ‘ä»¬ä¸Šé¢è¯´äº†InheritedElementå’Œå­å­™elementä¼šç›¸äº’å°†è‡ªå·±åŠ å…¥åˆ°å¯¹æ–¹çš„_dependentsä¸­&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// è¿™é‡Œå°±æ˜¯å¾ªç¯æ‰€æœ‰çš„å­å­™elementï¼Œç„¶åè°ƒç”¨å…¶didChangeDependencies&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Element dependent &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; _dependents&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;keys&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;notifyDependent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldWidget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dependent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Element æ¯æ¬¡ rebuildï¼Œæ›´æ–°å…¶ Widget ä¹‹åï¼Œéƒ½ä¼šè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;æ–¹æ³•ã€‚å¯¹äº ProxyElement è€Œè¨€ï¼Œå®ƒä¼šåœ¨&lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;æ–¹æ³•é‡Œé€šè¿‡è°ƒç”¨ InheritedElement çš„&lt;code class=&quot;language-text&quot;&gt;updated&lt;/code&gt;ï¼Œä»è€Œè°ƒç”¨ InheritedWidget çš„&lt;code class=&quot;language-text&quot;&gt;updateShouldNotify&lt;/code&gt;æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°å­å­™ Widgetã€‚è‡³æ­¤ï¼Œç¬¬äºŒä¸ªé—®é¢˜ä¹Ÿå·²å°½å›ç­”å®Œæ¯•ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          InheritedModel
        &lt;/h2&gt;
      
&lt;p&gt;InheritedModel æ˜¯ InheritedWidget çš„å­ç±»ï¼Œå®ƒå¯¹ InheritedWidget åšäº†è¿›ä¸€æ­¥çš„å°è£…ã€‚å½“&lt;code class=&quot;language-text&quot;&gt;updateShouldNotify&lt;/code&gt;è¿”å›&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;æ—¶ï¼ŒInheritedWidget ä¼šæ— æ¡ä»¶çš„å¯¹æ‰€æœ‰ä¾èµ–å®ƒçš„å­ç»„ä»¶æ‰§è¡Œ rebuildã€‚å¦‚æœæˆ‘ä»¬æƒ³å½“å…±äº«çš„æŸä¸€éƒ¨åˆ†æ•°æ®å˜äº†ï¼Œæ‰æ›´æ–°æˆ‘ä»¬çš„å­ç»„ä»¶ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ InheritedModel äº†ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å…±äº«çš„æ•°æ®æœ‰ a å’Œ bï¼Œåªæœ‰å½“ a å˜äº†ï¼Œæˆ‘ä»¬æ‰æ›´æ–°å­ç»„ä»¶ Childaï¼Œåªæœ‰å½“ b å˜äº†ï¼Œæˆ‘ä»¬æ‰æ›´æ–°å­ç»„ä»¶ Childbã€‚å¦‚æœæ˜¯ç”¨ InheritedWidget æ¥å®ç°ï¼Œåˆ™ä¸ç®¡ a å’Œ b å“ªä¸ªå˜äº†ï¼ŒChilda å’Œ Childb éƒ½ä¼šæ›´æ–°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ABModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedModel&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;String&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;ABModel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Widget child&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; int a&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; int b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// è·ŸInheritedWidgetä¸­updateShouldNotifyä¸€æ ·&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// å½“è¿”å›trueï¼Œç„¶åå†æ ¹æ®updateShouldNotifyDependentçš„è¿”å›å€¼ï¼Œå»å†³å®šæ˜¯å¦éœ€è¦å¯¹å­ç»„ä»¶æ‰§è¡Œrebuild&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  bool &lt;span class=&quot;token function&quot;&gt;updateShouldNotify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ABModel old&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; old&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; old&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// æ¯”InheritedWidgetå¤šäº†ä¸€ä¸ªåˆ¤æ–­æ­¥éª¤ï¼Œ&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// è¿™ä¸ªå°±æ˜¯æ ¹æ®æŒ‡å®šæ¡ä»¶å»åˆ¤æ–­ï¼Œæ˜¯å¦éœ€è¦å¯¹å­ç»„ä»¶æ‰§è¡Œrebuild&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  bool &lt;span class=&quot;token function&quot;&gt;updateShouldNotifyDependent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ABModel old&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Set&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;String&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; aspects&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; old&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; aspects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;a&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; old&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;b &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; aspects&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;b&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CountProvider&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StatefulWidget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// å¢åŠ aspectå‚æ•°ï¼Œ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; ABModel &lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;String aspect&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; InheritedModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;inheritFrom&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ABModel&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; aspect&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; aspect&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Childa&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StatelessWidget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  Widget &lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// åªæœ‰å½“aå˜äº†ï¼Œæ‰ä¼šå¯¹Childaæ‰§è¡Œrebuild&lt;/span&gt;
    ABModel state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; CountProvider&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; aspect&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;a&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Childb&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StatelessWidget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  Widget &lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// åªæœ‰å½“bå˜äº†ï¼Œæ‰ä¼šå¯¹Childbæ‰§è¡Œrebuild&lt;/span&gt;
    ABModel state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; CountProvider&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; aspect&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;b&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»æºç å®ç°çœ‹çœ‹ InheritedModel æ˜¯å¦‚ä½•åšåˆ°æŒ‡å®šæ•°æ®å˜äº†ï¼Œæ‰ä¼šæ›´æ–°å­ç»„ä»¶çš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// InheritedModelç»§æ‰¿InheritedWidget&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedModel&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedWidget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;InheritedModel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Key key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Widget child &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// å¿½ç•¥å…¶ä»–çš„&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  InheritedModelElement&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; InheritedModelElement&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// Return true if the changes between this model and [oldWidget] match any&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// of the [dependencies].&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  bool &lt;span class=&quot;token function&quot;&gt;updateShouldNotifyDependent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;covariant InheritedModel&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; oldWidget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Set&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; dependencies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;InheritedModel ç»§æ‰¿è‡³ InheritedWidgetï¼Œå¹¶æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;updateShouldNotifyDependent&lt;/code&gt;æ–¹æ³•ã€‚å®ƒä¼šåœ¨&lt;code class=&quot;language-text&quot;&gt;widget.updateShouldNotifyDependent&lt;/code&gt;è¿”å›&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;æ—¶è¢«è°ƒç”¨ï¼Œç„¶åæ ¹æ®å…¶ç»“æœï¼Œå†³å®šæ˜¯å¦éœ€è¦å¯¹å­ç»„ä»¶æ‰§è¡Œ rebuildã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// InheritedModelElementä¹Ÿç»§æ‰¿InheritedElement&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedModelElement&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InheritedElement&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// ...å¿½ç•¥å…¶ä»–çš„&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// notifyDependentåœ¨updateShouldNotifyè¿”å›trueæ—¶æ‰æ‰§è¡Œ&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;notifyDependent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;InheritedModel&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; oldWidget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Element dependent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; Set&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; dependencies &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getDependencies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dependent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dependencies &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// æ ¹æ®updateShouldNotifyDependentå†³å®šæ˜¯å¦éœ€è¦å¯¹å­ç»„ä»¶æ‰§è¡Œrebuild&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dependencies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isEmpty &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; widget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;updateShouldNotifyDependent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldWidget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dependencies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      dependent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;didChangeDependencies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;InheritedWidget æ˜¯è¾ƒåº•å±‚çš„èƒ½åŠ›ï¼ŒInheritedModel æ˜¯åœ¨å®ƒä¹‹ä¸Šåšäº†ä¸€äº›åŠŸèƒ½å¢å¼ºã€‚å¦‚æœæˆ‘ä»¬éœ€è¦è‡ªå·±å»å®ç°ä¸€äº›å…±äº«çŠ¶æ€é€»è¾‘å¤„ç†ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨ InheritedModelï¼Œè€Œé InheritedWidgetã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ flutter æä¾›çš„çŠ¶æ€ç®¡ç†åº“ï¼ŒProviderã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-4&apos; &gt;
          Provider
        &lt;/h2&gt;
      
&lt;p&gt;Provider çš„åº•å±‚å®ç°å®é™…ä¸Šå°±æ˜¯ä½¿ç”¨çš„ InheritedWidgetï¼Œåªä¸è¿‡å®ƒæä¾›äº†å¤šç§å½¢å¼çš„ä½¿ç”¨æ–¹å¼ï¼Œæ¯”å¦‚ Providerï¼ŒMultiProviderï¼ŒProxyProviderï¼Œè¯¦ç»†ä½¿ç”¨å¯ä»¥å‚è€ƒ&lt;a href=&quot;https://pub.dev/packages/provider&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ï¼Œè¿™é‡Œæˆ‘ä»¬è¯´ä¸€ä¸‹å®ƒçš„åŸºæœ¬å®ç°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Provider&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/// å¿½ç•¥å…¶ä»–çš„&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;/// åŒæ ·æä¾›äº†ofæ–¹æ³•ï¼Œå¢åŠ äº†listenå‚æ•°ï¼Œç”¨äºæ§åˆ¶æ˜¯å¦è‡ªåŠ¨æ›´æ–°å­ç»„ä»¶&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; T of&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;bool listen &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// this is required to get generic Type&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _typeOf&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;InheritedProvider&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å¦‚æœlistenä¸ºtrueï¼Œåˆ™è°ƒç”¨inheritFromWidgetOfExactTypeï¼Œå®ƒä¼šæ³¨å†Œå½“å‰InheritedWidgetå’Œå­å­™ç»„ä»¶äº’ä¸ºä¾èµ–é¡¹&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å¦åˆ™ï¼Œä½¿ç”¨ancestorInheritedElementForWidgetOfExactTypeï¼Œå®ƒåªæ˜¯ç®€å•çš„è·å–InheritedWidgetçš„æ•°æ®ï¼Œè€Œä¸ä¼šæ³¨å†Œä¾èµ–é¡¹&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; provider &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; listen
      &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;inheritFromWidgetOfExactType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;as&lt;/span&gt; InheritedProvider&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ancestorInheritedElementForWidgetOfExactType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;widget
        &lt;span class=&quot;token operator&quot;&gt;as&lt;/span&gt; InheritedProvider&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ProviderNotFoundError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;widget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;runtimeType&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; provider&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_value&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  Widget &lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// InheritedProviderå°±æ˜¯InheritedWidgetçš„å­ç±»&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// å¯ä»¥ä¼ é€’è‡ªå®šä¹‰çš„updateShouldNotify&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; InheritedProvider&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; delegate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      updateShouldNotify&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; updateShouldNotify&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      child&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h2 id=&apos;toc-2-5&apos; &gt;
          å°ç»“
        &lt;/h2&gt;
      
&lt;p&gt;flutter ä¸­çš„çŠ¶æ€ç®¡ç†ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ä¾èµ– InheritedWidget æ¥å®ç°çš„ã€‚æˆ‘ä»¬è¯¦ç»†åˆ—ä¸¾äº† flutter ä¸­å¸¸è§çš„å‡ ç§çŠ¶æ€ç®¡ç†åœºæ™¯ï¼Œä»¥åŠåœ¨è·¨å±‚å…±äº«æ•°æ®æ—¶çš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œå¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œè°¢è°¢ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-6&apos; &gt;
          å‚è€ƒ
        &lt;/h2&gt;
      
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://fireship.io/lessons/flutter-state-management-guide/&quot;&gt;Flutter State Management Guide&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.geekyants.com/state-management-in-flutter-7df833e6f3bd&quot;&gt;State Management in Flutter&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[flutter å­¦ä¹ å°ç»“ï¼ˆäºŒï¼‰]]></title><description><![CDATA[ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œå­¦ä¹ äº† flutter è·¨å¹³å°çš„ç‰¹æ€§ï¼Œä»¥åŠ dart çš„åŒ…ç®¡ç†å™¨ pubã€‚è¿™ä¸€ç¯‡ï¼Œæˆ‘ä»¬å°†è¯¦ç»†äº†è§£ flutter å¾ˆé‡è¦çš„ä¸€ä¸ªæ¦‚å¿µï¼Œwidgetã€‚flutter æ˜¯å“åº”å¼çš„ï¼Œå®ƒé€šè¿‡ç¼–ç¨‹æ–¹å¼å»å†™ UI é¡µé¢ï¼Œè€Œä¸æ˜¯åƒ html æˆ–è€… android ä¸­çš„ xmlâ€¦]]></description><link>https://snayan.github.io//post/2019/flutter-learn-2/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/flutter-learn-2/</guid><pubDate>Tue, 26 Nov 2019 20:31:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;/post/2019/flutter-learn-1&quot;&gt;ä¸Šä¸€ç¯‡æ–‡ç« &lt;/a&gt;ä¸­ï¼Œå­¦ä¹ äº† flutter è·¨å¹³å°çš„ç‰¹æ€§ï¼Œä»¥åŠ dart çš„åŒ…ç®¡ç†å™¨ pubã€‚è¿™ä¸€ç¯‡ï¼Œæˆ‘ä»¬å°†è¯¦ç»†äº†è§£ flutter å¾ˆé‡è¦çš„ä¸€ä¸ªæ¦‚å¿µï¼Œwidgetã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          ç»„ä»¶
        &lt;/h2&gt;
      
&lt;p&gt;flutter æ˜¯å“åº”å¼çš„ï¼Œå®ƒé€šè¿‡ç¼–ç¨‹æ–¹å¼å»å†™ UI é¡µé¢ï¼Œè€Œä¸æ˜¯åƒ html æˆ–è€… android ä¸­çš„ xml ç­‰æ¨¡ç‰ˆè¯­è¨€å»å®šä¹‰ UIã€‚å®ƒå€Ÿé‰´äº† Reactï¼Œä¹Ÿæ˜¯ä»¥ç»„ä»¶çš„æ–¹å¼å»å®šä¹‰ä¸€ä¸ªä¸€ä¸ª UI éƒ¨ä»¶ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Flutter widgets are built using a modern framework that takes inspiration from &lt;a href=&quot;https://reactjs.org/&quot;&gt;React&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          åˆ†ç±»
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨ flutter ä¸­ä¸€åˆ‡çš†æ˜¯ widgetã€‚æŒ‰ç…§çŠ¶æ€åˆ’åˆ†ï¼Œå¯ä»¥åˆ†ä¸º StatelessWidget å’Œ StatefulWidgetï¼Œä¸ React ä¸­çš„ Stateful Class Component å’Œ Stateless Function Component æ¯”è¾ƒç±»ä¼¼ï¼›æŒ‰ç…§åŠŸèƒ½åˆ’åˆ†ï¼Œåˆæœ‰ layout widgetï¼Œstyle widgetï¼Œcontent widgetï¼›æŒ‰ç…§ child æ¥å—å•ä¸ª widgetï¼Œæˆ–è€…å¤šä¸ª widgetï¼Œåˆæœ‰ SingleChildRenderObjectWidget å’Œ MultiChildRenderObjectWidgetã€‚å¸¸è§ widget å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;layout widgetï¼Œä¾‹å¦‚&lt;code class=&quot;language-text&quot;&gt;Scaffold&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;Row&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;Column&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;Container&lt;/code&gt;ç­‰ï¼›&lt;/li&gt;
&lt;li&gt;style widgetï¼Œä¾‹å¦‚&lt;code class=&quot;language-text&quot;&gt;Container&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;Padding&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;Center&lt;/code&gt;ç­‰ï¼›&lt;/li&gt;
&lt;li&gt;content widgetï¼Œä¾‹å¦‚&lt;code class=&quot;language-text&quot;&gt;Text&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;Image&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;RaisedButton&lt;/code&gt;ç­‰ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨å¼€å‘ flutter é¡µé¢æ—¶ï¼Œå¯ä»¥é€šè¿‡ç»„åˆå¤šä¸ª widgetï¼Œå®ç°ä¸€ä¸ªå¤æ‚æˆ–è€…ç‹¬ç«‹åŠŸèƒ½çš„è‡ªå®šä¹‰ widgetã€‚å¯¹äºæè¿°ä¸€ä¸ª widget çš„æ ·å¼æ—¶ï¼Œéœ€è¦ä½¿ç”¨æ ·å¼ widget è¿›è¡ŒåŒ…è£…ï¼Œæˆ–è€…æ›´æ”¹ widget æä¾›çš„æŸäº›æ ·å¼å±æ€§ï¼Œæ¯”å¦‚&lt;code class=&quot;language-text&quot;&gt;Container&lt;/code&gt;çš„&lt;code class=&quot;language-text&quot;&gt;padding&lt;/code&gt;å±æ€§ç­‰ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          å®ç°
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨å¼€å‘è‡ªå®šä¹‰ widget æ—¶ï¼Œä¸€èˆ¬éƒ½æ˜¯ç»§æ‰¿è‡ª StatelessWidgetï¼Œæˆ–è€… StatefulWidgetã€‚StatelessWidget å’Œ StatefulWidget åˆéƒ½æ˜¯ç»§æ‰¿è‡ª Widgetã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡æºç æ¥çœ‹çœ‹å®ƒä»¬çš„å®ç°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// åˆ—å‡ºä¸»è¦å®ç°ï¼Œå»æ‰äº†å…¶ä»–ä¸é‡è¦çš„å±æ€§æˆ–è€…æ–¹æ³•&lt;/span&gt;
&lt;span class=&quot;token metadata symbol&quot;&gt;@immutable&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Widget&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DiagnosticableTree&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Widget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; Key key&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  Element &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; bool &lt;span class=&quot;token function&quot;&gt;canUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Widget oldWidget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Widget newWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; oldWidget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;runtimeType &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; newWidget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;runtimeType
      &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; oldWidget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; newWidget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Widget æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸»è¦æœ‰ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;çš„æŠ½è±¡æ–¹æ³•å’Œ&lt;code class=&quot;language-text&quot;&gt;canUpdate&lt;/code&gt;çš„é™æ€æ–¹æ³•ã€‚&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;éœ€è¦ç”±ç»§æ‰¿å®ƒçš„å­ç±»æ¥å®ç°ï¼Œå¿…é¡»è¿”å›ä¸€ä¸ª Element å¯¹è±¡ï¼Œæ¯ä¸€ä¸ª widget éƒ½ä¼šæœ‰ä¸€ä¸ªå…³è”çš„ element å¯¹è±¡ï¼›åœ¨ Widget ä¸Šé¢æœ‰&lt;code class=&quot;language-text&quot;&gt;@immutable&lt;/code&gt;å£°æ˜ï¼Œæè¿° widget å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œå®ƒçš„å±æ€§éƒ½åº”è¯¥ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;final&lt;/code&gt;æ ‡è®°ï¼Œæ¯æ¬¡åš rebuild æ—¶ï¼Œéƒ½åªä¼šé‡æ–°åˆ›å»ºæ–°çš„ widget å¯¹è±¡ã€‚widget æ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯ element æ˜¯å¯å˜çš„ï¼Œå¯ä»¥æŠŠ widget çœ‹æˆæ˜¯ element çš„é™æ€é…ç½®ä¿¡æ¯ï¼Œæœ€ç»ˆæ˜¯ç”¨ element ä¿¡æ¯æ¥å®Œæˆæ¸²æŸ“çš„ã€‚ä¸ºäº†å°½å¯èƒ½å¤ç”¨ element å¯¹è±¡ï¼Œæ¯æ¬¡æ›´æ–°æ—¶éƒ½ä¼šå…ˆè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;canUpdate&lt;/code&gt;ï¼Œé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;runtimeType&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;æ¥æ¯”è¾ƒæ–°æ—§ widgetï¼Œå¦‚æœè¿”å› trueï¼Œåˆ™å¤ç”¨æ—§çš„ elementï¼Œå¹¶æ›´æ–° element çš„ widget ä¸ºæ–°çš„ widgetï¼Œå¦åˆ™è°ƒç”¨æ–°çš„ widget çš„&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;æ¥ç”Ÿæˆæ–°çš„ elementã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StatelessWidget&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Widget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;StatelessWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Key key &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  StatelessElement &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;StatelessElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  Widget &lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯¹äº StatelessWidget çš„å®ç°ï¼Œå®ƒç»§æ‰¿ Widgetï¼Œé‡å†™äº†&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;ç”¨äºç”Ÿæˆä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;StatelessElement&lt;/code&gt;ã€‚å®ƒè¿˜å£°æ˜äº†ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt;æ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;BuildContext&lt;/code&gt;å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª Widgetã€‚å®é™…ä¸Šï¼Œè¿™ä¸ª&lt;code class=&quot;language-text&quot;&gt;BuildContext&lt;/code&gt;å°±æ˜¯ä¸Šé¢é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;åˆ›å»ºçš„ Element å¯¹è±¡ï¼Œä¸‹é¢å°†ä¼šè§£é‡Šåˆ°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StatefulWidget&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Widget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;StatefulWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Key key &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  StatefulElement &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;StatefulElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  State &lt;span class=&quot;token function&quot;&gt;createState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯¹äº StatefulWidgetï¼Œå°±å¤æ‚ä¸€äº›äº†ã€‚å®ƒè·Ÿ StatelessWidget ä¸€æ ·ï¼Œç»§æ‰¿ Widgetï¼Œæä¾›ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;æ–¹æ³•ï¼Œä½†æ˜¯è¿”å›æ˜¯&lt;code class=&quot;language-text&quot;&gt;StatefulElement&lt;/code&gt;å¯¹è±¡ï¼›è·Ÿ StatelessWidget ä¸ä¸€æ ·çš„æ˜¯ï¼Œå®ƒæ²¡æœ‰å£°æ˜&lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt;æ–¹æ³•ï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;createState&lt;/code&gt;æ–¹æ³•ï¼Œç”Ÿæˆä¸€ä¸ª State å¯¹è±¡ã€‚å‰é¢è¯´è¿‡ï¼ŒWidget æ˜¯ä¸å¯å˜çš„ï¼Œæ¯æ¬¡ rebuild éƒ½ä¼šé”€æ¯å’Œé‡å»ºï¼Œæ‰€ä»¥çŠ¶æ€ä¸èƒ½ç›´æ¥æ”¾åœ¨ widget ä¸­ï¼Œè€Œæ˜¯éœ€è¦ç‹¬ç«‹å‡ºæ¥ï¼Œå…³è”åˆ° element ä¸Šï¼Œè¿™æ ·çŠ¶æ€æ‰ä¸ä¼šä¸¢å¤±ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RenderObjectWidget&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Widget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;RenderObjectWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Key key &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  RenderObjectElement &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  RenderObject &lt;span class=&quot;token function&quot;&gt;createRenderObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateRenderObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; covariant RenderObject renderObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;didUnmountRenderObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;covariant RenderObject renderObject&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;RenderObjectWidgetï¼Œæ˜¯æ¯”è¾ƒç‰¹æ®Šçš„ä¸€ç±» widgetã€‚å®ƒå£°æ˜äº†&lt;code class=&quot;language-text&quot;&gt;createRenderObject&lt;/code&gt;å»åˆ›å»ºä¸€ä¸ª RenderObjectï¼Œè€Œåœ¨ flutter ä¸­çœŸæ­£è¢«æ¸²æŸ“çš„å¯¹è±¡å°±æ˜¯ RenderObjectã€‚ä¸Šé¢æåˆ°çš„ StatelessWidgetï¼ŒStatefulWidgetï¼Œå®ƒä»¬éƒ½æ²¡æœ‰ç›´æ¥æä¾› RenderObject çš„å®ç°ï¼Œè€Œæ˜¯é€šè¿‡ç»„åˆå…¶ä»– RenderObjectWidgetï¼Œä»è€Œå®ç°æ¸²æŸ“å‡ºæŸä¸€ä¸ªéƒ¨åˆ†ç»„åˆ UIã€‚æ ¹æ®æ¥å—çš„å‚æ•°ä¸ªæ•°ï¼Œå®ƒæœ‰ä¸¤ä¸ªå­ç±»ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;SingleChildRenderObjectWidgetï¼Œä»…æ¥å—ä¸€ä¸ª childï¼Œæ¯”å¦‚ Paddingï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MultiChildRenderObjectWidgetï¼Œå¯ä»¥æ¥å—å¤šä¸ª childï¼Œæ¯”å¦‚ Rowï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          State
        &lt;/h2&gt;
      
&lt;p&gt;StatefulWidget ä¼šé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;createState&lt;/code&gt;ç”Ÿæˆä¸€ä¸ª State å¯¹è±¡ï¼Œå®ƒä¼šè¢«å…³è”åˆ°å¯¹åº”çš„ StatefulElement ä¸Šã€‚State ä¸ä¼šéšç€ widget çš„é”€æ¯è€Œé”€æ¯ï¼Œè€Œæ˜¯ä¼šä¿æŒå…¶ç”Ÿå‘½æœŸè·Ÿéšç€ elementã€‚ä¸€ä¸ª State å¯¹è±¡ï¼Œåœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ï¼Œä¼šæœ‰ä¸åŒçš„é˜¶æ®µï¼Œä¸ºäº†æ–¹ä¾¿å¼€å‘è€…é’ˆå¯¹ä¸åŒé˜¶æ®µå¤„ç†ä¸€äº›äº‹æƒ…ï¼Œå®ƒä¼šæš´éœ²å‡ºç›¸åº”çš„é’©å­å‡½æ•°ï¼Œç±»ä¼¼ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token metadata symbol&quot;&gt;@optionalTypeArgs&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StatefulWidget&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Diagnosticable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  T &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; widget &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; _widget&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  T _widget&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  _StateLifecycle _debugLifecycleState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _StateLifecycle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;created&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  BuildContext &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; _element&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  StatefulElement _element&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  bool &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; mounted &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; _element &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@mustCallSuper&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;initState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@mustCallSuper&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;didUpdateWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;covariant T oldWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;VoidCallback fn&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;dynamic&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;dynamic&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    _element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;markNeedsBuild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@mustCallSuper&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;deactivate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@mustCallSuper&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  Widget &lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildContext context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@protected&lt;/span&gt;
  &lt;span class=&quot;token metadata symbol&quot;&gt;@mustCallSuper&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;didChangeDependencies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;State å¯¹è±¡ä¼šæŒæœ‰ StatefulWidget çš„å¼•ç”¨_widgetï¼Œè¿˜æœ‰ä¸€ä¸ª_StateLifecycle çŠ¶æ€ã€‚åœ¨ä¸åŒçš„é˜¶æ®µï¼Œä¼šè°ƒç”¨ä¸åŒçš„æ–¹æ³•ï¼Œç„¶å_StateLifecycle çš„å€¼ä¹Ÿä¼šä¸ä¸€æ ·ï¼Œç±»ä¼¼ react ä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚è¿™é‡Œä¸»è¦æœ‰å¦‚ä¸‹ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;initState&lt;/code&gt;ï¼Œåˆå§‹åŒ–æ—¶æ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äºæ‰§è¡Œç”³è¯·èµ„æºç­‰æ“ä½œï¼Œä¸å¯ä»¥æ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;ï¼Œåœ¨ state çš„ç”Ÿå‘½é‡Œåªä¼šè°ƒç”¨ä¸€æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;didChangeDependencies&lt;/code&gt;ï¼Œå¦‚æœåœ¨&lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt;ä¸­æœ‰è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;BuildContext.inheritFromWidgetOfExactType&lt;/code&gt;ï¼Œè€Œä¸” inherited widgets æœ‰å˜åŒ–ï¼Œåˆ™ä¼šè§¦å‘æ­¤æ–¹æ³•ã€‚å¯ä»¥æ ¹æ®å˜åŒ–ï¼Œè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;æ¥æ›´æ–°å½“å‰ children widgetsã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;didUpdateWidget&lt;/code&gt;ï¼Œå½“ element ä¸Šè°ƒç”¨çš„&lt;code class=&quot;language-text&quot;&gt;canUpdate&lt;/code&gt;è¿”å› true æ—¶ï¼Œä¹Ÿå°±æ˜¯å¤ç”¨ elementï¼Œæ›´æ–° element å…³è”çš„ widget æ—¶ä¼šè§¦å‘æ­¤æ–¹æ³•ã€‚state éœ€è¦æ ¹æ®æ–°çš„ widget æ¥ä½œå‡ºæ”¹å˜ã€‚åœ¨æ‰§è¡Œå®Œ&lt;code class=&quot;language-text&quot;&gt;didUpdateWidget&lt;/code&gt;æ—¶ï¼Œæ¡†æ¶ç´§æ¥ç€ä¼šæ‰§è¡Œ statet çš„&lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt;æ–¹æ³•æ¥æ›´æ–° UIï¼Œæ‰€ä»¥ä¸åº”è¯¥åœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;deactivate&lt;/code&gt;ï¼Œå½“ element ä¸Šè°ƒç”¨çš„&lt;code class=&quot;language-text&quot;&gt;canUpdate&lt;/code&gt;è¿”å› false æ—¶ï¼Œä¼šå¸è½½å½“å‰çš„ elementï¼Œéšå³ä¹Ÿä¼šå¸è½½å½“å‰çš„ element å…³è”çš„ stateï¼Œåˆ™ä¼šè§¦å‘æ­¤æ–¹æ³•ã€‚State ä¼šè¢«ä»æ ‘ä¸­ç§»é™¤ï¼Œåº”è¯¥åœ¨æ­¤æ–¹æ³•é‡Œè§£é™¤å®ƒä¸å…¶ä»– element çš„å¼•ç”¨å…³ç³»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;dispose&lt;/code&gt;ï¼Œé”€æ¯æ—¶æ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äºé‡Šæ”¾åœ¨&lt;code class=&quot;language-text&quot;&gt;initState&lt;/code&gt;ä¸­ç”³è¯·çš„èµ„æºï¼Œä¸å¯ä»¥æ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;State ä¼šæœ‰ä¸€ä¸ª context çš„å±æ€§ï¼Œå®ƒå®é™…å°±æ˜¯ widget çš„ element å¯¹è±¡ã€‚State æœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ–¹æ³•&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;ï¼Œæ¯æ¬¡è°ƒç”¨å®ƒï¼Œéƒ½ä¼šè§¦å‘å½“å‰ widget çš„æ›´æ–°ã€‚åœ¨ä¸Šé¢çš„å®ç°ä¸­ï¼Œå¯ä»¥çœ‹åˆ°å®ƒè°ƒç”¨äº†&lt;code class=&quot;language-text&quot;&gt;_element.markNeedsBuild()&lt;/code&gt;ï¼Œå°†å½“å‰ element æ ‡è®°ä¸º dirtyï¼Œç„¶ååœ¨ä¸‹ä¸€ä¸ª frame ä¸­ä¼šé‡æ–°æ‰§è¡Œ rebuildã€‚å¦‚æœç›´æ¥æ›´æ”¹ state ä¸­çš„å€¼ï¼Œæ˜¯ä¸ä¼šè§¦å‘ widget çš„æ›´æ–°çš„ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          Element Tree
        &lt;/h2&gt;
      
&lt;p&gt;é€šè¿‡ä¸Šé¢çš„éƒ¨åˆ†æºç åˆ†æï¼ŒçœŸæ­£è´Ÿè´£æ¸²æŸ“çš„ widget å¯¹è±¡æ˜¯ RenderObjectWidgetï¼Œå®ƒä¼šç”Ÿæˆ Element å’Œ RenderObjectï¼Œå…³ç³»å¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7f0a5f9d8b3da015b39376e14523d299/4f3bc/internals_element.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 42.58720930232558%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAA6UlEQVQoz3WS2wqEMAxE+/9fqA+K6JOI9/s1yylkyXZ3B4YUEyfJtO55HlECjYr7vmVZFtm2zcc8z6UsS/9d6y2d/dmKIgCnaZJxHOU4DlnX1eeu65J9338O4OhEgU0gdJ7nR2fq4DzPXpi83ULpKGAVIlMgzhnwE+JMowJ938swDL5Oa9lC6bqu8weKiIiyIqjrWqIokjiOvW8AARrQiEmbppG2baWqKh8dAiSJui5FoTcKRCyYnAba5ONS1HioXmEH1O+c7e2GcGHCmm2bqPnh8/p6NlYsyzIpikKSJJE0Td9Gh03+2QFeqH7B9I8Y60wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7f0a5f9d8b3da015b39376e14523d299/cc182/internals_element.webp 148w,
/static/7f0a5f9d8b3da015b39376e14523d299/f7e40/internals_element.webp 295w,
/static/7f0a5f9d8b3da015b39376e14523d299/1a2f4/internals_element.webp 590w,
/static/7f0a5f9d8b3da015b39376e14523d299/99208/internals_element.webp 688w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7f0a5f9d8b3da015b39376e14523d299/cf440/internals_element.png 148w,
/static/7f0a5f9d8b3da015b39376e14523d299/d2d38/internals_element.png 295w,
/static/7f0a5f9d8b3da015b39376e14523d299/b9e4f/internals_element.png 590w,
/static/7f0a5f9d8b3da015b39376e14523d299/4f3bc/internals_element.png 688w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/7f0a5f9d8b3da015b39376e14523d299/b9e4f/internals_element.png&quot;
          alt=&quot;internals_element&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æŠŠå®ƒä»¬ä¸ React ä¸­å…ƒç´ æ¥åšç±»ä¼¼å…³è”ï¼Œåº”è¯¥å°±æ¯”è¾ƒæ˜ç™½å®ƒä»¬çš„ä½œç”¨äº†ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;widgetï¼Œç±»ä¼¼äº React ä¸­ JSXï¼Œç”¨äºå®šä¹‰ UI åº”è¯¥å±•ç¤ºä»€ä¹ˆæ ·å­ï¼Œåœ¨æœ€ä¸Šå±‚ã€‚&lt;/li&gt;
&lt;li&gt;elementï¼Œç±»ä¼¼äº React ä¸­ Component ç”Ÿæˆçš„ vdom å¯¹è±¡ï¼Œè¿™é‡Œä¼šåšä¸€äº›å¤ç”¨é€»è¾‘å’Œæ¸²æŸ“ä¼˜åŒ–ï¼Œç”¨äºä¸ºçœŸæ­£æ¸²æŸ“å¯¹è±¡æä¾›æ•°æ®ï¼Œä½äºä¸­é—´å±‚ã€‚&lt;/li&gt;
&lt;li&gt;renderObjectï¼Œç±»ä¼¼äºçœŸæ­£çš„ DOM äº†ï¼ŒçœŸæ­£çš„æ¸²æŸ“å¯¹è±¡ï¼Œåœ¨æœ€åº•å±‚äº†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;react ä¼šå½¢æˆä¸€é¢—è™šæ‹Ÿçš„ dom æ ‘ï¼Œflutter ä¸­ä¹Ÿåœ¨ element è¿™ä¸€å±‚ç”Ÿæˆä¸€é¢— element æ ‘ã€‚&lt;/p&gt;
&lt;p&gt;flutter æ¡†æ¶ä¼šå¸®æˆ‘ä»¬å¤„ç†å¥½ element å’Œ renderObject å±‚ï¼Œå¯¹äºä¸€èˆ¬ä¸šåŠ¡å¼€å‘ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ widget å±‚å»å®ç°åŠŸèƒ½å³å¯ã€‚æ¡†æ¶ä¼šåœ¨ä¸‰ä¸ªåœ°æ–¹å¸®æˆ‘ä»¬è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;å»ç”Ÿæˆå¯¹åº”çš„ element å¯¹è±¡ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åˆ«æ¥çœ‹çœ‹è¿™ä¸‰ä¸ªåœ°æ–¹ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªåœ°æ–¹å°±æ˜¯ç”Ÿæˆ element æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚flutter æ˜¯é€šè¿‡è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;runApp&lt;/code&gt;æ¥å¯åŠ¨çš„ï¼Œå¦‚ä¸‹&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;runApp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;MyApp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;runApp&lt;/code&gt;ä¸­ä¼šåšå¾ˆå¤šåˆå§‹åŒ–çš„å·¥ä½œï¼Œå…¶ä¸­å°±åŒ…å«äº†ç”Ÿæˆ element æ ‘çš„æ ¹èŠ‚ç‚¹å¹¶æŒ‚è½½ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;runApp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Widget app&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  WidgetsFlutterBinding&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ensureInitialized&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// è¿™é‡Œå°±ä¼šç”Ÿæˆelementæ ‘çš„æ ¹èŠ‚ç‚¹&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scheduleAttachRootWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scheduleWarmUpFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ²¿ç€&lt;code class=&quot;language-text&quot;&gt;scheduleAttachRootWidget&lt;/code&gt;è°ƒç”¨æ ˆä¸€è·¯æ‰¾ä¸‹å»ï¼Œæœ€åä¼šç”Ÿæˆä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;RenderObjectToWidgetAdapter&lt;/code&gt;å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„&lt;code class=&quot;language-text&quot;&gt;attachToRenderTree&lt;/code&gt;æ–¹æ³•ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RenderObjectToWidgetAdapter&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RenderObject&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RenderObjectWidget&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;token metadata symbol&quot;&gt;@override&lt;/span&gt;
  RenderObjectToWidgetElement&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; RenderObjectToWidgetElement&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  RenderObjectToWidgetElement&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;attachToRenderTree&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;BuildOwner owner&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; RenderObjectToWidgetElement&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;T&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; element &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;element &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      owner&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lockState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœroot elementä¸ºç©ºï¼Œåˆ™è°ƒç”¨createElementç”Ÿæˆroot element&lt;/span&gt;
        element &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;element &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assignOwner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;owner&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      owner&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;buildScope&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;element&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å¹¶æŒ‚è½½åœ¨elementæ ‘ä¸Š&lt;/span&gt;
        element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// This is most likely the first time the framework is ready to produce&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// a frame. Ensure that we are asked for one.&lt;/span&gt;
      SchedulerBinding&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ensureVisualUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_newWidget &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;markNeedsBuild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…ˆåˆ¤æ–­å½“å‰ root element å­˜ä¸å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±ä¼šè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;ç”Ÿæˆæ–°çš„ root elementï¼Œå¹¶è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;element.mount(null, null)&lt;/code&gt;è¿›è¡ŒæŒ‚è½½&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªåœ°æ–¹å°±æ˜¯è¿›è¡Œ mount æ—¶ï¼Œå¦‚æœå½“å‰ element æ˜¯ MultiChildRenderObjectElementï¼Œåˆ™ä¼šä¸ºå®ƒçš„ widget çš„ children widget ç”Ÿæˆå¯¹åº”çš„ elementï¼Œå¹¶æŒ‚è½½ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Element parent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;dynamic&lt;/span&gt; newSlot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newSlot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    _children &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; List&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Element&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;widget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    Element previousChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;int i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; _children&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/// inflateWidgetå°±æ˜¯è°ƒç”¨createElementå¹¶è¿›è¡Œmount&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; Element newChild &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inflateWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;widget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; previousChild&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      _children&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      previousChild &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;  Element &lt;span class=&quot;token function&quot;&gt;inflateWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Widget newWidget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;dynamic&lt;/span&gt; newSlot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newWidget &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; Key key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newWidget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key &lt;span class=&quot;token operator&quot;&gt;is&lt;/span&gt; GlobalKey&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; Element newChild &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newWidget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    newChild&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newSlot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; newChild&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬ä¸‰ä¸ªåœ°æ–¹å°±æ˜¯è¿›è¡Œ rebuild æ—¶ï¼Œæ›´æ–° child elementï¼Œå¦‚æœ child element ä¸º nullï¼Œä¸”æ–°çš„ widget ä¸ä¸º nullï¼Œåˆ™ä¹Ÿä¼šè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;inflateWidget&lt;/code&gt;æ¥æ–°å»º element ä¸”æŒ‚è½½ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;Element &lt;span class=&quot;token function&quot;&gt;updateChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Element child&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Widget newWidget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;dynamic&lt;/span&gt; newSlot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// newWidgetä¸ºnullï¼Œåˆ™ç›´æ¥è¿”å›null&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newWidget &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token comment&quot;&gt;//childä¸ä¸ºnullï¼Œä¸”newWidgetä¹Ÿä¸ä¸ºnull&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœwidgetç›¸ç­‰ï¼Œåˆ™ç›´æ¥ç”¨ä¹‹å‰çš„element&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;widget &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; newWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœcanUpdateè¿”å›trueï¼Œä¹Ÿç›´æ¥ç”¨ä¹‹å‰çš„element&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Widget&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;canUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;widget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// ...&lt;/span&gt;
        child&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newWidget&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; child&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token comment&quot;&gt;// child elementä¸ºnullï¼Œä¸”newWidgetä¸ä¸ºnullï¼Œåˆ™ç”Ÿæˆæ–°çš„child element&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inflateWidget&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newWidget&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newSlot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ç»´æŠ¤æ›´æ–° element æ ‘çš„åŒæ—¶ï¼Œä¼šæ¯æ¬¡å°†æ›´æ–°ç‚¹åŒæ­¥åˆ° RenderObject ä¸Šã€‚æœ€åï¼Œflutter æ ¹æ® RenderObject æ¥æ¸²æŸ“å‡ºé¡µé¢ã€‚ä¸ºäº†æ›´é«˜æ•ˆçš„æ¸²æŸ“ï¼Œåœ¨ layout é˜¶æ®µä¼šé€šè¿‡ RelayoutBoundary æ¥æ§åˆ¶ relayout çš„èŒƒå›´ï¼Œåœ¨ paint é˜¶æ®µä¼šé€šè¿‡ RepaintBoundary åªé‡æ–°ç»˜åˆ¶å—å“åº”çš„éƒ¨åˆ†ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-4&apos; &gt;
          ç»“æ„å›¾
        &lt;/h2&gt;
      
&lt;p&gt;ä» Widgetï¼ŒElementï¼ŒRenderObject è§’åº¦åˆ†åˆ«åˆ—ä¸¾äº†å®ƒä»¬çš„çˆ¶ç±»å’Œå­ç±»ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ef851692a408435ff5ad219739abc2de/fd995/structure.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.73228346456693%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUUlEQVQoz32RyVLDMAyG+/6vAxcOnWEphV6YAgMzbZpmT+wmbhJv8RI7OGSgB1o0PtiSP+mXNBv+NSNElyUCleZcdHYJs8b21uIC+VdP5Xo3JjJG931vTD9ejLWXYamUFB1ou0XC5mH9jhhXZg2bh7hcxOUrODr8BGut2xZPhxDqajhnTdEqXAY1ABh5xccWRjnhUUMAZtb+wE6JQ4oC5gUoADiU1QTrXtYESMl0r+DOy+ZL5kWnnqdPQgjOu1PDw6D0aGPUWKfKuZJwf39zDaNUaAKbAPNqho711vP9IGqadpqK0zN8wy4jk/KzZi8VjYksKZrv3x7j9NYP73abmrczpVQnhOuScf53bMqYoGEbRDLMhTZRIzYV2SKaYmF/V+UKYkKzvEiyHABIhHqG2G84onyVHNxz6uXinp2EadSUUql1SrpjJ6lU+5q6mmfX+QXXGD4KF78emAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ef851692a408435ff5ad219739abc2de/cc182/structure.webp 148w,
/static/ef851692a408435ff5ad219739abc2de/f7e40/structure.webp 295w,
/static/ef851692a408435ff5ad219739abc2de/1a2f4/structure.webp 590w,
/static/ef851692a408435ff5ad219739abc2de/4837b/structure.webp 885w,
/static/ef851692a408435ff5ad219739abc2de/2f819/structure.webp 1180w,
/static/ef851692a408435ff5ad219739abc2de/c3475/structure.webp 2540w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ef851692a408435ff5ad219739abc2de/cf440/structure.png 148w,
/static/ef851692a408435ff5ad219739abc2de/d2d38/structure.png 295w,
/static/ef851692a408435ff5ad219739abc2de/b9e4f/structure.png 590w,
/static/ef851692a408435ff5ad219739abc2de/f9b6a/structure.png 885w,
/static/ef851692a408435ff5ad219739abc2de/2d849/structure.png 1180w,
/static/ef851692a408435ff5ad219739abc2de/fd995/structure.png 2540w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ef851692a408435ff5ad219739abc2de/b9e4f/structure.png&quot;
          alt=&quot;structure&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-5&apos; &gt;
          æ³¨æ„ç‚¹
        &lt;/h2&gt;
      
&lt;ol&gt;
&lt;li&gt;flutter æ¸²æŸ“åˆ†ä¸ºä¸‰å±‚ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨å¤„ç†å¥½ Element å±‚å’Œ RenderObject å±‚ï¼Œå¤§éƒ¨åˆ†æ—¶å€™åªéœ€è¦ç¼–å†™ Widget å±‚å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;Widget æ˜¯ä¸å¯å˜çš„ï¼Œæ€»åº”è¯¥å°†å®ƒçš„å±æ€§æ ‡è®°ä¸º&lt;code class=&quot;language-text&quot;&gt;final&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºæ— çŠ¶æ€çš„ Widgetï¼Œæ€»æ˜¯åº”è¯¥ä½¿ç”¨ StatelessWidgetï¼Œé¿å…é¢å¤–çš„åˆ›å»ºå’Œç»´æŠ¤ Stateã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æ›´æ–° element æ—¶ï¼Œä¼šç›´æ¥åˆ¤æ–­ new widget ä¸ old widget æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰åˆ™ç›´æ¥å¤ç”¨æ—§çš„ elementã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ state æ¥æå‰ä¿å­˜ç”Ÿæˆå¥½çš„å­ widgetï¼Œè€Œä¸å¿…æ¯æ¬¡éƒ½åœ¨ build ä¸­ç”Ÿæˆæ–°çš„å­ widgetã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºåœ¨æ•´ä¸ªæ¸²æŸ“æ ‘ä¸­å¤ç”¨çš„ elementï¼Œå¯ä»¥ç»™å®ƒå¯¹åº”çš„ widget å¢åŠ ä¸€ä¸ª global keyã€‚è¿™æ ·åœ¨æ›´æ–°æ—¶ï¼Œä¼šé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;Widget.canUpdate&lt;/code&gt;æ¥åˆ¤æ–­æ˜¯å¦å¯ä»¥å¤ç”¨ elementã€‚&lt;/li&gt;
&lt;li&gt;RenderObject å¹¶æ²¡æœ‰å®šä¹‰èŠ‚ç‚¹çš„å¸ƒå±€æ¨¡å‹ï¼Œå®ƒæœ‰ 2 ä¸ªå­ç±»ï¼Œä¸€ä¸ªæ˜¯ RenderBoxï¼Œå®šä¹‰äº†èŠ‚ç‚¹åœ¨ç¬›å¡å°”åæ ‡ç³»ä¸­çš„å¸ƒå±€æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯ RenderSliverï¼Œå®šä¹‰äº†èŠ‚ç‚¹åœ¨æ»šåŠ¨æ—¶çš„å¸ƒå±€æ–¹å¼ã€‚&lt;/li&gt;
&lt;/ol&gt;

        &lt;h2 id=&apos;toc-2-6&apos; &gt;
          å°ç»“
        &lt;/h2&gt;
      
&lt;p&gt;æˆ‘ä»¬å¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯ç›´æ¥ä¸ Widget åœ¨æ‰“äº¤é“ï¼Œè€Œå¾ˆå°‘å…³å¿ƒåº•å±‚çš„ Element å’Œ RenderObjectã€‚Widget åœ¨ flutter ä¸­æ‰¿æ‹…äº†éå¸¸å¤šçš„åŠŸèƒ½ï¼Œè€Œä¸ä»…ä»…åªæ˜¯ç»„åˆ UIï¼Œä¾‹å¦‚ flutter ä¸­çš„è·¯ç”±ç®¡ç† Navigator å°±æ˜¯ StatefulWidgetï¼Œæ ·å¼ä¸»é¢˜ Theme æ˜¯ StatelessWidget ç­‰ã€‚flutter æä¾›äº†éå¸¸ä¸°å¯Œçš„ Widgetï¼Œæœ‰ Material Design é£æ ¼çš„ material widgetï¼Œæœ‰ IOS é£æ ¼çš„ cupertino widgetã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-7&apos; &gt;
          å‚è€ƒ
        &lt;/h2&gt;
      
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.didierboelens.com/2019/09/flutter-internals/&quot;&gt;flutter-internals&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[flutter å­¦ä¹ å°ç»“ï¼ˆä¸€ï¼‰]]></title><description><![CDATA[2019 å¹´ï¼Œåœ¨å‰ç«¯åœˆå¬åˆ°æœ€å¤šçš„å°±æ˜¯ flutter äº†ã€‚ä½œä¸ºä¸€ä¸ªè·¨å¹³å°æ–°å® ï¼Œå›½å†…å·²æœ‰ä¸€äº›å¤§å‚ï¼Œå°†å®ƒç”¨åœ¨äº†å®é™…çš„é¡¹ç›®ä¸­ã€‚å¯¹äºä¸€ä¸ªæ–°æŠ€æœ¯ï¼Œåˆ°åº•è¦ä¸è¦è·Ÿè¿›å­¦ä¹ ï¼Œç¬”è€…ä¸åšä»»ä½•è¯„è®ºã€‚ç¬”è€…åªæ˜¯çº¯ç²¹ä»¥å­¦ä¹ çš„ç›®çš„ï¼Œå»å­¦ä¹ äº† flutterï¼Œå¹¶é€šè¿‡å†™ä¸€ä¸ª demoâ€¦]]></description><link>https://snayan.github.io//post/2019/flutter-learn-1/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/flutter-learn-1/</guid><pubDate>Sat, 16 Nov 2019 15:41:00 GMT</pubDate><content:encoded>&lt;p&gt;2019 å¹´ï¼Œåœ¨å‰ç«¯åœˆå¬åˆ°æœ€å¤šçš„å°±æ˜¯ flutter äº†ã€‚ä½œä¸ºä¸€ä¸ªè·¨å¹³å°æ–°å® ï¼Œå›½å†…å·²æœ‰ä¸€äº›å¤§å‚ï¼Œå°†å®ƒç”¨åœ¨äº†å®é™…çš„é¡¹ç›®ä¸­ã€‚å¯¹äºä¸€ä¸ªæ–°æŠ€æœ¯ï¼Œåˆ°åº•è¦ä¸è¦è·Ÿè¿›å­¦ä¹ ï¼Œç¬”è€…ä¸åšä»»ä½•è¯„è®ºã€‚ç¬”è€…åªæ˜¯çº¯ç²¹ä»¥å­¦ä¹ çš„ç›®çš„ï¼Œå»å­¦ä¹ äº† flutterï¼Œå¹¶é€šè¿‡å†™ä¸€ä¸ª demo åŠ æ·±å¯¹å®ƒçš„ç†è§£ã€‚ä¸‹é¢å°†ç»“åˆè‡ªå·±å¼€å‘çš„ä¸€ä¸ª demo é¡¹ç›®ï¼Œä»å‰ç«¯çš„è§’åº¦å»é˜è¿°ï¼Œå¸Œæœ›èƒ½å¯¹ä½ å­¦ä¹  flutter æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;
&lt;p&gt;flutter demo é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/snayan/flutter_juejin&quot;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          è·¨å¹³å°
        &lt;/h2&gt;
      

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          æ¸²æŸ“
        &lt;/h3&gt;
      
&lt;p&gt;flutter æœ€å¤§çš„ç‰¹æ€§å°±æ˜¯è·¨å¹³å°ã€‚ä¸€å¥—ä»£ç ï¼Œå³å¯æå®š iOSï¼ŒAndroidï¼Œweb ä¸‰ç«¯ï¼ŒçœŸå¯è°“ä¹‹å¼ºå¤§ã€‚ä¸ºä½•å®ƒèƒ½è·¨å¹³å°å‘¢ï¼Œå› ä¸ºå®ƒå°† widget å’Œæ¸²æŸ“å™¨ä»å¹³å°ç§»åˆ°äº†åº”ç”¨ç¨‹åºè‡ªèº«ä¸Šã€‚å®ƒé€šè¿‡è‡ªå¸¦æ¸²æŸ“å¼•æ“ skiaï¼Œå°è£…äº†ç³»ç»Ÿæä¾›çš„ 2D ç»˜å›¾æ¥å£ã€‚ä¸ç®¡æ˜¯ iOSï¼Œandroidï¼Œwebï¼Œåªéœ€è¦æä¾›ä¸€ä¸ª 2D æ¸²æŸ“ç¯å¢ƒ(canvas)ï¼Œflutter å°±å¯ä»¥æ¸²æŸ“ç•Œé¢ã€‚&lt;/p&gt;
&lt;p&gt;ä¸šç•Œå…¶ä»–è·¨å¹³å°æ–¹æ¡ˆè¿˜æœ‰ H5ï¼Œreact native ç­‰ã€‚å½“åšä¸€ä¸ªæŠ€æœ¯é€‰å‹æ—¶ï¼Œéœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚æ¥è¡¡é‡ï¼Œæ‰€ä»¥è¿™é‡Œå¯¹å®ƒä»¬ä¸åšä»»ä½•ä¼˜åŠ£ä¹‹åˆ†ï¼Œä»…ä»…åªæ˜¯ä»å®ç°åŸç†å»ç†è§£å®ƒä»¬ã€‚åªæœ‰çœŸæ­£äº†è§£å®ƒä»¬çš„å®ç°å·®å¼‚ï¼Œæ‰èƒ½å¯¹æŸä¸€ä¸ªå…·ä½“ä¸šåŠ¡é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;h5ï¼Œæœ€ç®€å•ï¼Œå¹³å°æ”¯æŒåº¦æœ€é«˜çš„ã€‚å®ƒéœ€è¦ä¸åŒå¹³å°æä¾›ä¸€ä¸ª web viewï¼Œæ¸²æŸ“æ–¹å¼å°±æ˜¯ web view æä¾›çš„æ¸²æŸ“å¼•æ“å»å®Œæˆçš„ã€‚ä¸åŒå¹³å°çš„ webview å®ç°æ–¹å¼å¯èƒ½ä¸ä¸€æ ·ï¼Œä½†æ˜¯å®ƒä»¬éƒ½éµå¾ª w3c æ ‡å‡†ï¼Œæ‰€ä»¥ä¸€å¥— H5 ä»£ç èƒ½è¿è¡Œåœ¨ä¸åŒå¹³å°ä¹‹ä¸Šã€‚æ¸²æŸ“ä¹‹å‰éœ€è¦é€šè¿‡å¹³å°ç”Ÿæˆä¸€ä¸ª webview å®ä¾‹ï¼Œç„¶åé€šè¿‡ http è¯·æ±‚ï¼ŒåŠ è½½æ‰€éœ€çš„é™æ€èµ„æºï¼ˆåŒ…å« htmlï¼Œcssï¼Œjsï¼Œimage ç­‰ï¼‰ï¼Œè¿™äº›å‰ç½®æ­¥éª¤ä¼šå¯¼è‡´ä¸€ä¸ªç™½å±æ—¶é—´çš„å­˜åœ¨ã€‚å¹¶ä¸” js æ˜¯è¿è¡Œæ—¶ç¼–è¯‘çš„ï¼Œæ‰€ä»¥å®ƒçš„è¿è¡Œé€Ÿåº¦ä¸å¦‚åŸç”Ÿçš„å¿«ã€‚å¯¹äºå¹³å°åŠŸèƒ½ï¼Œéœ€è¦é€šè¿‡ bridge ç­‰æ–¹å¼æ¥è·å¾—æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1d59af1fd52ecdbe37c23cd7f7704e04/eef7a/h5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 49.1283676703645%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAACI0lEQVQoz2P4++/vv/9QAGT/RwL/wOAvGP35+/fGzZvnz5+/e/cuUANEkAGo6Nfn79/ffPr54QtcAwT8+QPUgmzcnx/fvgABnM9QeWVR0MGW0AOtPnvrKi4vBOmHWAsm3337nbf5dsyKa4mrb8SsvHHm6WeghUVb72RtvAUUZ1DZksCwzI55lRvDMlvVjTF3b915/ebNWxB49+71yz2nLglVHGQoP8BSc4ghe3fPtkv3HjxkqzrAUHOIAyiiuyuHYZUH81p/hpVuWjuz/v/59/vPnx+/f/788/v/3z9P3n1xmHVBf9IZs6lntfrPbL/17ufvvy5zLzrMueg05yKD9s5szvUhMlsTuTeEae7MBDsYGoJADwN9DvfE3x9ffn98/efbZ4SfgbaxrQsS2xzLui5QfWcGUOjxt9dRJ3vm3N8FZL/5+jNn4+30DbeKtt+LWXrBf+bRmCXnCrfdydtyJ3PDLQa9XbkMqzxZgM5e5aG2Lf3/7/9Hnl3m3Rieemry/9//bj5/K1R/mKfhiGLfKaC3WWqO8DQeU+g9Kd11gqfuMIPatmSGZfbMK90Zltopb479/+f/8efXONaHJJyYAGTfev5OouWYWNsx9QlnuOsPc9UcYq8+JN99UrztOG/9EYaNz07Of7Bn8cP98x7s3vD0BNCp7399mXN/95E314Dsr7/+bLz2ZtP1Nztuv99w7c3qy69WXny18fqbNZdfr770CgARebbPqRWqvAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/1d59af1fd52ecdbe37c23cd7f7704e04/cc182/h5.webp 148w,
/static/1d59af1fd52ecdbe37c23cd7f7704e04/f7e40/h5.webp 295w,
/static/1d59af1fd52ecdbe37c23cd7f7704e04/1a2f4/h5.webp 590w,
/static/1d59af1fd52ecdbe37c23cd7f7704e04/d51b6/h5.webp 631w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/1d59af1fd52ecdbe37c23cd7f7704e04/cf440/h5.png 148w,
/static/1d59af1fd52ecdbe37c23cd7f7704e04/d2d38/h5.png 295w,
/static/1d59af1fd52ecdbe37c23cd7f7704e04/b9e4f/h5.png 590w,
/static/1d59af1fd52ecdbe37c23cd7f7704e04/eef7a/h5.png 631w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/1d59af1fd52ecdbe37c23cd7f7704e04/b9e4f/h5.png&quot;
          alt=&quot;h5&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;rnï¼Œä½¿ç”¨ jsx çš„æ–¹å¼å£°æ˜ UIï¼Œç„¶åé€šè¿‡ bridge é€šä¿¡ï¼Œä½¿ç”¨å¹³å°æ§ä»¶æ¥æ¸²æŸ“ç•Œé¢ã€‚ç›¸æ¯” h5 çš„ webview æ¸²æŸ“ï¼Œå¹³å°æ§ä»¶æ¸²æŸ“å‡å°‘äº† web view å®ä¾‹åŒ–çš„è¿‡ç¨‹ï¼Œå¹¶ä¸”ä½“éªŒä¹Ÿæ›´åŠ æµç•…ä¸€äº›ã€‚æ¯æ¬¡ jsx çš„å˜åŒ–ï¼Œéƒ½éœ€è¦é€šè¿‡ bridge é€šçŸ¥åˆ°å¹³å°é‚£è¾¹ã€‚æ‰€ä»¥å¯¹äºåŠ¨ç”»ï¼Œæ»šåŠ¨ç­‰é«˜é¢‘ç‡çš„æ”¹å˜ï¼Œå®ƒçš„æ€§èƒ½å°±ä¼šæ€¥å‰§ä¸‹é™ã€‚è·Ÿ h5 ç±»ä¼¼ï¼Œä¹Ÿå­˜åœ¨ js çš„è¿è¡Œæ—¶æ€§èƒ½ä¸å¤Ÿå¥½ï¼Œå¯¹äºå¹³å°åŠŸèƒ½ï¼Œéœ€è¦é€šè¿‡ bridge ç­‰æ–¹å¼æ¥è·å¾—æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f53f1be58636ad62c3e8795fa16075e9/b2a12/rn.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 47.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAACH0lEQVQoz2P4DwP/gBDGAKF///7+/Qvk/v0LEn//4cPFi5du3Ljx5s1bkCBI/j/Dl3cf3zx79fndx/+oACj5588fZJE/v358+fLl169fcBEGv0NNAQeaXPdWd95cCxFquLYs8mT3518/gOwt19/4L7oSvfJ64OKreVvuAkW233wbufJ60tpbVTvvMTAsd2JZ7cGw1MbzYDVEs83eQpYVrmeuX3n/+EHR2gsM5QfZaw8x1BwSaz78/sXTqo0XGcoOMFQf1Ow5xcCw2pNlrR/Dcmf/Yy0Qza6H6/g2hj//BPTb35UXX9jPuuC78LLHgsspG+4AZTdcfe2/5ErU6hu5m24ziGyOUd6RzrUxHOjyx/cf3rl71+tAveHewpff34MDDwqAgff6+ZOXzx7/+P4d4WfmdQFAexhWe3kdavj59TswSLwPN8ptT3794xNQeuO11wGLr+RsuZO18bb/vLMB886mrLuev+1u0rqbpdvuMjCs8mRZA3S2k8/RZoh5joeqGVf7Pnj9/P+/X007bzEU7pXrOiHccpSx6hBL9WHRtuMqfae46g/r9p8G+tmbdW0gwwpXX5hmh4OVTGt8X375AGT3H37IXnPIcOpZzQmnBRuPijQdFW05pjXxDHfdYZsZ5xkOvr5y+PW1/a8uX/n4EKL57Ps7e19e/PUXFMmPP/zYd/f98Ycfjz38ePDe+4P33x+4+/7Igw/77rw78+QTAGQdt3ulN47oAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/f53f1be58636ad62c3e8795fa16075e9/cc182/rn.webp 148w,
/static/f53f1be58636ad62c3e8795fa16075e9/f7e40/rn.webp 295w,
/static/f53f1be58636ad62c3e8795fa16075e9/1a2f4/rn.webp 590w,
/static/f53f1be58636ad62c3e8795fa16075e9/eae19/rn.webp 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/f53f1be58636ad62c3e8795fa16075e9/cf440/rn.png 148w,
/static/f53f1be58636ad62c3e8795fa16075e9/d2d38/rn.png 295w,
/static/f53f1be58636ad62c3e8795fa16075e9/b9e4f/rn.png 590w,
/static/f53f1be58636ad62c3e8795fa16075e9/b2a12/rn.png 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/f53f1be58636ad62c3e8795fa16075e9/b9e4f/rn.png&quot;
          alt=&quot;rn&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;flutterï¼Œç”±äºè‡ªå¸¦é«˜æ€§èƒ½çš„æ¸²æŸ“å¼•æ“ï¼Œæ‰€æœ‰çš„ UI æ˜¾ç¤ºéƒ½å¯ä»¥è‡ªå·±æå®šï¼Œä¸éœ€è¦ bridge ç­‰ä¸­é—´å±‚é€šä¿¡ï¼Œæ‰€ä»¥åœ¨æ¸²æŸ“æ–¹é¢è¡¨ç°å‡ºçš„æ€§èƒ½è¦æ¯” rn ä¼˜ç§€ä¸€ç‚¹ã€‚flutter æ”¯æŒ AOTï¼Œåœ¨ release ç¼–è¯‘ä¸­ï¼Œä¼šå°† dart ä»£ç ç¼–è¯‘æˆå¯¹åº”å¹³å°çš„æœ¬åœ°ä»£ç ï¼Œå…¶è¿è¡Œé€Ÿåº¦è¿œæ¯” js çš„å¿«ã€‚å¯¹äºå¹³å°åŠŸèƒ½ï¼Œflutter ä¹Ÿæä¾›äº†ç±»ä¼¼ bridge çš„ Method Channel çš„æ–¹å¼æ¥è·å¾—æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/883f359513d17cdc5fd17459828c3e3a/83cbb/flutter.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 48.40764331210191%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAB/UlEQVQoz2P4jwT+/PsLQX///4MAoCCEfPjw4blz527evPn9+3e4eoYPb98/e/z07avX/1EBUM9foCFI3F+/fv358wdiFlSz3d4K+90VtrvLA4+3VVxe2HB1eeHFueueHPv/9/+fv3+QjfsL1ta8/2HA0mvhK69X7rzHwLDChXG1B8Mqd4YVbmyrfcS2pTCs9o7Y1/D03uPXb9+8g4G3b9++fvP25cO7dpNPMpTuZ6g4YDzpDAPDak+mtX4Mq71EN8dkX5hZcHFu6rmpKx8fBtr86/cvoNPBIQB0/7+/YPd2H3ocu/ZG2qbb9XseMMhsS5beliSyOVZ/T/5fkKL//1D9DPHkp8+f79+/9/jxk1+/fyP8zLTWn31dEOMaP6kt8RNub5p6d2vnjTV7X10Cyn3/9TthzQ23+Zdi1t30XnTJcspJl9lno1Zdj1p7033h5dxNt4HO9mZe6w/UzLbWn2ttgPT2VIa1fvGHO///+PP09RvNnhMMlQdk+06x1R1iqjrIXndYtOuEVO8p5tpDNjPOM7CuC+BaHwK0HOhnjyMNEad6PY40Tbi1CeTU7z8sZ5yT6DxuPPO8fM9JkdZjIi3HpLtOqE08w9NwxGfRZYYLH+5d/HD//Pt7Nz49QYvnP3/+3nn3/eqrrzfefLv2+iuQAUFA9pWXXx+8/w4AX42+1Xdro3kAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/883f359513d17cdc5fd17459828c3e3a/cc182/flutter.webp 148w,
/static/883f359513d17cdc5fd17459828c3e3a/f7e40/flutter.webp 295w,
/static/883f359513d17cdc5fd17459828c3e3a/1a2f4/flutter.webp 590w,
/static/883f359513d17cdc5fd17459828c3e3a/939a5/flutter.webp 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/883f359513d17cdc5fd17459828c3e3a/cf440/flutter.png 148w,
/static/883f359513d17cdc5fd17459828c3e3a/d2d38/flutter.png 295w,
/static/883f359513d17cdc5fd17459828c3e3a/b9e4f/flutter.png 590w,
/static/883f359513d17cdc5fd17459828c3e3a/83cbb/flutter.png 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/883f359513d17cdc5fd17459828c3e3a/b9e4f/flutter.png&quot;
          alt=&quot;flutter&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ–°åˆ›å»ºä¸€ä¸ª flutter é¡¹ç›®æ—¶ï¼Œç›®å½•ç»“æ„ä¸­ä¼šæœ‰ iosï¼Œandroidï¼Œweb ä¸‰ä¸ªç›®å½•ï¼Œå®ƒä»¬åˆ†åˆ«å°±æ˜¯å¯¹åº”åˆ°ä¸‰ä¸ªç«¯çš„å®¿ä¸»å¹³å°ä»£ç ã€‚ä¸€èˆ¬åœ¨å¼€å‘æ—¶ï¼Œä¸éœ€è¦å…³å¿ƒå®ƒä»¬ï¼Œå®é™… flutter é¡¹ç›®çš„ä»£ç ï¼Œä¼šæ”¾åœ¨ lib ç›®å½•ä¸­ã€‚flutter é€‰æ‹©äº† dart ä½œä¸ºå¼€å‘è¯­è¨€ï¼Œdart ä¹Ÿæ˜¯ç±»ä¼¼ JavaScript çš„å•çº¿ç¨‹è¯­è¨€ï¼Œä¸ JavaScript æœ‰è®¸å¤šç›¸ä¼¼ä¹‹å¤„ï¼Œå­¦ä¹ æˆæœ¬å¾ˆä½ï¼Œè¿™é‡Œä¸è¯¦ç»†å±•å¼€ï¼Œæ›´å¤šå¯ä»¥å»&lt;a href=&quot;http://dartlang.org/&quot;&gt;å®˜ç½‘&lt;/a&gt;äº†è§£ã€‚éœ€è¦æåˆ°çš„ä¸€ç‚¹æ˜¯ï¼Œå®˜æ–¹æœ‰&lt;a href=&quot;https://dart.dev/tools/dart2js&quot;&gt;dart2js&lt;/a&gt;çš„å·¥å…·ï¼Œå°† dart ä»£ç è½¬æ¢ä¸º js ä»£ç ã€‚å®é™…ä¸Š flutter èƒ½è¿è¡Œåˆ° web ç«¯ï¼Œä¹Ÿå°±æ˜¯åœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œ dart2js çš„è½¬æ¢ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          é€šä¿¡
        &lt;/h3&gt;
      
&lt;p&gt;æœ‰æ—¶å€™ï¼Œäº§å“åŠŸèƒ½ä¼šæ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦è°ƒç”¨åŸç”Ÿæ“ä½œç³»ç»Ÿåº•å±‚èƒ½åŠ›å»å®ç°æŸä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œæ¯”å¦‚æ‰“å¼€ç›¸æœºæ‹ç…§ç­‰ã€‚ä»…ä»…ä½¿ç”¨ flutter æ¡†æ¶èƒ½åŠ›æ˜¯æ— æ³•å®ç°çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ flutter å±‚å»è°ƒç”¨åŸç”Ÿå±‚çš„æœåŠ¡äº†ã€‚flutter é€š&lt;a href=&quot;https://api.flutter.dev/flutter/services/MethodChannel-class.html&quot;&gt;MethodChannel&lt;/a&gt;å»å®ç°è¿™ç§åœºæ™¯ï¼Œä¸ H5 é€šè¿‡ bridge è°ƒç”¨ native åŠŸèƒ½çš„æ–¹å¼æ¯”è¾ƒç±»ä¼¼ã€‚å¦‚ä¸æ¸…æ¥š H5 ä¸ native çš„é€šä¿¡ç»†èŠ‚ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘ä¹‹å‰å†™çš„&lt;a href=&quot;/post/understand_the_details_of_h5_and_native(ios)_communication/&quot;&gt;ã€Œç†è§£ h5 ä¸ native(ios)é€šä¿¡ç»†èŠ‚ã€&lt;/a&gt;ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡&lt;a href=&quot;https://pub.dev/packages/url_launcher&quot;&gt;url_launcher&lt;/a&gt;æ¥è¯¦ç»†äº†è§£ä¸€ä¸‹ MethodChannel çš„å®ç°å’Œä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;url_launcher çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œå°±æ˜¯æ”¯æŒåœ¨ iOS å’Œ android è®¾å¤‡ä¸Šæ‰“å¼€ä¸€ä¸ª URL é“¾æ¥ã€‚åœ¨ flutter ä¸­ä½¿ç”¨å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token function&quot;&gt;_launchURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://flutter.dev&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;canLaunch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Could not launch $url&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é€‰æ‹©&lt;code class=&quot;language-text&quot;&gt;canLaunch&lt;/code&gt;å‡½æ•°ä½œä¸ºåˆ‡äººç‚¹ï¼Œä¸€èµ·çœ‹çœ‹å®ƒåœ¨ flutter ä¸­çš„å®ç°å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; MethodChannel _channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MethodChannel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;plugins.flutter.io/url_launcher&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/// Checks whether the specified URL can be handled by some app installed on the&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/// device.&lt;/span&gt;
Future&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;bool&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;canLaunch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;String urlString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;urlString &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; _channel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;invokeMethod&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;bool&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;canLaunch&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;String&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Object&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;url&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; urlString&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®ç°æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯ç®€å•çš„åˆ¤æ–­äº† urlString æ˜¯å¦ä¸ºç©ºï¼Œç„¶åé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;MethodChannel#invokeMethod&lt;/code&gt;å»è°ƒç”¨å¹³å°çš„æ¥å£äº†ï¼Œå¹¶å°†å‚æ•°å°è£…ä¸º Map çš„å½¢å¼ä¼ é€’è¿‡å»ã€‚æˆ‘ä»¬é€‰æ‹© Android å¹³å°ï¼Œçœ‹çœ‹å¹³å°æ˜¯å¦‚ä½•é€šè¿‡ MethodChannel å®šä¹‰æ¥å£çš„ï¼ŒiOS ä¸­å®ç°ä¹Ÿæ˜¯ç±»ä¼¼çš„æ­¥éª¤ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼Œéœ€è¦åœ¨ MainActivity ä¸­æ³¨å†Œ MethodChannel&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;kotlin&quot;&gt;&lt;pre class=&quot;language-kotlin&quot;&gt;&lt;code class=&quot;language-kotlin&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Androidå…¥å£&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; MainActivity&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;FlutterActivity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;savedInstanceState&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Bundle&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;savedInstanceState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è¿™é‡Œä¼šæ³¨å†Œæ’ä»¶&lt;/span&gt;
    GeneratedPluginRegistrant&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GeneratedPluginRegistrant&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;registerWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PluginRegistry&lt;/span&gt; registry&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å…ˆåˆ¤æ–­æ˜¯å¦å·²ç»æ³¨å†Œè¿‡äº†&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;alreadyRegisteredWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;registry&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token class-name&quot;&gt;UrlLauncherPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;registry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registrarFor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;io.flutter.plugins.urllauncher.UrlLauncherPlugin&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬äºŒæ­¥ï¼Œå®šä¹‰æ¥å£ï¼Œé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;call.argument&lt;/code&gt;è·å–å‚æ•°ï¼Œ&lt;code class=&quot;language-text&quot;&gt;call.method&lt;/code&gt;è·å–æ–¹æ³•åç§°&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onMethodCall&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MethodCall&lt;/span&gt; call&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Result&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; call&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;argument&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;call&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;method&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;canLaunch&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;onCanLaunch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;launch&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;onLaunch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;call&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;closeWebView&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;onCloseWebView&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;notImplemented&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥ï¼Œå®ç°å¹¶è¿”å›ç»“æœ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onCanLaunch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Result&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;urlLauncher&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;canLaunch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* urlLauncher.canLaunch */&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/** Returns whether the given {@code url} resolves into an existing component. */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;canLaunch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;Intent&lt;/span&gt; launchIntent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Intent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Intent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ACTION_VIEW&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  launchIntent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Uri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;ComponentName&lt;/span&gt; componentName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    launchIntent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolveActivity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;applicationContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getPackageManager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; componentName &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;{com.android.fallback/com.android.fallback.Fallback}&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;componentName&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toShortString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªåº•å±‚èƒ½åŠ›çš„æ’ä»¶ï¼Œéœ€è¦åœ¨ iOS å’Œ Android ç«¯åˆ†åˆ«å®ç°ï¼Œè¿™æ ·åœ¨ flutter å±‚å°±æ— éœ€å…³æ³¨åŸç”Ÿå®ç°ç»†èŠ‚ï¼Œåªéœ€è¦é€šè¿‡ MethodChannel è°ƒç”¨å°±å¯ä»¥äº†ã€‚æ„Ÿè§‰å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œè¿˜æ˜¯éœ€è¦ iOSï¼ŒAndroid åŒå­¦å»å¼€å‘åº•å±‚èƒ½åŠ›ï¼Œç„¶åä¸šåŠ¡åŠŸèƒ½å¯ä»¥ä½¿ç”¨ flutter å¼€å‘ã€‚å¹¸å¥½ï¼Œå¤§éƒ¨åˆ†è¿™ç§é€šç”¨åº•å±‚èƒ½åŠ›çš„æ¥å£ï¼Œå®˜æ–¹æˆ–ç¤¾åŒºéƒ½ä»¥æ’ä»¶çš„å½¢å¼å®ç°äº†ï¼Œç›´æ¥å®‰è£…å³å¯ä½¿ç”¨ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          åŒ…ç®¡ç†
        &lt;/h2&gt;
      
&lt;p&gt;flutter é€‰æ‹© dart ä½œä¸ºå¼€å‘è¯­è¨€ï¼Œdart ä½¿ç”¨çš„åŒ…ç®¡ç†æ˜¯&lt;a href=&quot;https://pub.dev/&quot;&gt;pub&lt;/a&gt;ï¼Œå®ƒä¸ npm ç±»ä¼¼ã€‚ä¸‹é¢åˆ—ä¸¾å®ƒä»¬çš„å·®å¼‚ç‚¹ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;åŒ…ç®¡ç†&lt;/th&gt;
&lt;th&gt;pub&lt;/th&gt;
&lt;th&gt;npm&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;é…ç½®æ–‡ä»¶&lt;/td&gt;
&lt;td&gt;pubspec.yaml&lt;/td&gt;
&lt;td&gt;package.json&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç‰ˆæœ¬é”æ–‡ä»¶&lt;/td&gt;
&lt;td&gt;pubspec.lock&lt;/td&gt;
&lt;td&gt;Package-lock.json&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å®‰è£…ç›®å½•&lt;/td&gt;
&lt;td&gt;flutter ç›®å½•.pub-cache ä¸‹&lt;/td&gt;
&lt;td&gt;é¡¹ç›® node_modules ä¸‹&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å¦‚éœ€åœ¨ flutter ä¸­å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼Œæ¯”å¦‚ url_launchï¼Œæ­¥éª¤å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼Œåœ¨ pubspec.yaml ä¸­ dependencies ä¸­å£°æ˜ï¼Œå¦‚æ˜¯å¼€å‘ç¯å¢ƒä¾èµ–åŒ…ï¼Œåˆ™åœ¨ dev_dependencies ä¸­å£°æ˜ï¼Œä¸ package.json ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;dependencies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;flutter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;sdk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; flutter

  &lt;span class=&quot;token key atrule&quot;&gt;url_launcher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ^5.2.3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬äºŒæ­¥ï¼Œå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œä¸€èˆ¬åœ¨ pubspec.yaml ä¸­æ”¹å˜äº†ï¼Œvscode è·å– Android studio ä¼šè‡ªåŠ¨å®‰è£…çš„ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥ä¸€èˆ¬å¯ä»¥çœç•¥ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;flutter pub get&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥ï¼Œå°±æ˜¯ç›´æ¥åœ¨é¡¹ç›®ä¸­å¼•ç”¨ä½¿ç”¨å³å¯ï¼Œå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dart&quot;&gt;&lt;pre class=&quot;language-dart&quot;&gt;&lt;code class=&quot;language-dart&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;package:url_launcher/url_launcher.dart&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;_launchURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://flutter.dev&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;canLaunch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Could not launch $url&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          å°ç»“
        &lt;/h2&gt;
      
&lt;p&gt;å¯¹äºè·¨å¹³å°çš„æ¡†æ¶ï¼Œä¸€èˆ¬éœ€è¦æ»¡è¶³æœ€åŸºæœ¬çš„ä¸¤ä¸ªæ¡ä»¶ï¼Œå…¶ä¸€æ˜¯èƒ½å¤Ÿåœ¨ä¸åŒå¹³å°ä¸Šé«˜æ•ˆçš„æ¸²æŸ“ï¼Œï¼Œå…¶äºŒæ˜¯èƒ½å¤Ÿé€šè¿‡æŸç§æ–¹å¼è°ƒç”¨å¹³å°çš„æœåŠ¡ã€‚flutter æ— ç–‘åœ¨è¿™ä¸¤æ–¹é¢éƒ½åšçš„æ¯”è¾ƒå‡ºè‰²ï¼Œå®ƒé€šè¿‡è‡ªå¸¦çš„æ¸²æŸ“å¼•æ“å¯ä»¥é«˜æ•ˆçš„åœ¨ Android å’Œ iOSï¼Œweb ç­‰å¹³å°ä¸Šæ¸²æŸ“ç•Œé¢ï¼ŒåŒæ—¶é€šè¿‡ method channel ç­‰ bridge æ–¹å¼è°ƒç”¨å¹³å°æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;flutter é€‰æ‹© dart ä½œä¸ºå¼€å‘è¯­è¨€ï¼Œå®ƒä¹Ÿæœ‰ç±»ä¼¼ npm çš„åŒ…ç®¡ç†å™¨ pubï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å®‰è£…æˆ–è€…å‘å¸ƒç‰¹å®šåŠŸèƒ½çš„æ’ä»¶ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-4&apos; &gt;
          å‚è€ƒ
        &lt;/h2&gt;
      
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://hackernoon.com/whats-revolutionary-about-flutter-946915b09514&quot;&gt;Whatâ€™s Revolutionary about Flutter&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://hackernoon.com/why-native-app-developers-should-take-a-serious-look-at-flutter-e97361a1c073&quot;&gt;Why native app developers should take a serious look at Flutter&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[DIY ä¸€ä¸ª Babel æ’ä»¶]]></title><description><![CDATA[Babelï¼Œæ˜¯ä¸€ä¸ª JavaScript çš„ç¼–è¯‘å·¥å…·ï¼Œå®ƒå¯ä»¥å°† es6+è¯­æ³•çš„ä»£ç ï¼Œè½¬æ¢ä¸ºæµè§ˆå™¨å…¼å®¹çš„ä½ç‰ˆæœ¬çš„ä»£ç ã€‚å®ƒç®€ç›´å°±æ˜¯ä¸€ä¸ªç¥å…µåˆ©å™¨ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆæ‹¥æœ‰äº†å®ƒï¼Œå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸€äº›è¾ƒæ–°çš„ es è¯­æ³•ã€‚ç¬”è€…å†³å®šå¼„æ‡‚å®ƒï¼Œå¹¶å®ç°ä¸€ä¸ªè‡ªå·±çš„ Babel æ’ä»¶ã€‚Babelâ€¦]]></description><link>https://snayan.github.io//post/2019/diy_a_babel_plugin/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/diy_a_babel_plugin/</guid><pubDate>Tue, 06 Aug 2019 19:45:00 GMT</pubDate><content:encoded>&lt;p&gt;Babelï¼Œæ˜¯ä¸€ä¸ª JavaScript çš„ç¼–è¯‘å·¥å…·ï¼Œå®ƒå¯ä»¥å°† es6+è¯­æ³•çš„ä»£ç ï¼Œè½¬æ¢ä¸ºæµè§ˆå™¨å…¼å®¹çš„ä½ç‰ˆæœ¬çš„ä»£ç ã€‚å®ƒç®€ç›´å°±æ˜¯ä¸€ä¸ªç¥å…µåˆ©å™¨ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆæ‹¥æœ‰äº†å®ƒï¼Œå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸€äº›è¾ƒæ–°çš„ es è¯­æ³•ã€‚ç¬”è€…å†³å®šå¼„æ‡‚å®ƒï¼Œå¹¶å®ç°ä¸€ä¸ªè‡ªå·±çš„ Babel æ’ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;Babel çš„å·¥ä½œåŸç†ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å…¬å¼è¡¨è¿°ã€‚å®ƒå®é™…ä¸Šå°±æ˜¯æ¥å—è¾“å…¥çš„æºä»£ç ï¼Œç„¶åå¯¹å®ƒåšä¸€äº›å¤„ç†å’Œè½¬æ¢ï¼Œæœ€åè¾“å‡ºä¸ºç›®æ ‡ç‰ˆæœ¬çš„ä»£ç ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;babel&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;sourceCode&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; distCode&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨å°†è¾“å…¥çš„æºç åšå¤„ç†æˆ–è€…è½¬æ¢æ—¶ï¼Œè¿™å°±éœ€è¦ç”¨åˆ°äº†å®ƒçš„æ’ä»¶ç³»ç»Ÿã€‚ä¸€ä¸ªæ’ä»¶åªè´Ÿè´£å¤„ç†ä¸€ä»¶äº‹ï¼Œæ¯”å¦‚&lt;code class=&quot;language-text&quot;&gt;@babel/plugin-transform-arrow-functions&lt;/code&gt; ï¼Œå°±æ˜¯è´Ÿè´£å°†ç®­å¤´å‡½æ•°è½¬æ¢ä¸ºæ™®é€šå‡½æ•°çš„æ’ä»¶ã€‚Babel æä¾›äº†éå¸¸å¤šçš„æ’ä»¶ï¼Œè¿™æ ·å°±è¶³ä»¥ä¿è¯å¯ä»¥å°†æ–°çš„ es è¯­æ³•è½¬æ¢ä¸ºæ—§ç‰ˆæœ¬çš„ä»£ç å½¢å¼ã€‚æƒ³äº†è§£è¯¦ç»†çš„ Babel æ’ä»¶ç³»ç»Ÿï¼Œå¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://babeljs.io/docs/en/plugins&quot;&gt;Babel#Plugins&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸é…ç½®ä»»ä½•çš„æ’ä»¶ï¼ŒBabel å°†ä¸ä¼šå¯¹æºç åšä»»ä½•çš„å¤„ç†ï¼Œå®ƒåªä¼šç…§åŸæ ·è¾“å‡ºã€‚ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; babel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;@babel/core&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  const a = () =&gt; {
    console.log(1);
  }
`&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// æ²¡æœ‰é…ç½®ä»»ä½•pluginï¼Œé‚£ä¹ˆè½¬æ¢ä¹‹åçš„codeå°†æ²¡æœ‰ä»»ä½•å˜åŒ–&lt;/span&gt;
babel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; err
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æˆ‘ä»¬å°†ç®­å¤´å‡½æ•°ä½¿ç”¨ Babel æ¥è½¬æ¢ï¼Œä½†æ˜¯æ²¡æœ‰é…ç½®ä»»ä½•çš„æ’ä»¶ï¼Œæœ€åè½¬æ¢ä¹‹åçš„ç»“æœå°†å’Œè¾“å…¥çš„ä»£ç ä¸€æ‘¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;âœ  babel node scripts/index.ts
const a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console.log&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚æœé…ç½®äº†&lt;code class=&quot;language-text&quot;&gt;@babel/plugin-transform-arrow-functions&lt;/code&gt;ï¼ŒBabel å°±èƒ½æ­£å¸¸å°†æˆ‘ä»¬çš„ç®­å¤´å‡½æ•°è½¬æ¢ä¸ºæ™®é€šå‡½æ•°çš„å½¢å¼äº†ã€‚å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// é…ç½®@babel/plugin-transform-arrow-functions&lt;/span&gt;
babel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;@babel/plugin-transform-arrow-functions&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; err
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è½¬æ¢ä¹‹åçš„ä»£ç å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;âœ  babel node scripts/index.ts
const a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console.log&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯¹äºå…¶ä»–çš„è¯­æ³•å½¢å¼çš„è½¬æ¢ï¼Œå¯ä»¥æ·»åŠ å…¶ä»–çš„æ’ä»¶ã€‚å¦‚æœä»…ä»…è¿™æ ·ï¼Œå¯¹äºä¸€ä¸ªå®é™…é¡¹ç›®ä»£ç çš„è½¬æ¢ï¼Œå°†è¦é…ç½®éå¸¸å¤šçš„æ’ä»¶ã€‚ä¸ºäº†ç®€åŒ–è¿™ç§å½¢å¼ï¼ŒBabel åˆæä¾›äº† Presetsï¼Œç®€å•çš„è¯´ï¼Œå°±æ˜¯å°†å¾ˆå¤šä¸ªæ’ä»¶é›†åˆé‡æ–°å‘½åä¸ºä¸€ä¸ªæ–°åç§°ã€‚è¿™æ ·ï¼Œåªéœ€è¦é…ç½®äº†è¿™ä¸ª Presetsï¼Œé‚£ä¹ˆå°±ç›¸å¯¹äºé…ç½®å®ƒæ‰€åŒ…å«çš„æ‰€æœ‰çš„æ’ä»¶ã€‚Babel å®šä¹‰äº†å¸¸ç”¨çš„ Presetsï¼Œè¯¦ç»†å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://babeljs.io/docs/en/presets&quot;&gt;Babel#Presets&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡åŠ å…¥æ’ä»¶å¤„ç†çš„æ–¹å¼ï¼ŒBabel å°†ä¼šæœ‰éå¸¸å¥½çš„å¯æ‰©å±•æ€§å’Œå¯æ’æ‹”æ€§ï¼Œæ¯”å¦‚ esNext ä¸­åˆæ·»åŠ äº†ä¸€ä¸ªæ–°çš„è¯­æ³•ç³–ï¼Œé‚£ä¹ˆ Babel åªéœ€è¦å•ç‹¬æä¾›è¿™ä¸ªæ–°è¯­æ³•å¤„ç†çš„æ’ä»¶ï¼Œå¹¶å°†å®ƒé…ç½®è¿›å»å°±å¯ä»¥äº†ã€‚å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆä»¬ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚ï¼Œå†™è‡ªå·±çš„æ’ä»¶ï¼Œå°†è¾“å…¥çš„æºç å¤„ç†æˆè‡ªå·±æƒ³è¦çš„è¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†èƒ½å†™å‡ºè‡ªå·±çš„ Babel æ’ä»¶ï¼Œæˆ‘ä»¬å°±éœ€è¦çŸ¥é“ Babel å°†è¾“å…¥çš„ä»£ç è½¬æ¢æˆä»€ä¹ˆæ ·å­ï¼Œæ’ä»¶æ¥å—çš„å‚æ•°åˆæ˜¯ä»€ä¹ˆæ ·å­ï¼Œæœ€åéœ€è¦è¿”å›çš„å€¼æ˜¯ä»€ä¹ˆæ ·å­ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          AST
        &lt;/h3&gt;
      
&lt;p&gt;Babel ä¼šå°†è¾“å…¥çš„æºä»£ç å…ˆè½¬æ¢æˆ AST(Abstract Syntax Tree)ï¼Œç„¶åå°† AST ä½œä¸ºå‚æ•°ä¼ ç»™æ’ä»¶ï¼Œæ’ä»¶å°†åœ¨ AST ä¸Šåšå¤„ç†ï¼Œå¯ä»¥æ·»åŠ ï¼Œåˆ é™¤æˆ–è€…æ”¹å˜èŠ‚ç‚¹ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸Šé¢ä¾‹å­ä¸­ç®­å¤´å‡½æ•° aï¼Œç”Ÿæˆçš„ AST å¤§è‡´ç»“æ„å¦‚ä¸‹,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;  &lt;span class=&quot;token string&quot;&gt;&quot;program&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Program&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;VariableDeclaration&quot;&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;declarations&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;VariableDeclarator&quot;&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Identifier&quot;&lt;/span&gt;,
              &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
            &lt;span class=&quot;token string&quot;&gt;&quot;init&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ArrowFunctionExpression&quot;&lt;/span&gt;,
              &lt;span class=&quot;token string&quot;&gt;&quot;params&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
              &lt;span class=&quot;token string&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;BlockStatement&quot;&lt;/span&gt;,
                &lt;span class=&quot;token string&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; â†” &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;const&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;,
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;AST å¯ä»¥çœ‹æˆä¸€æ£µæ ‘ï¼Œå®ƒåŒ…å«äº†å¾ˆå¤šçš„èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šåŒ…å«ä¸€ä¸ª type å­—æ®µï¼Œè¿™ä¸ª type å­—æ®µå°±æ˜¯ç”¨æ¥è¡¨æ˜å½“å‰èŠ‚ç‚¹çš„ç±»å‹ï¼Œæ¯”å¦‚ä¸Šé¢çš„&lt;code class=&quot;language-text&quot;&gt;Identifier&lt;/code&gt;è¡¨æ˜æ˜¯æ ‡è¯†ç¬¦ï¼Œ&lt;code class=&quot;language-text&quot;&gt;ArrowFunctionExpression&lt;/code&gt;è¡¨æ˜æ˜¯ç®­å¤´å‡½æ•°è¡¨è¾¾å¼ã€‚æƒ³è¯¦ç»†äº†è§£ AST ç»“æ„ï¼Œå¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://astexplorer.net/&quot;&gt;astexplorer&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¦å¤„ç† AST æ ‘ï¼Œå°±å¾—éå†è¿™é¢—æ ‘ï¼Œæ‰¾åˆ°æˆ‘ä»¬è¦å¤„ç†çš„èŠ‚ç‚¹ä½ç½®ã€‚å¯¹äºä¸€æ£µæ ‘çš„éå†ï¼Œæœ‰ DFS(æ·±åº¦ä¼˜å…ˆæœç´¢)å’Œ BFS(å¹¿åº¦ä¼˜å…ˆæœç´¢)ä¸¤ç§æ–¹å¼ã€‚å¯¹äº AST çš„éå†ï¼Œä½¿ç”¨çš„æ˜¯ DFS æ–¹å¼ã€‚Babel æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;@babel/traverse&lt;/code&gt;æ¥éå†å®ƒï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„æ‰¾åˆ°éœ€è¦å¤„ç†çš„èŠ‚ç‚¹ä½ç½®ã€‚ä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·æ‰¾åˆ°&lt;code class=&quot;language-text&quot;&gt;console.log(1)&lt;/code&gt;ä¸­&lt;code class=&quot;language-text&quot;&gt;1&lt;/code&gt;è¿™ä¸ªèŠ‚ç‚¹ä½ç½®ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; babel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;@babel/core&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; traverse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;@babel/traverse&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  const a = () =&gt; {
    console.log(1);
  }
`&lt;/span&gt;&lt;/span&gt;

babel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;err&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ast&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; err
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;traverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ast&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;NumericLiteral&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç”±äº&lt;code class=&quot;language-text&quot;&gt;console.log(1)&lt;/code&gt;æ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•°å­—å­—é¢é‡ï¼Œæ‰€ä»¥å®ƒå¯¹åº”çš„&lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;å°±æ˜¯&lt;code class=&quot;language-text&quot;&gt;NumericLiteral&lt;/code&gt;ã€‚æœ€åæ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;âœ  babel node scripts/index.ts
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NumericLiteral&quot;&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; 37,
    &lt;span class=&quot;token string&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; 38,
    &lt;span class=&quot;token string&quot;&gt;&quot;loc&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;line&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; 3,
            &lt;span class=&quot;token string&quot;&gt;&quot;column&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; 16
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
        &lt;span class=&quot;token string&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;line&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; 3,
            &lt;span class=&quot;token string&quot;&gt;&quot;column&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; 17
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;extra&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;rawValue&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; 1,
        &lt;span class=&quot;token string&quot;&gt;&quot;raw&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;,
    &lt;span class=&quot;token string&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;:&lt;/span&gt; 1
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼ŒèŠ‚ç‚¹åŒ…å«äº† typeï¼Œloc ä¿¡æ¯ï¼Œä»¥åŠ value ç­‰ä¿¡æ¯ã€‚æ›´å¤šå…³äº traverse çš„ä½¿ç”¨ï¼Œå¯ä»¥æŸ¥çœ‹è¿™é‡Œ&lt;a href=&quot;https://babeljs.io/docs/en/babel-traverse&quot;&gt;Babel#traverse&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          Plugin
        &lt;/h3&gt;
      
&lt;p&gt;æ ¹æ®ä¸Šé¢çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹ç»“è®ºï¼Œ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Babel ä¸­æ’ä»¶æ¥å— AST ä½œä¸ºå‚æ•°ï¼Œç„¶åå¯ä»¥åœ¨ AST ä¸Šåšä¸€äº›è‡ªå®šä¹‰çš„å¤„ç†ï¼Œæœ€åè¿”å›å¤„ç†ä¹‹åçš„ ASTã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ºäº†éªŒè¯è¿™ä¸ªç»“è®ºæ­£ç¡®æ€§ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®˜æ–¹çš„&lt;a href=&quot;https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-arrow-functions&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;@babel/plugin-transform-arrow-functions&lt;/code&gt;&lt;/a&gt;çš„æºç ï¼Œæºç åªæœ‰ 28 è¡Œä»£ç ï¼Œæˆ‘è´´å‡ºæ¥ï¼Œå¹¶åšä¸€äº›è‡ªå·±çš„æ³¨é‡Šï¼Œä¸€èµ·çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; declare &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@babel/helper-plugin-utils&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; type NodePath &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@babel/traverse&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;declare&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;api&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// åˆ¤æ–­å½“å‰Babelç‰ˆæœ¬æ˜¯å¦æ˜¯v7.x&lt;/span&gt;
  api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assertVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// æ¥å—æˆ‘ä»¬ä¼ å…¥çš„å‚æ•°&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; spec &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// è¿”å›ä¸€ä¸ªå¯¹è±¡&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;transform-arrow-functions&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

    visitor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;ArrowFunctionExpression&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token parameter&quot;&gt;path&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; NodePath&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;BabelNodeArrowFunctionExpression&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯ç®­å¤´å‡½æ•°è¡¨è¾¾å¼ï¼Œä¸æ˜¯å°±ç›´æ¥è¿”å›&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArrowFunctionExpression&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// å°†ç®­å¤´å‡½æ•°è½¬ä¸ºå‡½æ•°è¡¨è¾¾å¼&lt;/span&gt;
        path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;arrowFunctionToExpression&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          allowInsertArrow&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          specCompliant&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»æºç å¯ä»¥çœ‹å‡ºï¼Œå®ƒè¿”å›ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;declare&lt;/code&gt;å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;api&lt;/code&gt;ï¼Œä¸€ä¸ªæ˜¯&lt;code class=&quot;language-text&quot;&gt;options&lt;/code&gt;ã€‚å‡½æ•°å¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ¤æ–­æ˜¯å¦ Babel v7 çš„ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬&lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;visitor&lt;/code&gt;ï¼›å…¶ä¸­ï¼Œ&lt;code class=&quot;language-text&quot;&gt;visitor&lt;/code&gt;åˆæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæ‰çœŸæ­£åŒ…å«å¯¹è‚©å¤´å‡½æ•°è¡¨è¾¾å¼çš„å¤„ç†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œ&lt;code class=&quot;language-text&quot;&gt;path.arrowFunctionToExpression&lt;/code&gt; å°±æ˜¯ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;@babel/types&lt;/code&gt;ä¸­&lt;code class=&quot;language-text&quot;&gt;arrowfunctionexpression&lt;/code&gt;ï¼Œè¯¦ç»†å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://babeljs.io/docs/en/babel-types#arrowfunctionexpression&quot;&gt;babel-types#arrowfunctionexpression&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è·Ÿæˆ‘ä»¬çŒœæƒ³çš„ Babel æ’ä»¶æ ·å­æœ‰ç‚¹å‡ºå…¥ï¼Œä½†æ˜¯å®ƒåŒ…å«äº†æˆ‘ä»¬çŒœæƒ³çš„å†…å®¹ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºå†™ä¸€ä¸ª Babel æ’ä»¶çš„æ ·å­åº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;declare&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;api&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// apiå¯ä»¥åšä¸€äº›ç‰ˆæœ¬å…¼å®¹æ€§åˆ¤æ–­ï¼Œæˆ–è€…ç¼“å­˜ç›¸å…³çš„ã€‚&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// optionså°±æ˜¯æˆ‘ä»¬é…ç½®æ’ä»¶æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ï¼Œè¿™é‡Œæ’ä»¶å†…éƒ¨å°±å¯ä»¥ä½¿ç”¨äº†&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;my-custorm-plugin&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    visitor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// éå†ASTåšå¤„ç†&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          DIY
        &lt;/h3&gt;
      
&lt;p&gt;æ¸…æ¥šäº† Babel æ’ä»¶çš„æ¨¡ç‰ˆå½¢å¼ï¼Œå°±å¯ä»¥æŒ‰ç…§è¿™ä¸ªæ¨¡ç‰ˆå†™æˆ‘ä»¬è‡ªå®šä¹‰çš„åŠŸèƒ½æ’ä»¶ã€‚å‡è®¾ï¼Œæˆ‘ä»¬è¦å†™çš„ä¸€ä¸ª Babel æ’ä»¶ï¼Œå°±æ˜¯å»æ‰æ‰€æœ‰çš„&lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt;ç›¸å…³è°ƒè¯•ä¿¡æ¯çš„ä»£ç ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// æºä»£ç &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¾‹å¦‚ä¸Šé¢çš„ä»£ç ç»è¿‡æˆ‘ä»¬çš„ Babel æ’ä»¶å¤„ç†ä¹‹åï¼Œè¾“å‡ºçš„ä»£ç åº”è¯¥æ˜¯ä¸€ä¸ªç©ºçš„ç®­å¤´å‡½æ•° aï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è½¬æ¢ä¹‹å&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ ¹æ® Babel æ’ä»¶æ¨¡ç‰ˆä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å®ç°å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// plugins/remove-console-log.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; types &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;@babel/types&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;declare&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;api&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assertVersion&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;remove-console-log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    visitor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;ExpressionStatement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; expression &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;node&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;expression
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;types&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isCallExpression&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;expression&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; callee &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; expression&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;callee
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;types&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isMemberExpression&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callee&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; objName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callee&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name
            &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; methodName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callee&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;property&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;objName &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;console&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; methodName &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç„¶ååœ¨ babel.config.js ä¸­é…ç½®å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./plugins/remove-console-log.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœ€åï¼Œæˆ‘ä»¬é€šè¿‡ Babel è½¬æ¢ä¹‹åå°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬æœŸæœ›çš„ç»“æœäº†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;é€šè¿‡è‡ªå·±å®ç°ä¸€ä¸ª Babel æ’ä»¶ï¼Œç„¶åè´¯ç©¿æ•´ä¸ªè¿‡ç¨‹æŠŠ Babel åŸç†å¼„æ¸…æ¥šã€‚ä¸Šé¢å…¶å®è¿˜æœ‰ä¸€ä¸ªå°çŸ¥è¯†ç‚¹ï¼Œå°±æ˜¯ Babel æ€ä¹ˆå°†æºç è½¬æ¢æˆ AST çš„ã€‚å…¶å®ï¼Œå®ƒçš„è¿‡ç¨‹ä¹Ÿä¸éš¾ç†è§£ï¼Œåªæ˜¯åœ¨è½¬æ¢ä¸º AST ä¹‹å‰ï¼Œéœ€è¦å…ˆè¿›è¡Œè¯æ³•åˆ†æï¼ŒæŠŠæºç å­—ç¬¦ä¸²è½¬æ¢æˆ Token æ•°ç»„ï¼›ç„¶åæ ¹æ®è¯æ³•åˆ†æå¾—åˆ°çš„ç»“æœï¼Œè½¬æ¢æˆ ASTã€‚å®Œæ•´çš„ Babel åŸç†è¿‡ç¨‹å¯ä»¥ç®€å•çš„è¡¨è¿°ä¸ºå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4226719341e4d0193ae3882e3dfc30e6/47573/compiler.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 25.90909090909091%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJ+AAASfgGFEtSUAAABVUlEQVQY02MQkWIXEpPjVOQTYBRmYGBgBGKG3l3GzAxQ8P+/ByMDfsAsK8cmICHFqsjBwyTCEJzEY/D8v6JG53oFUaAkd2SxDCtI1aaLkh7LryuHgdieAQLsQIop/Ckv+/obSpXzehl4QJY7BPGCLOYtmCyhdeu/jkZEKr8Ug1qAuWLq5yPa7mdPggwU4eFhUAG6i2HKMfeKZRv12hkY5LjYBRmVgHLyMxIMNJYcNt0cu7JIC8gXZGdjBKplkOrwlpd+lWej06qlIcVgZKUot+9kq9zEpgCggSJcIBepb9nqLX701qYz4uqrLmqpBYM9NqOd+b6Y+KKc5IYFolfvL0LyMl9UtKnEtpNtcgEZ7pIMHGwMqs2ZDCw8igxAr7Jxg1SIrjnAqrpshmi2vICCMysnKGzZGZhZuEq4OKSikzwkBHfv4+dBMpBNgFHG+SwDMys7Ax8AKKNPRP1djzMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/4226719341e4d0193ae3882e3dfc30e6/cc182/compiler.webp 148w,
/static/4226719341e4d0193ae3882e3dfc30e6/f7e40/compiler.webp 295w,
/static/4226719341e4d0193ae3882e3dfc30e6/1a2f4/compiler.webp 590w,
/static/4226719341e4d0193ae3882e3dfc30e6/628de/compiler.webp 880w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/4226719341e4d0193ae3882e3dfc30e6/cf440/compiler.png 148w,
/static/4226719341e4d0193ae3882e3dfc30e6/d2d38/compiler.png 295w,
/static/4226719341e4d0193ae3882e3dfc30e6/b9e4f/compiler.png 590w,
/static/4226719341e4d0193ae3882e3dfc30e6/47573/compiler.png 880w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/4226719341e4d0193ae3882e3dfc30e6/b9e4f/compiler.png&quot;
          alt=&quot;compiler&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; tokens &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;tokenizer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è¯æ³•åˆ†æ&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ast &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tokens&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è½¬æ¢ä¸ºAST&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; newAst &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;transformer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ast&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è°ƒç”¨æ’ä»¶ï¼Œè¿›è¡Œè½¬æ¢&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; output &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;codeGenerator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newAst&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æœ€åï¼Œç”Ÿæˆæ–°çš„ç›®æ ‡ä»£ç &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚æœæƒ³æ›´åŠ è¯¦ç»†ç ”ç©¶ Babel çš„è¿‡ç¨‹ï¼Œå¯ä»¥çœ‹çœ‹è¿™ä¸ªç®€æ˜“çš„ç¼–è¯‘å™¨&lt;a href=&quot;https://github.com/jamiebuilds/the-super-tiny-compiler&quot;&gt;the-super-tiny-compiler&lt;/a&gt;ï¼Œå®ƒå®ç°äº†å®Œæ•´çš„æµç¨‹è¿‡ç¨‹ï¼Œä»£ç ä¹Ÿéå¸¸ç®€å•æ˜“æ‡‚ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          å‚è€ƒ
        &lt;/h3&gt;
      
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://babeljs.io/docs/en/&quot;&gt;babeljs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jamiebuilds/babel-handbook&quot;&gt;babel-handbook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jamiebuilds/the-super-tiny-compiler&quot;&gt;the-super-tiny-compiler&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[æ•°æ®ç»“æ„å’Œç®—æ³•-è·³è¡¨çš„åŸç†åŠå®ç°]]></title><description><![CDATA[â€¦]]></description><link>https://snayan.github.io//post/2019/algorithm_skip_list/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/algorithm_skip_list/</guid><pubDate>Sat, 20 Jul 2019 11:45:00 GMT</pubDate><content:encoded>
        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          TLDR
        &lt;/h2&gt;
      
&lt;ol&gt;
&lt;li&gt;è·³è¡¨æ˜¯åŸºäºé“¾è¡¨å»ºç«‹å¤šçº§ç´¢å¼•çš„åŠ¨æ€æ•°æ®ç»“æ„&lt;/li&gt;
&lt;li&gt;è·³è¡¨çš„æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦æ˜¯ &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;O(\log(n))&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;lo&lt;span style=&quot;margin-right:0.01389em;&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œè€Œå•é“¾è¡¨çš„æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦æ˜¯ &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;O(n)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;è·³è¡¨éœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´å­˜å‚¨ç´¢å¼•ï¼Œå®ç°ç©ºé—´æ¢æ—¶é—´&lt;/li&gt;
&lt;li&gt;åŠ¨æ€æ’å…¥ï¼Œåˆ é™¤æ•°æ®æ—¶ï¼Œè·³è¡¨éœ€è¦ç»´æŠ¤ç´¢å¼•å¤§å°å¹³è¡¡æ€§ï¼Œé¿å…é€€åŒ–ä¸ºå•é“¾è¡¨&lt;/li&gt;
&lt;/ol&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          åŸç†
        &lt;/h2&gt;
      
&lt;p&gt;è·³è¡¨æ˜¯ä¸€ç§é«˜æ•ˆçš„åŠ¨æ€æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯åŸºäºé“¾è¡¨å®ç°çš„ã€‚åœ¨éå†æœ‰åºå•é“¾è¡¨ä¸­ï¼Œéœ€è¦ä»å¤´æŒ‡é’ˆå¼€å§‹éå†ï¼Œé€ä¸ªèŠ‚ç‚¹çš„éå†ï¼Œç›´åˆ°é“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦éå†çš„èŠ‚ç‚¹ä¸ªæ•°æ˜¯ nã€‚å¦‚æœï¼Œæˆ‘ä»¬ç°åœ¨åšä¸€ç‚¹æ”¹å˜ï¼Œåœ¨éå†æ—¶ï¼Œä¸æ˜¯é€ä¸ªèŠ‚ç‚¹éå†ï¼Œè€Œæ˜¯æ¯æ¬¡éå† 2 ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆéå†ä¸€éåŒæ ·å¤§å°çš„é“¾è¡¨ï¼Œéœ€è¦éå†çš„èŠ‚ç‚¹ä¸ªæ•°æ˜¯ &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;Ã·&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;n \div 2 + 1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;Ã·&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.72777em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚å¦‚æœæ¯æ¬¡éå†çš„èŠ‚ç‚¹ä¸ªæ•°æ˜¯ 4 ä¸ªï¼Œé‚£ä¹ˆéœ€è¦éå†çš„èŠ‚ç‚¹ä¸ªæ•°ä¸º &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;Ã·&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;n \div 4 + 1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;Ã·&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.72777em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼›ç±»ä¼¼çš„ï¼Œä¸€æ¬¡éå† n ä¸ªèŠ‚ç‚¹å‘¢ï¼Œå°±åªéœ€è¦éå† 2 ä¸ªèŠ‚ç‚¹ï¼Œæ•´ä¸ªé“¾è¡¨å°±éå†å®Œæˆäº†ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºä¸Šè¿°æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åŸå§‹å•é“¾è¡¨çš„åŸºç¡€ä¸Šï¼Œæ¯ä¸¤ä¸ªèŠ‚ç‚¹æŠ½å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå»ºç«‹ç¬¬ä¸€å±‚ç´¢å¼•ï¼Œç¬¬ä¸€å±‚ç´¢å¼•çš„èŠ‚ç‚¹æ€»æ•°å°±ä¸º &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;Ã·&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;n \div 2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;Ã·&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚åœ¨ç¬¬ä¸€å±‚ç´¢å¼•çš„èŠ‚ç‚¹åŸºç¡€ä¸Šï¼Œæ¯ä¸¤ä¸ªèŠ‚ç‚¹å†æŠ½å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå»ºç«‹ç¬¬äºŒå±‚ç´¢å¼•ï¼Œé‚£ä¹ˆç¬¬äºŒæ¬¡ç´¢å¼•çš„èŠ‚ç‚¹æ€»æ•°ä¸º &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;Ã·&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;n \div 4&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;Ã·&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚ç±»ä¼¼çš„æ–¹å¼ï¼Œæˆ‘ä»¬å»ºç«‹ç¬¬ k å±‚ç´¢å¼•æ—¶ï¼ŒèŠ‚ç‚¹æ€»æ•°ä¸º &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;Ã·&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;n \div (2^k)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;Ã·&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.099108em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.849108em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚å¦‚æœ &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;Ã·&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;n \div (2^k) = 2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;Ã·&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.099108em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.849108em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œé‚£ä¹ˆ &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;k = \log(n) - 1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;lo&lt;span style=&quot;margin-right:0.01389em;&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ’&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚å†åŠ ä¸ŠåŸå§‹å•é“¾è¡¨è¿™ä¸€å±‚ï¼Œé‚£ä¹ˆæ•´ä¸ªé«˜åº¦å°±æ˜¯ &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\log(n)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;lo&lt;span style=&quot;margin-right:0.01389em;&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚å½“æˆ‘ä»¬åœ¨è·³è¡¨ä¸­æŸ¥æ‰¾ä¸€ä¸ªæ•°æ®æ—¶ï¼Œéœ€è¦ä»æœ€ä¸Šå±‚ç´¢å¼•å¼€å§‹æŸ¥æ‰¾ï¼Œé€å±‚å¾€ä¸‹å±‚æ‰¾ï¼Œç›´åˆ°åŸå§‹å•é“¾è¡¨è¿™ä¸€å±‚ã€‚å¦‚æœæ¯ä¸€å±‚æŸ¥æ‰¾ï¼Œéœ€è¦éå† m ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ•´ä¸ªæŸ¥æ‰¾éœ€è¦éå†çš„æ€»èŠ‚ç‚¹ä¸ªæ•°ä¸º&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;m * \log(n)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.46528em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;lo&lt;span style=&quot;margin-right:0.01389em;&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚ç”±äºæˆ‘ä»¬æ˜¯æ¯ä¸¤ä¸ªèŠ‚ç‚¹æŠ½å‡ºçš„ä¸€ä¸ªèŠ‚ç‚¹å»å»ºç«‹ç´¢å¼•ï¼Œæ‰€ä»¥æ¯ä¸€å±‚æœ€å¤šéœ€è¦éå† 3 ä¸ªèŠ‚ç‚¹ï¼Œå³ &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;m = 3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; ã€‚è·³è¡¨çš„æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦å°±ä¸º &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;3 * \log(n)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;lo&lt;span style=&quot;margin-right:0.01389em;&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œç”¨å¤§ O è¡¨ç¤ºæ³•ï¼Œå¸¸æ•°å¯ä»¥çœç•¥ï¼Œè®°ä¸º &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;O(\log(n))&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;lo&lt;span style=&quot;margin-right:0.01389em;&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5724793768d5b947fc3c203a42876f8a/2379e/skipList.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 35.03105590062112%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5UlEQVQoz41Ra08DMQzb//+bSHwZiN2jSZqmMW7HMXQMiVRRH+c4du4CRmbiiDzdn0UiT/dZNM+XozhvO/L1HbErqijcG3r0e/aOiJh7NUMtgtYaYrzvArT4FvIg1AqsAq+K1RaCA5GB1hua+52QWK8VxoaDfCYb8/AgPCznJsgriQiWskGDKrmkF5R9JWmb3oZC2XaKGg1IKPaHQnOgGKI6TJWKCCYwmJutUBdICMxtfh+qp/LR6Cnh24J8uaJTaWWB0ZpTjX3NbLUbFvtA0QKnCxW5z1oNybnjbPnXX/ux/ycOjk+/uigRwIkwNAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/5724793768d5b947fc3c203a42876f8a/cc182/skipList.webp 148w,
/static/5724793768d5b947fc3c203a42876f8a/f7e40/skipList.webp 295w,
/static/5724793768d5b947fc3c203a42876f8a/1a2f4/skipList.webp 590w,
/static/5724793768d5b947fc3c203a42876f8a/4837b/skipList.webp 885w,
/static/5724793768d5b947fc3c203a42876f8a/2f819/skipList.webp 1180w,
/static/5724793768d5b947fc3c203a42876f8a/16684/skipList.webp 1610w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/5724793768d5b947fc3c203a42876f8a/cf440/skipList.png 148w,
/static/5724793768d5b947fc3c203a42876f8a/d2d38/skipList.png 295w,
/static/5724793768d5b947fc3c203a42876f8a/b9e4f/skipList.png 590w,
/static/5724793768d5b947fc3c203a42876f8a/f9b6a/skipList.png 885w,
/static/5724793768d5b947fc3c203a42876f8a/2d849/skipList.png 1180w,
/static/5724793768d5b947fc3c203a42876f8a/2379e/skipList.png 1610w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/5724793768d5b947fc3c203a42876f8a/b9e4f/skipList.png&quot;
          alt=&quot;image-20190512115146755&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          å®ç°
        &lt;/h2&gt;
      
&lt;p&gt;å¼„æ¸…æ¥šäº†åŸç†ä¹‹åï¼Œæˆ‘ä»¬ç”¨ JavaScript å®ç°ä¸€ä¸ªæœ€ç®€å•çš„è·³è¡¨ï¼Œå®ƒå­˜å‚¨ä¸é‡å¤çš„æ•°å­—ã€‚ä¸€ä¸ªè·³è¡¨çš„åŸºæœ¬åŠŸèƒ½åº”è¯¥åŒ…å«ï¼ŒæŸ¥æ‰¾ï¼Œæ’å…¥ï¼Œåˆ é™¤ã€‚&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/DataStructure/SkipList/index.ts&quot;&gt;æŸ¥çœ‹å®Œæ•´å®ç°&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          æŸ¥æ‰¾
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨ä¸€ä¸ªè·³è¡¨ä¸­æŸ¥æ‰¾ä¸€ä¸ªæ•°æ®æ—¶ï¼Œæ€»æ˜¯ä»æœ€é¡¶å±‚çš„ç´¢å¼•å¼€å§‹æŸ¥æ‰¾ï¼Œç„¶åç›´åˆ°å½“å‰å±‚æ»¡è¶³æŸä¸€ä¸ªæ¡ä»¶ï¼Œå°±è·³è½¬åˆ°å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€å±‚ç´¢å¼•ç»§ç»­æŸ¥æ‰¾ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°è¾¾åˆ°å…ƒç´ å•é“¾è¡¨å±‚ã€‚æŸ¥æ‰¾ä¸€ä¸ªæ•°æ®çš„æ—¶é—´å¤æ‚åº¦æ˜¯ &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;O(\log(n))&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;lo&lt;span style=&quot;margin-right:0.01389em;&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// head ä¸ºå¤´èŠ‚ç‚¹ï¼Œå“¨å…µèŠ‚ç‚¹ï¼Œä¸å­˜å‚¨å®é™…æ•°æ®&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ä»é¡¶å±‚ç´¢å¼•å¼€å§‹æŸ¥æ‰¾ï¼Œå½“level-1æ—¶ï¼Œåˆ™è¡¨ç¤ºè·³è½¬åˆ°ä¸‹ä¸€å±‚çš„ç´¢å¼•ä¸­äº†&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; level &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxLevel &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; level &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; level&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isNotEmpty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¾ªç¯ä¹‹åï¼Œæ€»æ˜¯ä¼šåˆ°è¾¾åŸå§‹å•é“¾è¡¨å±‚ï¼Œç„¶ååœ¨åŸå§‹å•é“¾è¡¨å±‚ä¸­åˆ¤æ–­&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isNotEmpty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å›null&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          æ’å…¥
        &lt;/h3&gt;
      
&lt;p&gt;ä¸ºäº†ç»´æŠ¤é“¾è¡¨çš„æœ‰åºæ€§ï¼Œéœ€è¦æŠŠèŠ‚ç‚¹æ’å…¥åˆ°åˆé€‚çš„ä½ç½®ï¼Œè€Œä¸æ˜¯ç›´æ¥æ’å…¥åˆ°é“¾è¡¨çš„å°¾éƒ¨ã€‚è·³è¡¨å¿…é¡»æ˜¯æœ‰åºæ€§çš„ï¼Œä¸ç„¶æˆ‘ä»¬çš„æŸ¥æ‰¾æ€§èƒ½å°±ä¼šé€€åŒ–åˆ° &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;O(n)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚ä¸ºäº†æ’å…¥åˆ°åˆé€‚çš„ä½ç½®ï¼Œéœ€è¦å…ˆæ‰§è¡Œç±»ä¼¼æŸ¥æ‰¾æ“ä½œï¼Œæ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„ä½ç½®ã€‚æ¯æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦åŠ¨æ€ç»´æŠ¤ç´¢å¼•çš„å¹³è¡¡æ€§ã€‚æˆ‘ä»¬å¯ä»¥éšæœºç”Ÿæˆæ–°èŠ‚ç‚¹ç´¢å¼•å±‚çº§æ•°ã€‚åœ¨æ’å…¥æ–°èŠ‚ç‚¹åï¼Œè¿˜éœ€è¦æ›´æ–°æ–°èŠ‚ç‚¹æ‰€æœ‰å±‚çº§çš„ç´¢å¼•ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¼˜åŒ–ï¼Œä¸æŸ¥æ‰¾ä¸åŒçš„æ˜¯ï¼Œä¸æ˜¯ä»é¡¶å±‚ç´¢å¼•å¼€å§‹æŸ¥æ‰¾ï¼Œè€Œæ˜¯ä»ç”Ÿæˆçš„éšæœºç´¢å¼•å±‚å¼€å§‹ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨é“¾è¡¨ä¸­æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶é—´ä¸º &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;O(1)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œä½†æ˜¯è·³è¡¨éœ€è¦å…ˆæŸ¥æ‰¾ï¼Œå†æ’å…¥ï¼Œæ‰€ä»¥è·³è¡¨çš„æ’å…¥æ“ä½œçš„æ—¶é—´ä¸º &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;O(\log(n))&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;lo&lt;span style=&quot;margin-right:0.01389em;&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è·å–éšæœºç´¢å¼•å±‚&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newLevel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;randomLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// å…ˆç”Ÿæˆæ–°èŠ‚ç‚¹&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newNode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LinkedNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; maxLevel&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; newLevel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nexts&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// æ¯ä¸€å±‚ç´¢å¼•å¾…æ›´æ–°èŠ‚ç‚¹&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; updatedNode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LinkedNode&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ä»ç”Ÿæˆçš„ç´¢å¼•å±‚å¼€å§‹æŸ¥æ‰¾&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; level &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newLevel &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; level &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; level&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isNotEmpty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è·³è½¬ä¸‹ä¸€å±‚ä¹‹å‰ï¼Œè®°å½•å½“å‰å±‚éœ€è¦æ›´æ–°çš„èŠ‚ç‚¹&lt;/span&gt;
    updatedNode&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœè·³è¡¨ä¸­å·²ç»å­˜åœ¨valueï¼Œåˆ™ä¸æ’å…¥&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isNotEmpty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// æ¯å±‚ç´¢å¼•æ’å…¥æ–°çš„å€¼&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; newLevel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    newNode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; updatedNode&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    updatedNode&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newNode&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// æ›´æ–°maxLevel&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newLevel &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxLevel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxLevel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newLevel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// count å€¼åŠ 1&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          åˆ é™¤
        &lt;/h3&gt;
      
&lt;p&gt;åˆ é™¤æ“ä½œè·Ÿæ’å…¥ç±»ä¼¼ï¼Œä¹Ÿæ˜¯å…ˆæ‰¾åˆ°è¦åˆ é™¤çš„ä½ç½®ï¼Œç„¶åä»åŸå§‹é“¾è¡¨ä¸­åˆ é™¤ï¼Œå¹¶ä¸”æ›´æ–°åˆ é™¤èŠ‚ç‚¹æ‰€æœ‰å±‚çº§çš„ç´¢å¼•ã€‚åˆ é™¤æ“ä½œçš„æ—¶é—´ä¹Ÿæ˜¯ &lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;log&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;O(\log(n))&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;lo&lt;span style=&quot;margin-right:0.01389em;&quot;&gt;g&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œæ¯”è¾ƒç®€å•ï¼Œå°±ä¸ç»†è¯´äº†ï¼Œç›´æ¥è´´ä»£ç ï¼Œçœ‹ä¸€ä¸‹å°±æ˜ç™½äº†ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ç´¢å¼•å±‚å¾…æ›´æ–°èŠ‚ç‚¹&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; updatedNode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LinkedNode&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ä»é¡¶å±‚ç´¢å¼•å¼€å§‹æŸ¥æ‰¾&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; level &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxLevel &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; level &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; level&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isNotEmpty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    updatedNode&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;level&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœæ‰¾åˆ°äº†ï¼Œåˆ™å¼€å§‹åˆ é™¤&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isNotEmpty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; level &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maxLevel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; level&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nexts&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// count å€¼å‡1&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è·³è¡¨è¿™ç§æ•°æ®ç»“æ„åœ¨å‰ç«¯åº”ç”¨ä¸­å‡ºç°å¾ˆå°‘ï¼ŒåŸºæœ¬ä¸ä¼šç”¨åˆ°ã€‚å®ƒæ¯”åŸå§‹çš„å•é“¾è¡¨æ€§èƒ½è¦å¥½å¾ˆå¤šã€‚å½“æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæœ‰åºçš„å•é“¾è¡¨æ—¶ï¼Œä¸å¦¨å¯ä»¥è€ƒè™‘ä½¿ç”¨è·³è¡¨ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[æ·±å…¥æµ…å‡ºåŠ¨ç”»å¸§]]></title><description><![CDATA[åœ¨å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ä¸­ï¼Œè€³ç†Ÿèƒ½è¯¦çš„æ‰‹æ®µæœ‰ï¼Œé›…è™ 35 æ¡å†›è§„ï¼Œä½¿ç”¨ cacheï¼Œå‡å°‘è¯·æ±‚æ•°é‡ï¼Œä½¿ç”¨cookie-free domainï¼Œcritical assetï¼Œä½¿ç”¨ CDNï¼ŒLazy loadï¼ŒPreLoadâ€¦]]></description><link>https://snayan.github.io//post/2019/in_depth_animation_frame/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/in_depth_animation_frame/</guid><pubDate>Mon, 27 May 2019 19:48:00 GMT</pubDate><content:encoded>&lt;p&gt;åœ¨å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ä¸­ï¼Œè€³ç†Ÿèƒ½è¯¦çš„æ‰‹æ®µæœ‰ï¼Œ&lt;a href=&quot;https://developer.yahoo.com/performance/rules.html?guccounter=1&quot;&gt;é›…è™ 35 æ¡å†›è§„&lt;/a&gt;ï¼Œä½¿ç”¨ cacheï¼Œå‡å°‘è¯·æ±‚æ•°é‡ï¼Œä½¿ç”¨&lt;a href=&quot;https://www.keycdn.com/support/how-to-use-cookie-free-domains&quot;&gt;cookie-free domain&lt;/a&gt;ï¼Œ&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/critical-rendering-path/optimizing-critical-rendering-path&quot;&gt;critical asset&lt;/a&gt;ï¼Œä½¿ç”¨ CDNï¼ŒLazy loadï¼ŒPreLoad ç­‰ï¼Œè¿™äº›æ‰‹æ®µå…¶å®ä¸»è¦éƒ½æ˜¯å›´ç»•æ€ä¹ˆæ ·æ›´å¿«çš„æ‹¿åˆ°æ‰€éœ€å…³é”®èµ„æºã€‚å½“æˆ‘ä»¬æŠŠè¿™ä¸€æ­¥åšåˆ°å¾ˆå¥½ï¼Œæ²¡æœ‰å¯ä¼˜åŒ–ç©ºé—´äº†ï¼Œå…¶å®è¿˜å¯ä»¥ä»å¦å¤–ä¸€ä¸ªæ–¹å‘å»åšä¼˜åŒ–ï¼Œé‚£å°±æ˜¯æµè§ˆå™¨æ¸²æŸ“æ–¹é¢ã€‚æµè§ˆå™¨æ¸²æŸ“ä¼˜åŒ–æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ä¸»é¢˜ï¼Œä»Šå¤©ï¼Œæˆ‘ä»¬åªè°ˆå®ƒä¸€ä¸ªå°è§’åº¦ï¼ŒåŠ¨ç”»å¸§ã€‚ä»åŠ¨ç”»å¸§ï¼Œæˆ‘ä»¬å¯ä»¥æ€ä¹ˆæ ·æ¥åšä¸€äº›ä¼˜åŒ–å·¥ä½œå‘¢ï¼Ÿæœ¬æ–‡ç¯‡å¹…è¾ƒé•¿ï¼Œå›¾è¾ƒå¤šï¼Œè€å¿ƒçœ‹å®Œï¼Œä¸€å®šä¼šæœ‰å¾ˆå¤šæ”¶è·çš„ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          åŸºç¡€æ¦‚å¿µ
        &lt;/h2&gt;
      
&lt;p&gt;å…ˆè¿˜æ˜¯æ¥ç†Ÿæ‚‰åŸºç¡€æ¦‚å¿µã€‚å¸§ï¼Œå¯ä»¥ç†è§£ä¸ºæµè§ˆå™¨æ¯ä¸€æ¬¡ç»˜åˆ¶çš„å¿«ç…§ã€‚1s å†…ç»˜åˆ¶çš„æ¬¡æ•°ï¼Œå«åšå¸§ç‡ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ fpsï¼ˆframe per secondï¼‰ã€‚å¸§ç‡è¶Šå¤§ï¼Œæµè§ˆå™¨åœ¨ 1s å†…ç»˜åˆ¶çš„æ¬¡æ•°å°±è¶Šå¤šï¼ŒåŠ¨ç”»å°±è¶Šæµç•…ã€‚äººä»¬è§†è§‰ç³»ç»Ÿå¯¹å¸§ç‡çš„æœ€ä½è¦æ±‚ä¸€èˆ¬æ˜¯ 24fpsï¼Œå½“å¸§ç‡ä½äº 24 æ—¶ï¼Œå°±ä¼šæ„Ÿè§‰åˆ°æ˜æ˜¾çš„å¡é¡¿äº†ã€‚ä¸åŒçš„ç§»åŠ¨è®¾å¤‡ï¼Œæœ‰ä¸åŒçš„å¸§ç‡ï¼Œä¸€èˆ¬é»˜è®¤æ˜¯ 60fpsã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4c0b0a52cee623505e851dc3635e2050/3b243/frame.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 28.80859375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABAUlEQVQY02NYtHpj8PyV670WrNrgvWDlem8g7QPFILb3fJgYhEZWA+OD9PoDscmEmfMZGBat2XRl8drNL4H4KRA/A2Gg2DMYGyr+FFkeDYPEnwPxwyXrttgyOHn6C09fuJyve8osvp6ps/l6ps3h6wbSvUC6a/JMvtq2HoG69l4BEA3ig8RBanqgakB03/R5vG39U0WqW7r4GICAnQE/YAFiDiBmYyAMmBiATl22dP3WhUDnzgfSi6D0QiBeAKOBYguhbLAaIJ4HFFsEVrMOLLYEiGet2LRDgQEokQg0NAeIM6A4CyiWDqJhfBANFMsE0jAMEksHioH0pUH5ecCw1wAA4r/tnDSw2qsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/4c0b0a52cee623505e851dc3635e2050/cc182/frame.webp 148w,
/static/4c0b0a52cee623505e851dc3635e2050/f7e40/frame.webp 295w,
/static/4c0b0a52cee623505e851dc3635e2050/1a2f4/frame.webp 590w,
/static/4c0b0a52cee623505e851dc3635e2050/4837b/frame.webp 885w,
/static/4c0b0a52cee623505e851dc3635e2050/86447/frame.webp 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/4c0b0a52cee623505e851dc3635e2050/cf440/frame.png 148w,
/static/4c0b0a52cee623505e851dc3635e2050/d2d38/frame.png 295w,
/static/4c0b0a52cee623505e851dc3635e2050/b9e4f/frame.png 590w,
/static/4c0b0a52cee623505e851dc3635e2050/f9b6a/frame.png 885w,
/static/4c0b0a52cee623505e851dc3635e2050/3b243/frame.png 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/4c0b0a52cee623505e851dc3635e2050/b9e4f/frame.png&quot;
          alt=&quot;frame&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¦è¿½æ±‚çš„ç†æƒ³å¸§ç‡æ˜¯ 60fpsï¼Œé‚£ä¹ˆä¸€å¸§ç»˜åˆ¶çš„æ—¶é—´æœ€å¤šæ˜¯ 1 / 60 = 16.7msï¼Œä¸€æ—¦è¶…è¿‡è¿™ä¸ªæ•°ï¼Œå°±è¾¾ä¸åˆ° 60fps äº†ã€‚ä¸ºäº†ä½¿å¾—ä¸€å¸§èŠ±è´¹çš„æ—¶é—´æ§åˆ¶åœ¨ 16.7ms å†…ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆææ¸…æ¥šæµè§ˆå™¨åœ¨ä¸€å¸§ä¼šåšäº›ä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿ&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          å¸§ä»»åŠ¡
        &lt;/h2&gt;
      
&lt;p&gt;htmlï¼Œjsï¼Œcss æ˜¯æµè§ˆå™¨å¤„ç†æœ€ä¸ºå¸¸è§çš„ä¸‰ç§èµ„æºï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å‰ç«¯å·¥ç¨‹å¸ˆæ¯å¤©éƒ½ä¼šæ‰“äº¤é“çš„æ–‡ä»¶ã€‚å¯æ˜¯æˆ‘ä»¬çœŸæ­£çŸ¥é“æµè§ˆå™¨æ˜¯æ€ä¹ˆç»˜åˆ¶çš„å—ï¼Ÿç¨å¾®æ€è€ƒä¸€ä¸‹ï¼Œç„¶åä¼šè¯´ï¼Œhtml è§£æä¸º dom treeï¼Œcss è§£æä¸º cssom treeï¼Œç„¶å dom tree åŠ ä¸Š cssom tree å°±åˆå¹¶ä¸º render treeï¼Œæœ€åæµè§ˆå™¨æ ¹æ® render tree ç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚è¿™æ˜¯æˆ‘ä»¬æœ€ä¸ºç†ŸçŸ¥çš„æ­¥éª¤ï¼Œä½†æ˜¯å®ƒåªæ˜¯æè¿°äº†ä¸€ä¸ªæ•´ä½“å¤§è‡´çš„è¿‡ç¨‹ï¼Œå¹¶æ²¡æœ‰å…·ä½“åˆ°ä¸€å¸§çš„ç»˜åˆ¶è¿‡ç¨‹ã€‚ä¸‹é¢çœ‹çœ‹ä¸€å¸§å…·ä½“ç»˜åˆ¶çš„è¿‡ç¨‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b47e67fb8c9559948b922b13ba8df45a/3b243/step.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 15.234375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAA6ElEQVQI1x3OwUrCAACAYR+uXqKTlwq7FBThxUE9hIQdIogOLRV12HCsVbqQwUJH6bbaSlcZoejKufDyVx6/25eYhzaznkj8KhEHZX7eK3itAa36FOs2pGN80W6EtP9tfnDj19BcGd2/pO6paI8y1081FKeCP3RJzLxjRuoy4+Yqo0aSqb6EnC1ykBlyKLyQywTkhD5H+29k92y28ynSUorNQpKd0hq75XWE6hYb4goF65TEfPxA5J8Q9fJEz2fEfRHHCDCUb+6uJlh6iKlNMNU/NweLyUWnuFiqThW5W0KxJaT7c9zPLr+4L8ODojnt9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b47e67fb8c9559948b922b13ba8df45a/cc182/step.webp 148w,
/static/b47e67fb8c9559948b922b13ba8df45a/f7e40/step.webp 295w,
/static/b47e67fb8c9559948b922b13ba8df45a/1a2f4/step.webp 590w,
/static/b47e67fb8c9559948b922b13ba8df45a/4837b/step.webp 885w,
/static/b47e67fb8c9559948b922b13ba8df45a/86447/step.webp 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b47e67fb8c9559948b922b13ba8df45a/cf440/step.png 148w,
/static/b47e67fb8c9559948b922b13ba8df45a/d2d38/step.png 295w,
/static/b47e67fb8c9559948b922b13ba8df45a/b9e4f/step.png 590w,
/static/b47e67fb8c9559948b922b13ba8df45a/f9b6a/step.png 885w,
/static/b47e67fb8c9559948b922b13ba8df45a/3b243/step.png 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/b47e67fb8c9559948b922b13ba8df45a/b9e4f/step.png&quot;
          alt=&quot;step&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾å°±æ˜¯æµè§ˆå™¨åœ¨ç»˜åˆ¶ä¸€å¸§æ—¶ï¼Œä¼šç»è¿‡çš„å¤„ç†æ­¥éª¤ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JavaScriptï¼Œæˆ‘ä»¬ä¼šé€šè¿‡ js æ¥æ”¹åŠ¨ä¸€äº›è§†è§‰æ•ˆæœï¼Œæ¯”å¦‚åŸºäº js çš„åŠ¨ç”»ï¼Œæˆ–è€…å“åº”ç”¨æˆ·äº‹ä»¶ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;Styleï¼Œå¦‚æœé€šè¿‡ js æ”¹å˜äº†æŸä¸€ä¸ª dom çš„æ ·å¼ï¼Œå°±ä¼šé‡æ–°è®¡ç®—å—å½±å“çš„å…ƒç´ çš„æ ·å¼ã€‚&lt;/li&gt;
&lt;li&gt;Layoutï¼Œå¦‚æœæ ·å¼æ”¹å˜ä¸­æ¶‰åŠäº†å¸ƒå±€å±æ€§ï¼Œä¾‹å¦‚ topï¼Œleftï¼Œwidth ç­‰å‡ ä½•ä½ç½®ï¼Œè¿˜ä¼šé‡æ–°è®¡ç®—å®ƒçš„å¸ƒå±€ä½ç½®ï¼Œä»¥åŠå—å½±å“çš„å…¶ä»–å…ƒç´ çš„å¸ƒå±€ã€‚å½“ç„¶ï¼Œå¦‚æœä¸æ¶‰åŠå¸ƒå±€æ ·å¼ï¼Œä¹Ÿä¸ä¼šæ‰§è¡Œè¿™ä¸€æ­¥ã€‚&lt;/li&gt;
&lt;li&gt;Paintï¼Œè®¡ç®—å‡º Style å’Œ Layout åï¼Œå°±å¯ä»¥æŠŠå…ƒç´ ç»˜åˆ¶åˆ°å®ƒæ‰€å±çš„ paint layer ä¸Šã€‚&lt;/li&gt;
&lt;li&gt;Compositeï¼Œæœ€åä¼šå°†å¤šä¸ª composite layer è¾“å‡ºåˆ°å±å¹•ä¸Šæ˜¾ç¤ºå‡ºæ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¦æ§åˆ¶ä¸€å¸§çš„æ‰§è¡Œæ—¶é—´åœ¨ 16.7ms å†…ï¼Œå°±åªéœ€è¦æŠŠä¸Šè¿° 5 ä¸ªæ­¥éª¤å¤„ç†æ—¶é—´æ€»å’Œæ§åˆ¶åœ¨ 16.7ms å†…ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€ä¸ªæ­¥éª¤ä¸€ä¸ªæ­¥éª¤æ¥çœ‹ï¼Œæœ‰å“ªäº›ä¼˜åŒ–å»ºè®®ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          JavaScript
        &lt;/h2&gt;
      

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          requestAnimationFrame
        &lt;/h3&gt;
      
&lt;p&gt;JavaScript æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆçš„åˆ©å™¨ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å¯ä»¥å®ç°éå¸¸å¤æ‚çš„ç³»ç»Ÿï¼Œæˆ–è€…éå¸¸æµç•…çš„æ¸¸æˆç­‰ã€‚JavaScript é€šå¸¸ä¼šå¤„ç†ç”¨æˆ·è¾“å…¥æˆ–è€…ç‚¹å‡»ç­‰äº‹ä»¶ï¼Œç„¶ååšä¸€ç³»åˆ—çš„è§†è§‰æ•ˆæœçš„æ”¹å˜ã€‚&lt;strong&gt;å½“æ¶‰åŠ dom å…ƒç´ æ”¹å˜æ—¶ï¼Œæ€»æ˜¯æŠŠæ“ä½œæ”¾åœ¨ &lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame&lt;/code&gt;ä¸­&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame&lt;/code&gt;ä¼šæœ‰ä»€ä¹ˆç¥å¥‡ä¹‹å¤„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®ƒæ€»æ˜¯ä¼šç¡®ä¿ fn çš„æ‰§è¡Œåœ¨æµè§ˆå™¨ä¸€å¸§çš„å¼€å¤´&lt;/li&gt;
&lt;li&gt;æµè§ˆå™¨ä¼šè‡ªåŠ¨è°ƒèŠ‚å¸§ç‡ï¼Œé—´æ¥è°ƒèŠ‚äº† fn çš„æ‰§è¡Œé¢‘ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ä¸æ”¯æŒ raf çš„æµè§ˆå™¨ä¸­ï¼Œé€šå¸¸ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;setTimeout(fn, 16.7)&lt;/code&gt;æ¥å®ç°ã€‚ä½†æ˜¯&lt;code class=&quot;language-text&quot;&gt;setTimeout&lt;/code&gt;æœ‰ä¸€äº›ä¸å¥½çš„åœ°æ–¹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®ƒå¹¶ä¸æ˜¯ä¿è¯ fn æ¯éš” 16.7ms å°±æ‰§è¡Œä¸€æ¬¡ï¼Œå®ƒåªèƒ½æ¯ 16.7ms å°† fn åŠ å…¥åˆ°&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop&quot;&gt;MacroTask Queue&lt;/a&gt;ä¸­ï¼Œå…·ä½“ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œè¦æ ¹æ®å½“å‰æ‰§è¡Œé˜Ÿåˆ—å†³å®š&lt;/li&gt;
&lt;li&gt;å®ƒä¸èƒ½ä¿è¯æ¯æ¬¡æ‰§è¡Œæ—¶æœºéƒ½æ˜¯ä¸€å¸§çš„å¼€å¤´ï¼Œå¯èƒ½æŸä¸€æ¬¡æ‰§è¡Œè§¦å‘æ˜¯åœ¨å¸§çš„ä¸­é—´æˆ–è€…ç»“å°¾ï¼Œå¯¼è‡´å»¶é•¿å½“å‰å¸§åœ¨ 16.7ms å†…æ— æ³•æ‰§è¡Œå®Œæˆï¼Œå°±ä¼šå‡ºç°ä¸¢å¤±å½“å‰å¸§&lt;/li&gt;
&lt;li&gt;ä¸åŒè®¾å¤‡å¸§ç‡ä¸ä¸€æ ·ï¼Œå¹¶ä¸æ˜¯å›ºå®šçš„ 60fpsï¼Œç»™ä½å¸§ç‡ï¼ˆæ¯”å¦‚ 30fpsï¼‰çš„è®¾å¤‡ä¸Šæ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;setTimeout(fn, 16.7)&lt;/code&gt;å°†ä¼šå¯¼è‡´æ‰§è¡Œå¾ˆå¤šæ— æ„ä¹‰çš„ fn&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;setTimeout&lt;/code&gt;æ¥å®ç°ï¼Œæ¯ 16.7ms å°±æ›´æ–°ä¸€æ¬¡å°çƒçš„ä½ç½®ï¼Œè¿™æ ·å°½é‡ä¿è¯äº† 1s å†…æ›´æ–° 60 æ¬¡ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨setTimeoutæ¥å®ç°å°çƒä¸‹è½çš„åŠ¨ç”»&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animtionWithSetTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;updateBoll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;animtionWithSetTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;16.7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡ Chrome çš„ Performance æ¥åˆ†æå½“å‰å¸§ç‡æƒ…å†µå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e41ad9a6a77d2b46ae8bb7d4281e149c/3b243/setTimeout.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 34.765625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABUUlEQVQoz1VQa0+DQBDk//8qo7EaE2ubqE2rPO4AueM4oHC8KeMC1eiHyczOzuwRLL5/hP1yD3f/AGdHvNv88sf2Dg7B297Ceb6lzOZ/5u9MffvpBhb3XPjMA/c8sEUzcDZrD19hCP/zhODwivB0II92rnvNEhbNVk1wHQeWVDF46COKBaRW8AKOUEaIErnqWNIsYHO2aq1h00OBUgiShHyOQAgE1HFcOmgHES0EmKKQFlBVjqQ+QzfForVJEflHCMmhqxRZcIQOT0iFg0w6UIVC2hnEuYRg7/SFWYe6A8p6gmmmRVctFq57ghlQKIa6qBfdSIUm1qj1GU2SLV49AEVaIfHeYKliXIplO6GiI4a4bC8rz3PZIk8zmPRMHvkjZelASR0zrL05a6hc0m+zojhB2w0YxumKC3rCz9z3I0ZTYmga8tf9MFwxZ688Z3OT4xscowtkbqt80gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/e41ad9a6a77d2b46ae8bb7d4281e149c/cc182/setTimeout.webp 148w,
/static/e41ad9a6a77d2b46ae8bb7d4281e149c/f7e40/setTimeout.webp 295w,
/static/e41ad9a6a77d2b46ae8bb7d4281e149c/1a2f4/setTimeout.webp 590w,
/static/e41ad9a6a77d2b46ae8bb7d4281e149c/4837b/setTimeout.webp 885w,
/static/e41ad9a6a77d2b46ae8bb7d4281e149c/86447/setTimeout.webp 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/e41ad9a6a77d2b46ae8bb7d4281e149c/cf440/setTimeout.png 148w,
/static/e41ad9a6a77d2b46ae8bb7d4281e149c/d2d38/setTimeout.png 295w,
/static/e41ad9a6a77d2b46ae8bb7d4281e149c/b9e4f/setTimeout.png 590w,
/static/e41ad9a6a77d2b46ae8bb7d4281e149c/f9b6a/setTimeout.png 885w,
/static/e41ad9a6a77d2b46ae8bb7d4281e149c/3b243/setTimeout.png 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/e41ad9a6a77d2b46ae8bb7d4281e149c/b9e4f/setTimeout.png&quot;
          alt=&quot;setTimeout&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¸§ç‡ä¸Šä¼šæœ‰ä¸€äº›é”¯é½¿ï¼Œè¡¨ç¤ºæœ‰éƒ¨åˆ†æƒ…å†µæ˜¯ä½äº 60fps çš„ã€‚å¹¶ä¸”åœ¨ä¸Šå›¾ä¸­ï¼ŒæŸä¸€å¸§ä¸­æ‰§è¡Œäº†ä¸¤æ¬¡&lt;code class=&quot;language-text&quot;&gt;updateBoll&lt;/code&gt;ï¼Œç¬¬äºŒæ¬¡çš„&lt;code class=&quot;language-text&quot;&gt;updateBoll&lt;/code&gt;æ˜¯åœ¨å¸§å¿«ç»“æŸæ—¶è§¦å‘çš„ï¼Œæ‰€ä»¥æ‹‰é•¿äº†å½“å‰å¸§æ‰§è¡Œçš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/db3b1864ff7ef0d145e6d4e38ffb273b/3b243/setTimeout2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAABjklEQVQ4y62UTW7UQBCFfYNwAS4QcSbW2SKx4wLcAA6AhJBCUCR+FrCBFQixISIoi5DEVsbQGo/d/ulf2x9tR2RiYGAijaXnLrmqX9Xr13LEhp+o7/sxGNZV+JVfi3Cd4nXJJhMWyhFnmu/S8iNAlJZkoamNv96ES0I/kgyE57khbxxCGirtriu5nxQvmg7b9v+U/Pu5X/12MeGVxLzyKGPHuM0E/vSEboi7NqC7xCrTomXX8c1MQnmhEv/1jO7Fy9Vm/UVBVBQFzrnLdJEd0yR79OIVJn2KOD3g5MjwJvnMfvyR5/Ennp19YKZzVNWgtJrIj4QQE0KSh7Svb2DebdO/3eLLo3s8uL/g1pM73NzbYXv/LluPb7ObvKetNFVdT01J0xQp5UhqrUPVC3QZ45oZ8/SQ8/gbZRGcl3PiQpAMkILaaoa9WZbhvA97LT6sUR06VFWFDYTGmEBeoW0XikCGCYqyxLeWzrc4bdBBZnAFF5rneU4Z8gPZAKXU0pQ/j7tfbcL/LvYmEW36b/MTCLyNv9H6rOwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/db3b1864ff7ef0d145e6d4e38ffb273b/cc182/setTimeout2.webp 148w,
/static/db3b1864ff7ef0d145e6d4e38ffb273b/f7e40/setTimeout2.webp 295w,
/static/db3b1864ff7ef0d145e6d4e38ffb273b/1a2f4/setTimeout2.webp 590w,
/static/db3b1864ff7ef0d145e6d4e38ffb273b/4837b/setTimeout2.webp 885w,
/static/db3b1864ff7ef0d145e6d4e38ffb273b/86447/setTimeout2.webp 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/db3b1864ff7ef0d145e6d4e38ffb273b/cf440/setTimeout2.png 148w,
/static/db3b1864ff7ef0d145e6d4e38ffb273b/d2d38/setTimeout2.png 295w,
/static/db3b1864ff7ef0d145e6d4e38ffb273b/b9e4f/setTimeout2.png 590w,
/static/db3b1864ff7ef0d145e6d4e38ffb273b/f9b6a/setTimeout2.png 885w,
/static/db3b1864ff7ef0d145e6d4e38ffb273b/3b243/setTimeout2.png 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/db3b1864ff7ef0d145e6d4e38ffb273b/b9e4f/setTimeout2.png&quot;
          alt=&quot;setTimeout2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame&lt;/code&gt;æ¥å®ç°å®ƒã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨requestAnimationFrameæ¥å®ç°å°çƒä¸‹è½&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animationWithRaf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;updateBoll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animationWithRaf&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åŒæ ·ï¼Œä½¿ç”¨ Chrome çš„ Performance æ¥åˆ†æå½“å‰å¸§ç‡æƒ…å†µå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bd95ab6ef5f71c0d46065e6aa941114f/3b243/raf.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 32.6171875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQoz11P2ZaCMBTj/79sjs7iLqJCoYVSVBwFpYCauW2d5cxDTpKbtLf1VqMXbCYDBE82PvFHiJcj8NUY2+kQIpgg9sdgNAvGA4SLd/Iu/89evFkgIbD1HPHa6CVYMLeekY9tRjx7QzJ9BV98EA/BVjPbj0w3cGdDfwYv4RKcp1B5gVRk4ImAzHIImgnyhdrZXEYR8igEX28gwy2yVCJ5du050+eCLiw4gjTANqPygSMhqLqwzEvh9J4jVAzZuQAjnVUK8qzACmbzKGeIFC2sJLxjdcX+VEOVJ1T6hrrpkO8OqNsH4W5x6R4uIxhtIHcl9ufGatcznTs83QOXFrh2jqtrj89Ko2qoqA3whNNmfiEu6bJj3Vv9nZvM0+0NmrY03d2y7s2mFk376y2b/Ec/6AHmN62b/Zl/AQyvCsdJKoRWAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/bd95ab6ef5f71c0d46065e6aa941114f/cc182/raf.webp 148w,
/static/bd95ab6ef5f71c0d46065e6aa941114f/f7e40/raf.webp 295w,
/static/bd95ab6ef5f71c0d46065e6aa941114f/1a2f4/raf.webp 590w,
/static/bd95ab6ef5f71c0d46065e6aa941114f/4837b/raf.webp 885w,
/static/bd95ab6ef5f71c0d46065e6aa941114f/86447/raf.webp 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/bd95ab6ef5f71c0d46065e6aa941114f/cf440/raf.png 148w,
/static/bd95ab6ef5f71c0d46065e6aa941114f/d2d38/raf.png 295w,
/static/bd95ab6ef5f71c0d46065e6aa941114f/b9e4f/raf.png 590w,
/static/bd95ab6ef5f71c0d46065e6aa941114f/f9b6a/raf.png 885w,
/static/bd95ab6ef5f71c0d46065e6aa941114f/3b243/raf.png 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/bd95ab6ef5f71c0d46065e6aa941114f/b9e4f/raf.png&quot;
          alt=&quot;raf&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¸§ç‡æ˜æ˜¾ç¨³å®šåœ¨ 60fps å·¦å³ï¼Œæ²¡æœ‰ä¸Šé¢å‡ºç°çš„é”¯é½¿äº†ï¼Œç¡®ä¿äº†æ¯ä¸€å¸§ä¸­éƒ½åªä¼šè§¦å‘ä¸€æ¬¡&lt;code class=&quot;language-text&quot;&gt;updateBoll&lt;/code&gt;ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          åˆ†å—æ‰§è¡Œ
        &lt;/h3&gt;
      
&lt;p&gt;JavaScript çš„æ‰§è¡Œæ˜¯åœ¨ä¸€å¸§çš„å¼€å¤´ï¼ŒJavaScript æ‰§è¡Œçš„æ—¶é—´è¶Šé•¿ï¼Œé‚£ä¹ˆå½“å‰å¸§èŠ±è´¹çš„æ—¶é—´å°±è¶Šé•¿ã€‚å½“æµè§ˆå™¨è¦å¼€å§‹æ›´æ–°å±å¹•äº†ï¼Œå¦‚æœå½“å‰å¸§è¿˜æœªå®Œæˆï¼Œé‚£ä¹ˆå½“å‰å¸§å°±ä¼šè¢«ä¸¢å¼ƒï¼Œå»¶è¿Ÿåˆ°ä¸€ä¸‹æ¬¡æ›´æ–°ï¼Œè¡¨ç°å‡ºæ¥çš„å°±æ˜¯ä¸¢å¸§ã€‚æˆ‘ä»¬åº”è¯¥å°½å¯èƒ½ç¼©çŸ­ JavaScript çš„æ‰§è¡Œæ—¶é—´ï¼Œé€šå¸¸ä¸è¦è¶…è¿‡ 10msï¼Œå› ä¸ºåé¢çš„ Styleï¼ŒLayoutï¼ŒPaintï¼ŒComposite è‡³å°‘è¦èŠ±è´¹ 6ms çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;å½“æœ‰ä¸€ä¸ªå¤§ä»»åŠ¡ï¼Œéœ€è¦é•¿æ—¶é—´çš„æ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒåˆ†æ•£åˆ°æ¯ä¸€å¸§ä¸­å»å®Œæˆå…¶ä¸­ä¸€å°éƒ¨åˆ†ã€‚è¿™æ ·ï¼Œå¯ä»¥ç¼©çŸ­åœ¨æ¯å¸§ä¸­æ‰§è¡Œçš„æ—¶é—´ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¦åœ¨ä¸€å¸§é‡Œç»˜åˆ¶ 100 ä¸ªå°çƒï¼Œå‡è®¾éœ€è¦èŠ±è´¹ 3s çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createBoll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æ¨¡æ‹Ÿ30msæ“ä½œ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; boll &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;boll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;background &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;randomColor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;boll&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;COUNT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* ç›´æ¥æ‰§è¡Œå¤§ä»»åŠ¡ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;longTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;createBoll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2b121f5be71de543c8838cc5b3796715/86682/longTask.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 33.24764353041988%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABdUlEQVQozz2OTW/aQBRF/b+76DZp81e6aNplG6kSAicFIoXyEezY4xkbhzG1ISEYEzUnzwPq4ujed9/Vm/GM0ZhswWJ6y/rB5ykZUEU3Tjeqzzr+7dRlekgV9HgMJ5hFTmoMaZZhTEommiQJXqoVJs2w0Ygm/kqjvgmX7ONLp863KvM++U4TfJGDI1RiSJRCCe0hLQRBgJfJS0prlnbF/gAv9T/qBhrxu/rN0ea1271xGHRYyM/CWBGrRA5rIvFRFBGGIZ5eKhaVoawLqmZFvkn5u7NsXkvsNieXnS01K/HLeMgmH7OW3rLS0it4el1L75Hlc87LYYsXjm+IZ0PCSZ8sGrPK5lgzcxTpPVZPsVOfYtJlNfOx8Z3zxcMttt2fekU6o8pTvM6PD1x3zhj4Z0yG58zvWj4RnHD+z4VjPro45u08+iz+/DiLn/Y/yod+4f20mu6upFdX+HuhPtL7ryVd4ZiXbm5995S3vet6zVWZEW6feQfN2ve7MzsDqgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/2b121f5be71de543c8838cc5b3796715/cc182/longTask.webp 148w,
/static/2b121f5be71de543c8838cc5b3796715/f7e40/longTask.webp 295w,
/static/2b121f5be71de543c8838cc5b3796715/1a2f4/longTask.webp 590w,
/static/2b121f5be71de543c8838cc5b3796715/4837b/longTask.webp 885w,
/static/2b121f5be71de543c8838cc5b3796715/2f819/longTask.webp 1180w,
/static/2b121f5be71de543c8838cc5b3796715/a083a/longTask.webp 2334w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/2b121f5be71de543c8838cc5b3796715/cf440/longTask.png 148w,
/static/2b121f5be71de543c8838cc5b3796715/d2d38/longTask.png 295w,
/static/2b121f5be71de543c8838cc5b3796715/b9e4f/longTask.png 590w,
/static/2b121f5be71de543c8838cc5b3796715/f9b6a/longTask.png 885w,
/static/2b121f5be71de543c8838cc5b3796715/2d849/longTask.png 1180w,
/static/2b121f5be71de543c8838cc5b3796715/86682/longTask.png 2334w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/2b121f5be71de543c8838cc5b3796715/b9e4f/longTask.png&quot;
          alt=&quot;longTask&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥æ˜æ˜¾çš„çœ‹åˆ°ï¼Œè¿™ä¸€å¸§é‡ŒèŠ±è´¹äº† 3022.7msï¼ŒæœŸé—´é¡µé¢ä¸€ç›´æ˜¯ä¸Šä¸€å¸§çš„å†…å®¹ï¼ˆç©ºç™½ï¼‰ã€‚åªæœ‰ç­‰åˆ°ä»»åŠ¡å®Œæˆäº†ï¼Œæ‰ä¼šå…¨éƒ¨æ˜¾ç¤ºå°çƒå‡ºæ¥ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªé•¿ä»»åŠ¡åˆ†æ•£åˆ°æ¯ä¸€å¸§é‡Œæ‰§è¡Œï¼Œæ¯ä¸€å¸§åªåˆ›å»ºä¸€ä¸ªå°çƒã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* åˆ†å—æ‰§è¡Œå°ä»»åŠ¡ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chunkTask&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;doOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// æ¯ä¸€å¸§ï¼Œåªåˆ›å»ºä¸€ä¸ªå°çƒ&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;createBoll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;doOne&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2cbe755a17f683dbd90265448ef336ea/2ad13/chunkTask.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 35.24871355060035%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABpklEQVQozyWNyVIaYRSFef8HSFLGKrViKpskK8FEC1ERBGXquUF6+nti7IYMSFZfLsnqnHvuGSp5npMkMWmSkKap8DF5bjENHaJ4TBA5BKFNpFyCwJb/lDBwUGqMisZEwhN1QJdYhVTiOBaTFEmZUjGrzKAIbwieawSjKwKtjmfe4Zu3+NY9vt74jwfNbuI7bTy7ReA+MnEtKUwzPNfGG9u8OIaspKReQFT9RNio4rfqhHofv98mNAYy1JSRHqH2LMWa5Bz8iSNoYYteUaki9l3ymWKxiFkuE2bzmPWvgkUxZ77OKTeCy5R1kbMuZywOvMz/3QvxFkXGapWQpQEVe9Bg0v2K1/2M2/6CGlWZmZdEgwsSrUpmfsMTnhk1uWuEwyq58FgTz/CCXLzh8JJEr6G071SGLzc0nt7zYJ7woJ9z3XlLyzql0Tvluv2OzuiMZueY2/6ReD5Q7x5xNzqmZZ5z9fiGpnHC/fCM+pPk9I9UrHLHoNzQ/71D3+3oFyXa/pXhj5+Myi2+4HS1ZSSoiz4oSwa7V4z9nl6xEe8fNMk+b7ZYov8Foa3stVu7gw8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/2cbe755a17f683dbd90265448ef336ea/cc182/chunkTask.webp 148w,
/static/2cbe755a17f683dbd90265448ef336ea/f7e40/chunkTask.webp 295w,
/static/2cbe755a17f683dbd90265448ef336ea/1a2f4/chunkTask.webp 590w,
/static/2cbe755a17f683dbd90265448ef336ea/4837b/chunkTask.webp 885w,
/static/2cbe755a17f683dbd90265448ef336ea/2f819/chunkTask.webp 1180w,
/static/2cbe755a17f683dbd90265448ef336ea/8ac1c/chunkTask.webp 2332w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/2cbe755a17f683dbd90265448ef336ea/cf440/chunkTask.png 148w,
/static/2cbe755a17f683dbd90265448ef336ea/d2d38/chunkTask.png 295w,
/static/2cbe755a17f683dbd90265448ef336ea/b9e4f/chunkTask.png 590w,
/static/2cbe755a17f683dbd90265448ef336ea/f9b6a/chunkTask.png 885w,
/static/2cbe755a17f683dbd90265448ef336ea/2d849/chunkTask.png 1180w,
/static/2cbe755a17f683dbd90265448ef336ea/2ad13/chunkTask.png 2332w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/2cbe755a17f683dbd90265448ef336ea/b9e4f/chunkTask.png&quot;
          alt=&quot;chunkTask&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æ¯ä¸€å¸§éƒ½åªèŠ±è´¹äº† 30ms å·¦å³ï¼Œå¹¶ä¸”é¡µé¢ä¸ä¼šç©ºç­‰ 3s æ‰æ˜¾ç¤ºå°çƒï¼Œè€Œæ˜¯å°çƒé€ä¸ªç»˜åˆ¶å‡ºæ¥äº†ï¼Œä½“éªŒæ˜æ˜¾å¥½å¤šäº†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          å…¶ä»–æœ€ä½³å®è·µ
        &lt;/h3&gt;
      
&lt;p&gt;å¯¹äº JavaScript æ­¥éª¤ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›å¾ˆå¥½çš„å»ºè®®ï¼Œä¸‹é¢ç®€å•åˆ—ä¸¾å‡ºæ¥ï¼Œå°±ä¸åš demo äº†ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†ä¸€äº›çº¯è®¡ç®—å‹ï¼Œä¸æ¶‰åŠ dom è®¿é—®çš„ä»»åŠ¡ï¼Œæ”¾åˆ°&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers&quot;&gt;Web Workers&lt;/a&gt;ä¸­&lt;/li&gt;
&lt;li&gt;å¯¹äºå¯ä»¥ä½¿ç”¨ css3 æ¥å®ç°çš„åŠ¨ç”»ï¼Œå°±ä¸éœ€è¦ç”¨ JavaScript æ¥å®ç°äº†&lt;/li&gt;
&lt;li&gt;å¯¹äºç”¨æˆ·äº‹ä»¶çš„å“åº”ï¼ŒåŒæ­¥æ‰§è¡Œæ—¶é—´ä¸è¦å¤ªé•¿ï¼Œé€»è¾‘å°½é‡ç®€å•ï¼Œå¤æ‚çš„é€»è¾‘å¯ä»¥å»¶è¿Ÿå¤„ç†æˆ–åˆ†å—å¤„ç†&lt;/li&gt;
&lt;/ul&gt;

        &lt;h2 id=&apos;toc-2-4&apos; &gt;
          Style &amp; Layout
        &lt;/h2&gt;
      

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          å…ˆè¯»å–ï¼Œåè®¾ç½®
        &lt;/h3&gt;
      
&lt;p&gt;ä½¿ç”¨ JavaScript æ¥ç»˜åˆ¶åŠ¨ç”»æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦æ ¹æ®å½“å‰ dom çŠ¶æ€ï¼ˆæ¯”å¦‚ä½ç½®ï¼Œå¤§å°ï¼‰æ¥æ›´æ–°å®ƒçš„çŠ¶æ€ã€‚é€šå¸¸çš„æœ€ä½³å®è·µæ˜¯ï¼Œ&lt;strong&gt;å…ˆè¯»å–ï¼Œåè®¾ç½®&lt;/strong&gt;ã€‚åœ¨ raf ä¸­ï¼Œé¡µé¢ dom å…ƒç´ æ ·å¼éƒ½å·²ç»åœ¨ä¸Šä¸€å¸§ä¸­è®¡ç®—å¥½äº†ï¼Œåœ¨è¯»å–æŸä¸€ä¸ª dom æ ·å¼æ—¶ï¼Œä¸ä¼šè§¦å‘æµè§ˆå™¨é‡æ–°è®¡ç®—æ ·å¼å’Œå¸ƒå±€ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æ˜¯å…ˆè®¾ç½®ï¼Œç„¶ååœ¨è¯»å–ï¼Œé‚£ä¹ˆè¿™ä¸ª dom æ ·å¼å·²ç»è¢«æ”¹å˜äº†ï¼Œä¸ºäº†ä¿è¯è·å–åˆ°æ­£ç¡®çš„æ ·å¼å€¼ï¼Œæµè§ˆå™¨å¿…é¡»é‡æ–°å¯¹å½“å‰ dom è¿›è¡Œæ ·å¼è®¡ç®—ï¼Œå¦‚æœè¿˜æ¶‰åŠå¸ƒå±€æ”¹å˜ï¼Œä¹Ÿä¼šè¿›è¡Œé‡æ–°å¸ƒå±€ï¼Œè¿™ç§æƒ…å†µå°±æ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„&lt;strong&gt;è§¦å‘äº† reflow&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹ï¼Œåœ¨ raf ä¸­ï¼Œæ¯æ¬¡éƒ½æ˜¯å…ˆè®¾ç½®äº†å°çƒçš„ topï¼Œç„¶åå†è¯»å–å®ƒçš„ offsetTop å’Œå±å¹•çš„ offsetHeightã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reflow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetTop &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px&quot;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetTop &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;reflow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/178c230bdd62458e9423566256b1e95f/3b243/reflow2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 43.65234375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABcklEQVQoz42RW2/TQBCF/f+f4alvPPAPqMQlElJVUUApqtLSQGrXudpZX+L1rneT+PKxaUpFC1EZ7dGMzpmdnZn1krxkFEy4HnzBH7xlfN1jOuwR/ewhRu+JbvtcDSKuLqcMgktm0ZJwPufrsE9WVpgNKNtQOb9MMrxdoNaQJTPCi9ecfHjBu+OXfDp7xXn/iCg+YxJawnFBIGbkypJIxXDuU7jLdgtrB+MQLVNX0AV3ZA3uEEkY/bD433Nu4oZYG7JVQVlZ6vaP3HbvU60Z5zHSCYXUrqAqMVXlujRoa9hGPvXNBZuVYG011mlVZTDGYu0O6zuYXe6mZpKGfA5OEYWg3jZ4oX/LdLJgGgwRJ28Q305JljlJkpNlGUopyrI8AEnlJti4ebXSSCnxVosFzWwM5x9BSzoeW9c9Zf7W2659yPMKVyyLM7fUPdG1e/E5HCruiVSi3X7uGf7XDj3kxSIlThXGfVnbNjTN8/jd4b+6/QXNb7GTJbEQDwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/178c230bdd62458e9423566256b1e95f/cc182/reflow2.webp 148w,
/static/178c230bdd62458e9423566256b1e95f/f7e40/reflow2.webp 295w,
/static/178c230bdd62458e9423566256b1e95f/1a2f4/reflow2.webp 590w,
/static/178c230bdd62458e9423566256b1e95f/4837b/reflow2.webp 885w,
/static/178c230bdd62458e9423566256b1e95f/86447/reflow2.webp 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/178c230bdd62458e9423566256b1e95f/cf440/reflow2.png 148w,
/static/178c230bdd62458e9423566256b1e95f/d2d38/reflow2.png 295w,
/static/178c230bdd62458e9423566256b1e95f/b9e4f/reflow2.png 590w,
/static/178c230bdd62458e9423566256b1e95f/f9b6a/reflow2.png 885w,
/static/178c230bdd62458e9423566256b1e95f/3b243/reflow2.png 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/178c230bdd62458e9423566256b1e95f/b9e4f/reflow2.png&quot;
          alt=&quot;reflow2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡åˆ†æï¼Œå¯ä»¥çœ‹åˆ°åœ¨ JavaScript ä¸­å°±è§¦å‘äº† Recalculation Forced å’Œ Layout Forcedã€‚ç°åœ¨æˆ‘ä»¬ä¼˜åŒ–ä¸€ä¸‹ï¼Œå…ˆè¯»å–å®ƒçš„ offsetTop å’Œå±å¹•çš„ offsetHeight å€¼ï¼Œç„¶ååœ¨å»è®¾ç½®å®ƒçš„ top&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;optimizeReflow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; top &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetTop
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; bodyHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetHeight
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; bodyHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; top &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px&quot;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;optimizeReflow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9029df8aba03de13db17654e20ed714e/3b243/reflow4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 44.140625%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABTElEQVQoz52S3W6cMBBGef936Dv0FXqXi+xvFTVRidhsGsBgsA0YL7vA6exmo+aiVaW1feSxx/N5xnKkak9lPUo7StORqYr44RvJ5iu7pwWb5RurTcpq+cp6mbB4WpEVFdv4ge/JD8IRusOEH6DtR6L2wGXxQdPPlL+2rBdfSPZb8nxknwaedxU/44zHXXxJIDU1b7Wml5ggHM7CYRbBMBFOXDhcER/dGbFlMEyyN18Z388O47vtxZm5GtVaau+Jkt0eqzXWWExjsFYwFZ1tcLLXdh19Hz7RE8KfufUN98kd65d7XsqE6DFOydKUUil5x4KiyFEqw9YOUxucc3Qi+i+8cJSUj/KYQS6MtJbMJGiapa4b2yyx8zxz7pFrHFoV2NJeSpimq/NGoq7zaOM5DsMNmf1FsKo0aZbzmjsa+TfTeOJ0+j/n4M+iH+03G8S2rK3UmdkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/9029df8aba03de13db17654e20ed714e/cc182/reflow4.webp 148w,
/static/9029df8aba03de13db17654e20ed714e/f7e40/reflow4.webp 295w,
/static/9029df8aba03de13db17654e20ed714e/1a2f4/reflow4.webp 590w,
/static/9029df8aba03de13db17654e20ed714e/4837b/reflow4.webp 885w,
/static/9029df8aba03de13db17654e20ed714e/86447/reflow4.webp 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/9029df8aba03de13db17654e20ed714e/cf440/reflow4.png 148w,
/static/9029df8aba03de13db17654e20ed714e/d2d38/reflow4.png 295w,
/static/9029df8aba03de13db17654e20ed714e/b9e4f/reflow4.png 590w,
/static/9029df8aba03de13db17654e20ed714e/f9b6a/reflow4.png 885w,
/static/9029df8aba03de13db17654e20ed714e/3b243/reflow4.png 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/9029df8aba03de13db17654e20ed714e/b9e4f/reflow4.png&quot;
          alt=&quot;reflow4&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡åˆ†æå¯ä»¥çœ‹åˆ°ï¼Œåœ¨ JavaScript æ­¥éª¤æ²¡æœ‰å‡ºç°ä¸Šé¢çš„ Recalculation Forced å’Œ Layout Forcedã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          å‡å°‘ layout
        &lt;/h3&gt;
      
&lt;p&gt;å¦‚æœæˆ‘ä»¬åœ¨æ²¡æœ‰æ›´æ”¹ dom çš„å‡ ä½•å±æ€§ï¼ˆwidthï¼Œheightï¼Œtopï¼Œleftï¼Œbottomï¼Œright ç­‰ï¼‰ï¼Œå°±ä¸ä¼šè§¦å‘ layout æ­¥éª¤ã€‚å½“ä¸€ä¸ª dom çš„ layout è¢«æ”¹å˜æ—¶ï¼Œé€šå¸¸éƒ½ä¼šå½±å“åˆ°å…¶ä»–å…³è”çš„ dom çš„ layout ä¹Ÿè¢«æ”¹å˜ã€‚åœ¨è®¾ç½®åŠ¨ç”»æ—¶ï¼Œèƒ½é¿å…ç›´æ¥æ”¹å˜ dom çš„ layoutï¼Œå°±åº”è¯¥å°½åŠ›é¿å…ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ transform æ¥ä½ç§»å…ƒç´ ï¼Œè€Œä¸å¿…ç›´æ¥æ”¹å˜å®ƒçš„ layoutã€‚è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼ŒåŒæ ·çš„åŠ¨ç”»ï¼Œæˆ‘ä»¬æ”¹åŠ¨ transform æ¥å®ç°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; distance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetHeight &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetTop
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dropDistance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dropDistance &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; distance&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;transform &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;translateY(&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; dropDistance &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px)&quot;&lt;/span&gt;
    dropDistance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dropDistance &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;drop&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a82ed4d4f147936dedbfb0bb19f71c37/6c54f/relow5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 15.544554455445544%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAvklEQVQI1z2O606DQBhEeXx9KxONmtQWNlpLF0grdLuN0gvsglyE46JJf0xm5vtxvvF0XpKfK9ThyGqdIOMNaeKzXT+SyWc+4gXhe4aYZ8SRZvmmEP6OMFRk+oDSX4jolXnocyprPNtA3UHVgvn+4WJbVHSHfLhlcX/DfjsjljnB7JM0NayEJnhycHnkZGsK2yE2S16SgMKBvLIesM34pwk6yXGpeshdmbwdwf2kGZwbQ28K2n68DuncvR/+8y8OM99duzdCpgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a82ed4d4f147936dedbfb0bb19f71c37/cc182/relow5.webp 148w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/f7e40/relow5.webp 295w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/1a2f4/relow5.webp 590w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/4837b/relow5.webp 885w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/2f819/relow5.webp 1180w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/826cc/relow5.webp 2020w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a82ed4d4f147936dedbfb0bb19f71c37/cf440/relow5.png 148w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/d2d38/relow5.png 295w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/b9e4f/relow5.png 590w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/f9b6a/relow5.png 885w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/2d849/relow5.png 1180w,
/static/a82ed4d4f147936dedbfb0bb19f71c37/6c54f/relow5.png 2020w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/a82ed4d4f147936dedbfb0bb19f71c37/b9e4f/relow5.png&quot;
          alt=&quot;relow5&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-5&apos; &gt;
          Paint
        &lt;/h2&gt;
      

        &lt;h3 id=&apos;toc-3-6&apos; &gt;
          å‡å°‘ç»˜åˆ¶åŒºåŸŸ
        &lt;/h3&gt;
      
&lt;p&gt;é€šå¸¸ï¼Œå¯¹æŸä¸€ä¸ª dom çš„æ”¹å˜ï¼Œéƒ½ä¼šè§¦å‘è¯¥ dom æ‰€åœ¨å±‚çš„æ•´ä¸ªé‡æ–°ç»˜åˆ¶ã€‚ä¸ºäº†é¿å…å¯¹æ•´ä¸ªå±‚çš„é‡æ–°ç»˜åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠè¯¥ dom æå‡åˆ°ä¸€ä¸ªæ–°çš„ composite layerï¼Œå‡å°‘å¯¹åŸå§‹å±‚çš„ç»˜åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;æœªæå‡å‰ï¼Œæ¯ä¸€å¸§é‡Œéƒ½ä¼šæœ‰å¯¹æ•´ä¸ª document çš„ç»˜åˆ¶ï¼Œå¯¹æ•´ä¸ª document çš„ç»˜åˆ¶ä¼šæ¶ˆè€— 48us å·¦å³&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3788eda4b7edcd32283ffcfb54546266/c1dfa/paint1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 17.73547094188377%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5ElEQVQY012Py07CQBiFeVjXPpYPYNyYkBgTo4mKF0A7tk1A6AUYaGtnOm2V8jltdcPi/Gfx59wGMlHEm5RwnRBZ6OpA8lXiuoL5zCNY+HjuDOGE+N6K6esHvnD59BzE+wi13WGSzOqaTjsw39Ci/Om5sA9Vw1IMmVyc8HZ1yuT+mdFthjNW3Fw+Mp4+8CLuOL8+Iw4jVLCkKPe9YXtU2bv/s676gNwYnuSCvIE9YHNotKaa+yi5pZIZWRCQbyTaPjvDoj50dY+5RddYG1RR/4WBSnNMHGHs1CJJKdcrzC61un7dL8iSLIBWSaVLAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/3788eda4b7edcd32283ffcfb54546266/cc182/paint1.webp 148w,
/static/3788eda4b7edcd32283ffcfb54546266/f7e40/paint1.webp 295w,
/static/3788eda4b7edcd32283ffcfb54546266/1a2f4/paint1.webp 590w,
/static/3788eda4b7edcd32283ffcfb54546266/4837b/paint1.webp 885w,
/static/3788eda4b7edcd32283ffcfb54546266/2f819/paint1.webp 1180w,
/static/3788eda4b7edcd32283ffcfb54546266/1f1b1/paint1.webp 1996w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/3788eda4b7edcd32283ffcfb54546266/cf440/paint1.png 148w,
/static/3788eda4b7edcd32283ffcfb54546266/d2d38/paint1.png 295w,
/static/3788eda4b7edcd32283ffcfb54546266/b9e4f/paint1.png 590w,
/static/3788eda4b7edcd32283ffcfb54546266/f9b6a/paint1.png 885w,
/static/3788eda4b7edcd32283ffcfb54546266/2d849/paint1.png 1180w,
/static/3788eda4b7edcd32283ffcfb54546266/c1dfa/paint1.png 1996w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/3788eda4b7edcd32283ffcfb54546266/b9e4f/paint1.png&quot;
          alt=&quot;paint1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¼˜åŒ–ä¹‹åï¼Œæˆ‘ä»¬é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;will-change: top&lt;/code&gt;æŠŠå°çƒæå‡åˆ°ä¸€ä¸ªæ–°çš„ composite layer ä¸Šï¼Œæ²¡æœ‰äº†å¯¹æ•´ä¸ª document çš„ç»˜åˆ¶ï¼ŒèŠ‚çœäº† 48usã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/47fa66642ff84f154c9db7bdea08d730/5b9b6/paint2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 20.572640509013787%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8ElEQVQY0z2Oy06DYBBGeWN3Po6P4NZEY+LC2AVKiiXlVmhpASGklPulhR5/qHFxFl++mTMjhUlBcqpwdj5LdYW2fCfYaviuiucaaN8+lhnOmGYg+j2ebvDjOGxNDVV5Izh41GeouhGp6qERoWxH8uqM8/mA/HyH/HrPYbPga5GgaynWOkc3MuQXm1BRiLIM1Vzx9PGIv9/QXG4OqWhGYb7OTOLpgHtMMZKYXAwNQD8xCkQYihOdv6OIIqoopo+PNGU3700OqWiv/8Lp5YlOiNpe5HagFAdL0ZX1hdqxqW2DxlrThAF1XglpRJ1mf8KRX2F+KfVzKKZwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/47fa66642ff84f154c9db7bdea08d730/cc182/paint2.webp 148w,
/static/47fa66642ff84f154c9db7bdea08d730/f7e40/paint2.webp 295w,
/static/47fa66642ff84f154c9db7bdea08d730/1a2f4/paint2.webp 590w,
/static/47fa66642ff84f154c9db7bdea08d730/4837b/paint2.webp 885w,
/static/47fa66642ff84f154c9db7bdea08d730/2f819/paint2.webp 1180w,
/static/47fa66642ff84f154c9db7bdea08d730/5a8f5/paint2.webp 1886w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/47fa66642ff84f154c9db7bdea08d730/cf440/paint2.png 148w,
/static/47fa66642ff84f154c9db7bdea08d730/d2d38/paint2.png 295w,
/static/47fa66642ff84f154c9db7bdea08d730/b9e4f/paint2.png 590w,
/static/47fa66642ff84f154c9db7bdea08d730/f9b6a/paint2.png 885w,
/static/47fa66642ff84f154c9db7bdea08d730/2d849/paint2.png 1180w,
/static/47fa66642ff84f154c9db7bdea08d730/5b9b6/paint2.png 1886w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/47fa66642ff84f154c9db7bdea08d730/b9e4f/paint2.png&quot;
          alt=&quot;paint2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-7&apos; &gt;
          ä½¿ç”¨ transform å’Œ opacity
        &lt;/h3&gt;
      
&lt;p&gt;å³ä½¿åœ¨åŒä¸€å±‚ä¸Šï¼Œæˆ‘ä»¬å¯¹æŸä¸€ä¸ª dom ä½¿ç”¨ transform æˆ–è€… opacity æ¥å®ç°åŠ¨ç”»ï¼Œä¹Ÿä¸ä¼šæ¯å¸§éƒ½è§¦å‘å¯¹æ•´ä¸ª layer çš„ç»˜åˆ¶ï¼Œå®ƒåªä¼šå¯¹å½“å‰æ”¹å˜çš„ dom çš„ç»˜åˆ¶å’Œé€‚å½“å‡å°‘å¯¹æ•´ä¸ª layer çš„ç»˜åˆ¶æ¬¡æ•°ã€‚è¿™ä¸ªç‰¹æ€§å…¶å®æ˜¯æµè§ˆå™¨çš„è‡ªèº«ä¼˜åŒ–ç­–ç•¥ï¼Œtransform å’Œ opacity è¢«è§†ä¸ºåˆæˆå™¨å±æ€§ï¼Œå®ƒä»¬åœ¨é»˜è®¤æƒ…å†µä¸‹éƒ½ä¼šç”Ÿæˆæ–°çš„ paint layerã€‚ç›¸æ¯”ä¸Šé¢çš„ä¼˜åŒ–æ–¹å¼ï¼Œä½¿ç”¨åˆæˆå™¨å±æ€§ï¼Œå®ç°äº†åŒæ ·çš„ä¼˜åŒ–æ•ˆæœï¼Œä½†æ˜¯å¯ä»¥å‡å°‘å¢åŠ  composite layerï¼Œæ¯åˆ›å»ºä¸€ä¸ª composite layer ä¹Ÿæ˜¯ä¼šæœ‰æ€§èƒ½å¼€é”€çš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¸å¿…ç›´æ¥æ”¹å˜ dom çš„ top æˆ–è€… width ç­‰å‡ ä½•å±æ€§ï¼Œè€Œæ˜¯ä½¿ç”¨ transform çš„ translateï¼Œscale ç­‰æ¥å®ç°åŒæ ·çš„æ•ˆæœï¼Œæ—¢å¯ä»¥å‡å°‘ç»˜åˆ¶åŒºåŸŸï¼Œä¹Ÿå¯ä»¥é¿å… layoutã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-8&apos; &gt;
          å‡å°‘ç»˜åˆ¶çš„å¤æ‚åº¦
        &lt;/h3&gt;
      
&lt;p&gt;ä¸åŒçš„ç»˜åˆ¶æ•ˆæœï¼Œæ¶ˆè€—çš„æ—¶é—´ä¹Ÿæ˜¯ä¸åŒçš„ã€‚é€šå¸¸è¶Šå¤æ‚çš„æ•ˆæœï¼Œæ¶ˆè€—çš„èµ„æºå’ŒèŠ±è´¹çš„æ—¶é—´è¶Šå¤šï¼Œæ¯”å¦‚é˜´å½±ï¼Œæ¸å˜ï¼Œåœ†è§’ç­‰ï¼Œå°±å±äºæ¯”è¾ƒå¤æ‚çš„æ ·å¼ã€‚è¿™äº›æ ·å¼æ•ˆæœï¼Œé€šå¸¸éƒ½æ˜¯è®¾è®¡å¸ˆè®¾è®¡å‡ºæ¥çš„ï¼Œæˆ‘ä»¬æ²¡æœ‰ç†ç”±ç›´æ¥å¦å®šã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸åŒè®¾å¤‡æ¥åšä¸€äº›ä¸åŒçš„é™çº§å¤„ç†ï¼Œæ¯”å¦‚è¾ƒä½è®¾å¤‡ä¸Šï¼Œå°±åªç”¨çº¯è‰²æ¥ä»£æ›¿æ¸å˜ï¼Œå»æ‰é˜´å½±æ•ˆæœç­‰ã€‚é€šè¿‡é™çº§å¤„ç†ï¼Œä¿è¯äº†é¡µé¢åŠŸèƒ½ä¸å—å½±å“ï¼Œä¹Ÿæé«˜äº†é¡µé¢çš„æ€§èƒ½ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-6&apos; &gt;
          Composite
        &lt;/h2&gt;
      
&lt;p&gt;å¤„ç†å®Œäº†ä¸Šé¢è¿™äº›æ­¥éª¤ï¼Œç»ˆäºæ¥åˆ°äº† Composite æ­¥éª¤ã€‚dom é€šè¿‡é€‚å½“æ¡ä»¶è§¦å‘ï¼Œä¼šæå‡ä¸ºæ–°çš„ composite layerï¼Œåœ¨ paint é˜¶æ®µæ˜¯å‘ç”Ÿåœ¨å¤šä¸ª layer ä¸Šçš„ï¼Œæœ€åæµè§ˆå™¨é€šè¿‡åˆå¹¶å¤šä¸ª layerï¼Œæ ¹æ®å®ƒä»¬çš„é¡ºåºæ¥æ­£ç¡®çš„æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚composite layer æå‡è§¦å‘æ¡ä»¶éå¸¸å¤šï¼Œè¿™é‡Œæˆ‘åªåˆ—ä¸¾å‡ ä¸ªå¸¸è§çš„æ¡ä»¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;3D ç›¸å…³çš„ css æ ·å¼&lt;/li&gt;
&lt;li&gt;will-change è®¾ç½®ä¸º opacityï¼Œtransformï¼Œtopï¼Œleftï¼Œbottomï¼Œright&lt;/li&gt;
&lt;li&gt;fixedï¼ˆåœ¨é«˜çš„ DPI ä¸Šä¼šé»˜è®¤æå‡ï¼Œåœ¨ä½ DPI ä¸Šä¸ä¼šï¼‰&lt;/li&gt;
&lt;li&gt;Hardware-accelerated video element&lt;/li&gt;
&lt;li&gt;Hardware-accelerated 2D canvas&lt;/li&gt;
&lt;li&gt;3D WebGL&lt;/li&gt;
&lt;li&gt;Overlayï¼ˆæ¯”å¦‚ A è¦†ç›–åœ¨ B ä¸Šï¼Œè€Œ B æ˜¯æå‡çš„ composite layerï¼Œåˆ™ A ä¹Ÿä¼šæå‡åˆ°æ–°çš„ composite layerï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;composite layer æœ‰è‡ªå·±çš„ graphic contextï¼Œæ‰€ä»¥åœ¨æ¸²æŸ“çš„æ—¶å€™ï¼Œé€Ÿåº¦éå¸¸å¿«ï¼Œå®ƒæ˜¯ç›´æ¥åœ¨ GPU ä¸Šå®Œæˆçš„ï¼Œä¸éœ€è¦é€šè¿‡ CPU å¤„ç†ã€‚ä½†æ˜¯æ¯æ–°å¢ä¸€ä¸ª composite layer éƒ½ä¼šæ¶ˆè€—é¢å¤–çš„å†…å­˜ï¼Œä¹Ÿä¸èƒ½ç›²ç›®çš„å°†å…ƒç´ æå‡ä¸ºæ–°çš„ composite layerã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†æœ‰ Composite layerï¼Œè¿˜æœ‰ä¸€ç§ paint layerã€‚paint layer æ˜¯åœ¨&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context&quot;&gt;stacking context&lt;/a&gt;ä¸Šçš„ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;z-index&lt;/code&gt;æ—¶å°±ä¼šç”Ÿæˆæ–°çš„ paint layerï¼Œåœ¨å¸§å¤„ç†æ­¥éª¤ä¸­ï¼Œå…¶å®è¿˜æœ‰ä¸€æ­¥ Update Layer Tree å°±æ˜¯ç”¨æ¥æ›´æ–° paint player çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/02c0d337b443e9708470b626b74bc1f6/3b243/paintlayer.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 18.5546875%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA8klEQVQY0y2P606DQBBGeXOfxycw+qNeotWmplptDTZK2lDuXWBhCywIx6Xpj8mZ5JuZnLF+NjZ7d4fjuPieIEkkYZgjDhLhR0S7gNSLEemBUCRkskBKRZJmuFFALFJ0N9C0Pe0fWMvbC5z1Da8zj9mDy2oZMp8GOF8R9sLhcbLl43nF/HPK5O2ebeCbozXvv1sun+54+d5QaSjrnlIPWIv92jQduofGVNWdacImzdFJjIpDylRSygpVNhz1ec4YVS2oZjAFw2AMVaHoTNAYX931J/WReqQ60uYZrWFXFLQyP1GPAubNcWbcG/eLuuLavuIfwwcszUvVRekAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/02c0d337b443e9708470b626b74bc1f6/cc182/paintlayer.webp 148w,
/static/02c0d337b443e9708470b626b74bc1f6/f7e40/paintlayer.webp 295w,
/static/02c0d337b443e9708470b626b74bc1f6/1a2f4/paintlayer.webp 590w,
/static/02c0d337b443e9708470b626b74bc1f6/4837b/paintlayer.webp 885w,
/static/02c0d337b443e9708470b626b74bc1f6/86447/paintlayer.webp 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/02c0d337b443e9708470b626b74bc1f6/cf440/paintlayer.png 148w,
/static/02c0d337b443e9708470b626b74bc1f6/d2d38/paintlayer.png 295w,
/static/02c0d337b443e9708470b626b74bc1f6/b9e4f/paintlayer.png 590w,
/static/02c0d337b443e9708470b626b74bc1f6/f9b6a/paintlayer.png 885w,
/static/02c0d337b443e9708470b626b74bc1f6/3b243/paintlayer.png 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/02c0d337b443e9708470b626b74bc1f6/b9e4f/paintlayer.png&quot;
          alt=&quot;paintlayer&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ª dom node éƒ½ä¼šæœ‰å¯¹åº”çš„ layout objectã€‚å¦‚æœ layout object åœ¨åŒä¸€ä¸ªåæ ‡ç³»ç©ºé—´ä¸­ï¼Œå°±ä¼šåœ¨åŒä¸€ä¸ª paint layer ä¸Šã€‚åœ¨æŸäº›æ¡ä»¶ä¸‹ï¼Œæ¯”å¦‚ z-indexï¼Œabsolute ç­‰ä¼šç”Ÿæˆæ–°çš„ paint layerã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œpaint layer éƒ½å…±äº«åŒä¸€ä¸ª composite layerï¼Œä½†æ˜¯åœ¨æŸäº›æ¡ä»¶ä¸‹ï¼Œæ¯”å¦‚ animationï¼Œwill-change ç­‰ä¼šæŠŠå½“å‰ paint layer æå‡ä¸ºæ–°çš„ composite layerï¼Œä»è€ŒåŠ é€Ÿæ¸²æŸ“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/205a3f53b768b339fe67b9ad0da41bf5/34e8a/composite1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 39.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAPoAAAD6AG1e1JrAAABrElEQVQY041QPU/bUBT12qV/gLEzQ9U/wFCp6lCJsUu7VBVSp6qMZSsDEyosLK1SKQL1QypVkJECQsSAlAAuJMJpIkIgjoMCqe04fvb78PO7j2f4A9zp3HPu0T33avIelQJgniZC3LWU0iiKGGMaAKh+z9nUz35gFkuQQgjOkdN62ao9RmFZqe82Kg8Wf79Y3eUpJ5QZJeNbLmeapgYyM385+PxpaxrREASkqRAgzhsfa+XnODpWqtHpzZUO9eaFwgIgCAK7YyOEtCH1mlcWoURyyVmiZBBo5Ou+t5twoEzeMgIS5vhBte/6agZAJVe8ljtaeL36zBleXI66U2uTv+rfsb9f2dTqB48S2moeP22fTDDcjol4ki9qs/n321mWKMaZmSXMDzyFYoYqttHx2gqHIxtjl9H/Z9Zbp/FG0K56Vn3g79lXvTBWUcjd5p/W1w8br87d0yxedpHkyfV1b3E4yKusirRcOrNzMm820O1RhBDLsqrVahxj7XRQL7WKIQmUlSaYCxkOy3+Nh//McUJdNb1Sa44t/ZlYLrYHHsG427tc1/VCodDv928AzBOjCAbr88QAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/205a3f53b768b339fe67b9ad0da41bf5/cc182/composite1.webp 148w,
/static/205a3f53b768b339fe67b9ad0da41bf5/f7e40/composite1.webp 295w,
/static/205a3f53b768b339fe67b9ad0da41bf5/1a2f4/composite1.webp 590w,
/static/205a3f53b768b339fe67b9ad0da41bf5/965c5/composite1.webp 600w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/205a3f53b768b339fe67b9ad0da41bf5/cf440/composite1.png 148w,
/static/205a3f53b768b339fe67b9ad0da41bf5/d2d38/composite1.png 295w,
/static/205a3f53b768b339fe67b9ad0da41bf5/b9e4f/composite1.png 590w,
/static/205a3f53b768b339fe67b9ad0da41bf5/34e8a/composite1.png 600w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/205a3f53b768b339fe67b9ad0da41bf5/b9e4f/composite1.png&quot;
          alt=&quot;composite1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œä¸€å¸§çš„ä»»åŠ¡éƒ½å¤„ç†å®Œäº†ï¼Œæ˜¯ä¸æ˜¯å°±ç»“æŸäº†å‘¢ï¼Ÿ&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-7&apos; &gt;
          requestIdleCallback
        &lt;/h2&gt;
      
&lt;p&gt;å¦‚æœä¸€å¸§çš„å¤„ç†æ—¶é—´å°‘äº 16.7msï¼Œå¤šä½™å‡ºæ¥çš„æ—¶é—´ï¼Œæµè§ˆå™¨ä¼šæ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;requestIdleCallback&lt;/code&gt;çš„ä»»åŠ¡ã€‚è¿™ä¸ª API ç›®å‰è¿˜å¤„åœ¨ä¸ç¨³å®šé˜¶æ®µï¼ŒæŸäº›æµè§ˆå™¨è¿˜æœªå®ç°å®ƒã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œä¸€å®šè¦åŠ ä¸Šå…¼å®¹æ€§æ£€æµ‹ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;requestIdleCallback&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Use requestIdleCallback to schedule work.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Do what youâ€™d do today.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c96335aab7d518af1e83f097f947b918/c2b5a/ric2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 43.17718940936864%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABL0lEQVQoz61STU/CQBTsn/dCDBdPGP+CVw96MU0gJQqoGGmBAuJHTW27LdCmtLs77rbUFmk4Ocnk7dvMm31vd5UkSZCDg3OOKopcxjpKpGmasdApruscLTow2bEwJMSD7/ulYS7c7+bvAftdH7JapzDGqnLUgdE1HKsL8t0H346ARBc0xLwj0NgUZuz3NGVqh2iPHQyWKww/Q2hTFw9vK3TEnjZxoBoE+nwCX23Avm6A3J5iozVFbMK7OUFkXGJohejPPCSUQVk4Ee5MD88fa+hfER6XAV6sDXpzD/emi64ZYPa+QNQ7B2m3EGgthIML+B2Rq2eIzCvodoSnV4JUGnJGy3Gz1otYvQkqdmOxkD9iK9bbLMqcsrjUy5GpcE0pBa1humOesyPMNdkr45/xAygTt1hVypM6AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c96335aab7d518af1e83f097f947b918/cc182/ric2.webp 148w,
/static/c96335aab7d518af1e83f097f947b918/f7e40/ric2.webp 295w,
/static/c96335aab7d518af1e83f097f947b918/1a2f4/ric2.webp 590w,
/static/c96335aab7d518af1e83f097f947b918/4837b/ric2.webp 885w,
/static/c96335aab7d518af1e83f097f947b918/d17bc/ric2.webp 982w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c96335aab7d518af1e83f097f947b918/cf440/ric2.png 148w,
/static/c96335aab7d518af1e83f097f947b918/d2d38/ric2.png 295w,
/static/c96335aab7d518af1e83f097f947b918/b9e4f/ric2.png 590w,
/static/c96335aab7d518af1e83f097f947b918/f9b6a/ric2.png 885w,
/static/c96335aab7d518af1e83f097f947b918/c2b5a/ric2.png 982w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/c96335aab7d518af1e83f097f947b918/b9e4f/ric2.png&quot;
          alt=&quot;ric2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-9&apos; &gt;
          ä¸€å®šä¸èƒ½åœ¨ requestIdleCallback é‡Œæ›´æ”¹ dom æ ·å¼
        &lt;/h3&gt;
      
&lt;p&gt;rIC é˜¶æ®µï¼Œframe çš„æ ·å¼å¸ƒå±€ç­‰éƒ½å·±ç» commit äº†ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨ rIC é‡Œç›´æ¥æ”¹å˜ dom çš„å¸ƒå±€æˆ–è€…æ ·å¼ã€‚å¦‚æœæ”¹å˜äº†ï¼Œä¼šå¯¼è‡´æ ·å¼å¸ƒå±€è®¡ç®—å¤±æ•ˆï¼Œåœ¨ä¸‹ä¸€å¸§å°±ä¼šè§¦å‘ forced layout ç­‰ã€‚ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ rIC é‡Œæ”¹äº†å°çƒçš„ä½ç½®ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;requestIdleCallback&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestIdleCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetLeft
    &lt;span class=&quot;token comment&quot;&gt;// è¿™é‡Œï¼Œæˆ‘ä»¬ç›´æ¥æ”¹äº†bollçš„ä½ç½®&lt;/span&gt;
    boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px&quot;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;moveLeftWithBadRic&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç„¶åï¼Œæ‰“å¼€ chrome è°ƒè¯•ä¸€ä¸‹ï¼Œå°±ä¼šå‘ç°é—®é¢˜ï¼Œåœ¨ä¸‹ä¸€å¸§çš„å¼€å¤´å°±ä¼šè§¦å‘äº† layoutï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cedcc45a7d30dd246a9614480089b242/3b243/ric3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 25.78125%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAABLElEQVQY0y2Py07CUBRF+9U4MtFPMXFqdGCcGY3GqAhBhKAEKX1T2tv2tvSW8pDlLTpYOc+9c45huSazwCSQnsbHT90/Mg9H2HiJgyscpsE3bmLrvoun502/2fP+cXXdRMN05tiuixNoA88miBcEIiRZSqQqkcslWZESJylRmiOynFimpEVOJBNEnpHm8rAnC4mxkFuKcoM3Txh3L+lcHPF63mJ8fYxze4r1cELYO2P0PuXpWdB9CWh/9vEjwV3/ns5kgNm74u2mhTNpY0T5lmoDq23DhsXXgI/HIeZwhm9NGPttROixyhWl2qHKNUoLqvWeUqO0VulPrGhEXm8w4sawGa526EOps4KtUqxVjZIlRSxZhguqWFCJhCoMD7kqKtRam9U/h7hqjOs9v9+vcYV8c/vOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/cedcc45a7d30dd246a9614480089b242/cc182/ric3.webp 148w,
/static/cedcc45a7d30dd246a9614480089b242/f7e40/ric3.webp 295w,
/static/cedcc45a7d30dd246a9614480089b242/1a2f4/ric3.webp 590w,
/static/cedcc45a7d30dd246a9614480089b242/4837b/ric3.webp 885w,
/static/cedcc45a7d30dd246a9614480089b242/86447/ric3.webp 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/cedcc45a7d30dd246a9614480089b242/cf440/ric3.png 148w,
/static/cedcc45a7d30dd246a9614480089b242/d2d38/ric3.png 295w,
/static/cedcc45a7d30dd246a9614480089b242/b9e4f/ric3.png 590w,
/static/cedcc45a7d30dd246a9614480089b242/f9b6a/ric3.png 885w,
/static/cedcc45a7d30dd246a9614480089b242/3b243/ric3.png 1024w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/cedcc45a7d30dd246a9614480089b242/b9e4f/ric3.png&quot;
          alt=&quot;ric3&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ›´å¥½çš„æ–¹å¼å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ rIC é‡Œè®¡ç®—å¥½æ ·å¼ï¼Œç„¶ååœ¨ rAF é‡Œå»æ›´æ–°æ ·å¼ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;requestIdleCallback&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestIdleCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetLeft &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; top &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetTop &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// åœ¨rAFé‡Œæ›´æ–°ä½ç½®&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; left &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px&quot;&lt;/span&gt;
      boll&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; top &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;moveLeftWithGoodRic&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¼˜åŒ–ä¹‹åï¼Œæˆ‘ä»¬å†è°ƒè¯•ä¸€ä¸‹ï¼Œå‘ç°ï¼Œå¸§å¼€å¤´æ²¡æœ‰äº† layoutï¼Œè¿™æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0037042c36d33f01701be4f48ae6d6e1/b938d/ric4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 19.072708113804005%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA5UlEQVQY003O3U6DQBCGYW7YeANegtfTg9bEWI1NNBJb2lIrIGwRgvw1FCig8LrQmnjwZHa/2ZmsEkQpW+MDbblEX2ts9JW0wLI8LNPHcb6kANPwsYWHKWz8IOLdsbBcwc51EcLh092RpHuUw7ElySqiJOHt/prV+BJ3M+Jl5vN4K9DUCO014GHsomoG0/WUMM25mU+402d4tspidMF8ckUS+yh51VE2UH5LZUGUeWRNR90yqH5O6u5cpf59fc4bOWeHW5785yEfFp60EhQy7O/9z3v5sRv8nYf6r1/UsD9UxHE45L9bSSleLjjw0wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/0037042c36d33f01701be4f48ae6d6e1/cc182/ric4.webp 148w,
/static/0037042c36d33f01701be4f48ae6d6e1/f7e40/ric4.webp 295w,
/static/0037042c36d33f01701be4f48ae6d6e1/1a2f4/ric4.webp 590w,
/static/0037042c36d33f01701be4f48ae6d6e1/4837b/ric4.webp 885w,
/static/0037042c36d33f01701be4f48ae6d6e1/dc5dc/ric4.webp 949w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/0037042c36d33f01701be4f48ae6d6e1/cf440/ric4.png 148w,
/static/0037042c36d33f01701be4f48ae6d6e1/d2d38/ric4.png 295w,
/static/0037042c36d33f01701be4f48ae6d6e1/b9e4f/ric4.png 590w,
/static/0037042c36d33f01701be4f48ae6d6e1/f9b6a/ric4.png 885w,
/static/0037042c36d33f01701be4f48ae6d6e1/b938d/ric4.png 949w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/0037042c36d33f01701be4f48ae6d6e1/b9e4f/ric4.png&quot;
          alt=&quot;ric4&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-10&apos; &gt;
          å…¶ä»–æœ€ä½³å®è·µ
        &lt;/h3&gt;
      
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;rIC é‡Œï¼Œå¯ç”¨æ—¶é—´æ˜¯éå¸¸æœ‰é™çš„ï¼Œä¸èƒ½ä¸€æ¬¡æ‰§è¡Œé•¿æ—¶é—´ä»»åŠ¡ã€‚å¯æ ¹æ®å‚æ•° deadline.timeRemaing()æ¥åˆ¤æ–­å½“å‰å¯ç”¨æ—¶é—´ï¼Œå¦‚æœæ—¶é—´åˆ°äº†ï¼Œå¿…é¡»è¦ç»“æŸï¼Œæˆ–è€…æ”¾åœ¨ä¸‹ä¸€ä¸ª rIC é‡Œæ‰§è¡Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;myNonEssentialWork&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;deadline&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// Use any remaining time, or, if timed out, just run through the tasks.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;deadline&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;timeRemaining&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; deadline&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;didTimeout&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
  tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;doWorkIfNeeded&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestIdleCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;myNonEssentialWork&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rIC ä¸èƒ½ä¿è¯ä¸€å®šä¼šæ‰§è¡Œã€‚æ‰€ä»¥ä¸€èˆ¬æ”¾åœ¨ rIC é‡Œçš„ä»»åŠ¡æ˜¯æ— å…³æ ¸å¿ƒé€»è¾‘æˆ–ç”¨æˆ·ä½“éªŒçš„ï¼Œä¸€èˆ¬æ¯”å¦‚æ•°æ®ä¸ŠæŠ¥æˆ–è€…é¢„å¤„ç†æ•°æ®ã€‚å¯ç”¨ä¼ å…¥ timeout å‚æ•°ï¼Œä¿è¯ä»»åŠ¡ä¸€å®šä¼šæ‰§è¡Œã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Wait at most two seconds before processing events.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;requestIdleCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;processPendingAnalyticsEvents&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; timeout&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2000&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;

        &lt;h2 id=&apos;toc-2-8&apos; &gt;
          å°ç»“
        &lt;/h2&gt;
      
&lt;p&gt;é€šè¿‡å®Œæ•´çš„å­¦ä¹ ä¸€å¸§çš„ç»˜åˆ¶è¿‡ç¨‹ï¼Œç„¶åé’ˆå¯¹æ¯ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬éƒ½é‡‡å–ä¸€äº›ä¼˜åŒ–æ‰‹æ®µï¼Œé‚£ä¹ˆæ•´ä¸ªåŠ¨ç”»éƒ½å°†è¡¨ç°çš„éå¸¸æµç•…ã€‚æœ€å¥½ï¼Œç”¨ä¸€å¼ å›¾æ¥ä½œä¸ºç»“å°¾å§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d7823a0471f95a803a66fe7dd58a90ee/15f59/ric5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 44.803229061553985%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABjklEQVQoz52Sy2sUQRCH5/8/eclBDyIePAjBFySuUePFgOgSIQur2YgPwm428+jXvLtnvtR0FCUXxYaPorurqqt+1UkIAe89dd1QVzXjOP4TN9ev8yTLMrI0Q5kcV2mGYYgP+OkhIXjhD+uDj9Y1mqq1dH2Lq7XEhBibpFmK1RXvljOOFvu0dcBaR+mE8iYlzpXi0/P8/X0OP+5ydr7gxfwBqlA0TUOyXq+ZmBIX+YUkKiRQU9gKrV3E/LTaGJTN0YJSitX3Y+af9jA2w8hd17Ukm81GkuVYk3Hx5SGXp/c4Wz7m7oeCp7MVL58seLX/mdmjJXsHBzyb77D79hbHqyPMds7m9A5qfUih9HWFUZ+I6NZbfJPTmkupsMXkDpsaXCGtyn5q19Y5pspoukp0bRh60b13eKluHCcN0zSWf510JAxEK96MwyR0EMcQneMk5X5iEMcgtB5UFUhNJQOTKW+3W/JcWrY26vB3dERrQ1MaTn4odl5/4/abr5wX9e+W41f5D5rOY2TqVujl61wBJo6sy3YRHmwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d7823a0471f95a803a66fe7dd58a90ee/cc182/ric5.webp 148w,
/static/d7823a0471f95a803a66fe7dd58a90ee/f7e40/ric5.webp 295w,
/static/d7823a0471f95a803a66fe7dd58a90ee/1a2f4/ric5.webp 590w,
/static/d7823a0471f95a803a66fe7dd58a90ee/4837b/ric5.webp 885w,
/static/d7823a0471f95a803a66fe7dd58a90ee/2ada9/ric5.webp 991w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d7823a0471f95a803a66fe7dd58a90ee/cf440/ric5.png 148w,
/static/d7823a0471f95a803a66fe7dd58a90ee/d2d38/ric5.png 295w,
/static/d7823a0471f95a803a66fe7dd58a90ee/b9e4f/ric5.png 590w,
/static/d7823a0471f95a803a66fe7dd58a90ee/f9b6a/ric5.png 885w,
/static/d7823a0471f95a803a66fe7dd58a90ee/15f59/ric5.png 991w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/d7823a0471f95a803a66fe7dd58a90ee/b9e4f/ric5.png&quot;
          alt=&quot;ric5&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-9&apos; &gt;
          å‚è€ƒ
        &lt;/h2&gt;
      
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/rendering/&quot;&gt;æ¸²æŸ“æ€§èƒ½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.alibabacloud.com/blog/front-end-performance-optimization-with-accelerated-compositing-part-1_594194&quot;&gt;Front-End Performance Optimization with Accelerated Compositing Part 1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aerotwist.com/blog/the-anatomy-of-a-frame/&quot;&gt;The Anatomy of a Frame&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[æ•°æ®ç»“æ„å’Œç®—æ³•-åŸºç¡€æ•°æ®ç»“æ„]]></title><description><![CDATA[â€¦]]></description><link>https://snayan.github.io//post/2019/algorithm_basic_data_structure/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/algorithm_basic_data_structure/</guid><pubDate>Wed, 08 May 2019 20:29:00 GMT</pubDate><content:encoded>&lt;p&gt;åŸºç¡€æ•°æ®ç»“æ„ï¼Œæœ€åŸºç¡€çš„å°±åªæœ‰ä¸¤ç§ï¼Œä¸€ä¸ªæ˜¯æ•°ç»„ï¼Œä¸€ä¸ªæ˜¯é“¾è¡¨ã€‚å…¶ä»–çš„æ•°æ®ç»“æ„éƒ½æ˜¯åœ¨å®ƒä»¬ä¹‹ä¸ŠæŠ½è±¡å‡ºæ¥çš„ï¼Œæ¯”å¦‚ï¼Œæ ˆï¼Œé˜Ÿåˆ—ï¼Œæ•£åˆ—è¡¨ï¼Œæ ‘ï¼Œå›¾ç­‰ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          æ•°ç»„
        &lt;/h3&gt;
      
&lt;p&gt;æ•°ç»„åœ¨å†…å­˜ä¸­æ˜¯ç”³è¯·çš„ä¸€ç»„è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œåœ¨ä¸€äº›å¼ºç±»å‹è¯­è¨€ä¸­ï¼Œåˆå§‹åŒ–æ•°ç»„æ—¶æ˜¯è¦äº‹å…ˆæŒ‡å®šæ•°ç»„å¤§å°å’Œç±»å‹çš„ï¼Œä¸€æ—¦å®Œæˆï¼Œåˆ™æ•°ç»„å¤§å°å’Œç±»å‹ä¸å¯æ”¹å˜ã€‚æˆ‘ä»¬å¸¸è¯´çš„å¯¹æ•°ç»„çš„åŠ¨æ€æ‰©å®¹ç­‰ï¼Œå…¶å®ä¹Ÿæ˜¯ç”³è¯·æ›´å¤§çš„æ•°ç»„ï¼Œç„¶åæŠŠæ—§æ•°ç»„é‡Œçš„æ•°æ®æ¬ç§»åˆ°æ–°æ•°ç»„é‡Œã€‚åœ¨ Javascript ä¸­ï¼Œæ•°ç»„å´æ²¡æœ‰è¿™æ ·çš„é™åˆ¶ï¼Œå¯ä»¥éšæ„å¢åŠ å†…å®¹ï¼Œéšæ„æ”¹å˜æ•°ç»„çš„å¤§å°ï¼Œä¸”æ•°ç»„é‡Œå…ƒç´ ç±»å‹å¯ä»¥ä¸ä¸€æ ·ã€‚JavaScript åº•å±‚ä¸­å®ç°æ•°ç»„æ—¶ï¼Œå¦‚æœå…ƒç´ æ˜¯åŒç±»å‹çš„ï¼Œåˆ™ä½¿ç”¨çš„æ˜¯è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œå¦‚æœæ˜¯ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œåˆ™åº”è¯¥ä½¿ç”¨çš„æ˜¯ç±»ä¼¼å“ˆå¸Œç»“æ„ã€‚Javascript ä¸­çš„&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray&quot;&gt;TypeArray&lt;/a&gt;å°±æ˜¯ä½¿ç”¨çš„è¿ç»­çš„å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹æ•°ç»„ä¸­ä»»æ„ä½ç½®å…ƒç´ çš„è®¿é—®ï¼Œæ˜¯ååˆ†é«˜æ•ˆçš„ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸‹æ ‡å€¼ï¼Œå¾ˆå¿«å°±å¯ä»¥åœ¨ O(1)æ—¶é—´å†…å®Œæˆè®¿é—®ï¼Œè€Œé“¾è¡¨åˆ™éœ€è¦ç§»åŠ¨å¤šæ¬¡ head æŒ‡é’ˆæ‰èƒ½å®Œæˆã€‚ç”±äºå®ƒæ˜¯ä¸€ç»„è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œè®¡ç®—æœºå¯ä»¥ä¸€æ¬¡æ€§æŠŠå®ƒå…¨éƒ¨è¯»å…¥å†…å­˜ç¼“å†²åŒºä¸­ï¼Œä¸‹æ¬¡è®¿é—®å…¶ä»–ä½ç½®å…ƒç´ ï¼Œåªéœ€è¦è®¡ç®—åç§»é‡å°±å¯ä»¥ä»å†…å­˜ç¼“å†²åŒºä¸­è¯»å–ï¼Œé€Ÿåº¦æ˜¯éå¸¸å¿«çš„ã€‚ä½†æ˜¯å¯¹äºé¢‘ç¹çš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œå¯èƒ½å°±æ¶‰åŠåŠ¨æ€æ‰©å®¹æˆ–è€…ç»´æŠ¤æ•°æ®çš„æœ‰åºæ€§ï¼Œé‚£ä¹ˆå°±ä¼šå­˜åœ¨é¢å¤–çš„æ•°æ®æ¬ç§»å·¥ä½œï¼Œé¢å¤–èŠ±è´¹çš„æ—¶é—´å¯èƒ½æ˜¯ O(n)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b2aa4baa87ba9f1106e36cb96578c412/fa92b/array.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 14.285714285714285%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAXElEQVQI122O0Q6AIAhF/f+vLX0QELkJaa2m7uzIBZ3JzOAb7nl+DLxe/R+YvbVSFHZfEmbQWSBEoFxAR446XCvI8wGPORFB733/4Aq6KhoLtLXwB88mOuac3Q8voZrtCkiO+O4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b2aa4baa87ba9f1106e36cb96578c412/cc182/array.webp 148w,
/static/b2aa4baa87ba9f1106e36cb96578c412/f7e40/array.webp 295w,
/static/b2aa4baa87ba9f1106e36cb96578c412/1a2f4/array.webp 590w,
/static/b2aa4baa87ba9f1106e36cb96578c412/4837b/array.webp 885w,
/static/b2aa4baa87ba9f1106e36cb96578c412/2f819/array.webp 1180w,
/static/b2aa4baa87ba9f1106e36cb96578c412/95bc2/array.webp 1400w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b2aa4baa87ba9f1106e36cb96578c412/cf440/array.png 148w,
/static/b2aa4baa87ba9f1106e36cb96578c412/d2d38/array.png 295w,
/static/b2aa4baa87ba9f1106e36cb96578c412/b9e4f/array.png 590w,
/static/b2aa4baa87ba9f1106e36cb96578c412/f9b6a/array.png 885w,
/static/b2aa4baa87ba9f1106e36cb96578c412/2d849/array.png 1180w,
/static/b2aa4baa87ba9f1106e36cb96578c412/fa92b/array.png 1400w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/b2aa4baa87ba9f1106e36cb96578c412/b9e4f/array.png&quot;
          alt=&quot;array&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          é“¾è¡¨
        &lt;/h3&gt;
      
&lt;p&gt;é“¾è¡¨æ˜¯ç”±ä¸€ä¸ªä¸€ä¸ªèŠ‚ç‚¹é“¾æ¥èµ·æ¥çš„ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¼šå­˜å‚¨å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œè¿˜ä¼šæœ‰ä¸€ä¸ª next æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¯¹äºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¼šæœ‰ä¸€ä¸ª head æŒ‡é’ˆæŒ‡å‘å®ƒï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ next æŒ‡å‘ nullã€‚å®ƒå¤©ç”Ÿå°±æ”¯æŒåŠ¨æ€æ‰©å®¹æˆ–è€…ç¼©å®¹ï¼Œç”±äºå¯¹å†…å­˜ç©ºé—´ä¸è¦æ±‚è¿ç»­ï¼Œå¯¹å†…å­˜åˆ©ç”¨ç‡æ›´é«˜ã€‚å¦‚æœéœ€è¦æ‰©å®¹ï¼Œå°±å¢åŠ èŠ‚ç‚¹ï¼Œæ’å…¥åˆ°é“¾è¡¨çš„æŸä¸€ä¸ªèŠ‚ç‚¹åé¢ã€‚å¦‚æœè¦ç¼©å®¹ï¼Œå°±åˆ é™¤é‡Šæ”¾æ‰éƒ¨åˆ†ä¸ç”¨çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*
  é“¾è¡¨èŠ‚ç‚¹
  é“¾è¡¨èŠ‚ç‚¹ç”¨äºç»„æˆå•å‘é“¾è¡¨ï¼ŒåŒå‘é“¾è¡¨ï¼Œå¾ªç¯é“¾è¡¨ç­‰ã€‚
*/&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LinkedNode&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Item&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; val&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Item
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LinkedNode&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Item&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; pre&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LinkedNode&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Item&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;val&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Item&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LinkedNode&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Item&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pre&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LinkedNode&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Item&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;val &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; val
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;next &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; next
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pre &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pre
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç”±äºå®ƒçš„ä¸è¿ç»­æ€§ï¼Œæˆ‘ä»¬åœ¨è®¿é—®é“¾è¡¨ä¸­æŸä¸ªä½ç½®çš„èŠ‚ç‚¹æ•°æ®æ—¶ï¼Œéœ€è¦ä»å¤´å¼€å§‹éå† head æŒ‡é’ˆï¼Œç›´åˆ° head æŒ‡å‘è¦è®¿é—®çš„èŠ‚ç‚¹ï¼Œéœ€è¦çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚å¯¹äºåˆ é™¤æˆ–è€…æ’å…¥æ•°æ®ï¼Œåªéœ€è¦ç®€å•çš„æ”¹å˜ä¸Šä¸€ä¸ªèŠ‚ç‚¹å’Œå½“å‰èŠ‚ç‚¹çš„ next æŒ‡é’ˆå³å¯ï¼Œä¸éœ€è¦é¢å¤–çš„æ¬ç§»å…¶ä»–èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸€èˆ¬ä¸º O(1)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d04fec2743b7ceda6cee6c27fa79a69a/e9603/linkedList.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 14.326647564469914%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAcklEQVQI112OgQ6DMAhE+/+fumSprlBdbXkrVTcnCbmXOwIELmWtYWYdnG2wdzv8b+YKP49hu0EwWbDHxLsUcpxREbIqqyjSVZ8RSQmdZnJXee3smc9LVraYIK9jabDar5e6f3H0+VG78F92162Ca1/4ASR37BwCcluqAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d04fec2743b7ceda6cee6c27fa79a69a/cc182/linkedList.webp 148w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/f7e40/linkedList.webp 295w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/1a2f4/linkedList.webp 590w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/4837b/linkedList.webp 885w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/2f819/linkedList.webp 1180w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/b135b/linkedList.webp 1396w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d04fec2743b7ceda6cee6c27fa79a69a/cf440/linkedList.png 148w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/d2d38/linkedList.png 295w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/b9e4f/linkedList.png 590w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/f9b6a/linkedList.png 885w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/2d849/linkedList.png 1180w,
/static/d04fec2743b7ceda6cee6c27fa79a69a/e9603/linkedList.png 1396w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/d04fec2743b7ceda6cee6c27fa79a69a/b9e4f/linkedList.png&quot;
          alt=&quot;linkedList&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é“¾è¡¨æœ‰å¤šç§å˜ä½“ï¼Œæ¯”å¦‚åŒå‘é“¾è¡¨ï¼Œå¾ªç¯é“¾è¡¨ï¼ŒåŒå‘å¾ªç¯é“¾è¡¨ç­‰ã€‚åŒå‘é“¾è¡¨ï¼Œå°±æ˜¯èŠ‚ç‚¹ä¸ä»…æœ‰ä¸€ä¸ª next æŒ‡é’ˆï¼Œè¿˜æœ‰ä¸€ä¸ª pre æŒ‡é’ˆï¼ŒæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç”±äºå•å‘é“¾è¡¨åªæœ‰ä¸€ä¸ª next æŒ‡é’ˆï¼Œæ‰€ä»¥åªèƒ½å¾€åéå†ï¼Œè€ŒåŒå‘é“¾è¡¨ï¼Œæ—¢å¯ä»¥å¾€åéå†ï¼Œä¹Ÿå¯ä»¥æ ¹æ® pre æŒ‡é’ˆå¾€å‰éå†ï¼Œä½¿ç”¨éå¸¸æ–¹ä¾¿ï¼Œå¹¶ä¸”åªéœ€è¦å¤šå­˜å‚¨ä¸€ä¸ª pre æŒ‡é’ˆå³å¯ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ›´å¤šçš„æ˜¯ä½¿ç”¨åŒå‘é“¾è¡¨ã€‚å¾ªç¯é“¾è¡¨ï¼Œå°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ next ä¸æŒ‡å‘ nullï¼Œè€Œæ˜¯æŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»è€Œå½¢æˆäº†ä¸€ä¸ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºé“¾è¡¨ä¸­æ¯ä¸ªèŠ‚ç‚¹ä¸ä»…å­˜å‚¨äº†å€¼ï¼Œè¿˜éœ€è¦é¢å¤–çš„ç©ºé—´å­˜å‚¨ next æŒ‡é’ˆï¼ˆåŒå‘é“¾è¡¨è¿˜éœ€è¦å­˜å‚¨ pre æŒ‡é’ˆï¼‰ï¼Œæ‰€ä»¥å¯¹äºç›¸åŒæ•°æ®è€Œè¨€ï¼Œé“¾è¡¨èŠ±è´¹çš„å†…å­˜ç©ºé—´æ¯”æ•°ç»„è¦å¤§ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºé“¾è¡¨çš„æŒæ¡ï¼Œæˆ‘åšäº†å¦‚ä¸‹ä¸€äº›ç»ƒä¹ ï¼Œä½ å¯ä»¥çœ‹çœ‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/Algorithm/%E9%93%BE%E8%A1%A8-%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E5%80%92%E6%95%B0%E7%AC%ACk%E4%B8%AA%E7%BB%93%E7%82%B9/index.ts&quot;&gt;é“¾è¡¨-åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬ k ä¸ªç»“ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/Algorithm/%E9%93%BE%E8%A1%A8-%E5%88%A4%E6%96%AD%E5%9B%9E%E6%96%87%E5%AD%97%E7%AC%A6%E4%B8%B2/index.ts&quot;&gt;é“¾è¡¨-åˆ¤æ–­å›æ–‡å­—ç¬¦ä¸²&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/Algorithm/%E9%93%BE%E8%A1%A8-%E5%8D%95%E5%90%91%E9%93%BE%E8%A1%A8%E7%9A%84%E5%8F%8D%E8%BD%AC/index.ts&quot;&gt;é“¾è¡¨-å•å‘é“¾è¡¨çš„åè½¬&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/Algorithm/%E9%93%BE%E8%A1%A8-%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8/index.ts&quot;&gt;é“¾è¡¨-åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/Algorithm/%E9%93%BE%E8%A1%A8-%E6%A3%80%E6%B5%8B%E9%93%BE%E8%A1%A8%E4%B8%AD%E6%98%AF%E5%90%A6%E6%9C%89%E7%8E%AF/index.ts&quot;&gt;é“¾è¡¨-æ£€æµ‹é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/Algorithm/%E9%93%BE%E8%A1%A8-%E6%B1%82%E9%93%BE%E8%A1%A8%E7%9A%84%E4%B8%AD%E9%97%B4%E7%BB%93%E7%82%B9/index.ts&quot;&gt;é“¾è¡¨-æ±‚é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;è®¿é—®ä»»æ„ä½ç½®å…ƒç´ &lt;/th&gt;
&lt;th&gt;æ’å…¥æˆ–è€…åˆ é™¤æŸä¸€ä¸ªå…ƒç´ &lt;/th&gt;
&lt;th&gt;å†…å­˜ç©ºé—´&lt;/th&gt;
&lt;th&gt;ä½¿ç”¨å†…å­˜å¤§å°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ•°ç»„&lt;/td&gt;
&lt;td&gt;O(1)&lt;/td&gt;
&lt;td&gt;O(n)&lt;/td&gt;
&lt;td&gt;è¿ç»­&lt;/td&gt;
&lt;td&gt;è¾ƒå°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é“¾è¡¨&lt;/td&gt;
&lt;td&gt;O(n)&lt;/td&gt;
&lt;td&gt;O(1)&lt;/td&gt;
&lt;td&gt;ä¸è¿ç»­&lt;/td&gt;
&lt;td&gt;è¾ƒå¤§&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          æ ˆ
        &lt;/h3&gt;
      
&lt;p&gt;æ ˆæ˜¯ä¸€ç§æŠ½è±¡çš„ LIFOï¼ˆlast in , first outï¼‰æ•°æ®ç»“æ„ã€‚ç”¨æ•°ç»„å®ç°çš„æ ˆï¼Œä¸€èˆ¬ç§°ä¸ºé¡ºåºæ ˆï¼Œç”¨é“¾è¡¨å®ç°çš„æ ˆï¼Œä¸€èˆ¬ç§°ä¸ºé“¾å¼æ ˆï¼›å®é™…åº”ç”¨ä¸­ï¼Œé¡ºåºæ ˆä½¿ç”¨è¾ƒå¤šã€‚æ ˆä¸€èˆ¬æš´éœ²å‡ºæ¥çš„æ“ä½œï¼Œåªæœ‰å‡ºæ ˆå’Œå…¥æ ˆï¼Œå¯èƒ½è¿˜ä¼šæœ‰æ¸…ç©ºï¼ŒæŸ¥æ‰¾ç­‰å…¶ä»–è¾…åŠ©æ“ä½œã€‚å®ƒéµå¾ªåè¿›ï¼Œå…ˆå‡ºçš„ç­–ç•¥ï¼Œåªæœ‰é€šè¿‡ä¸åœçš„å‡ºæ ˆæ“ä½œæ‰èƒ½éå†æˆ–è€…è®¿é—®å®ƒæœ€å¼€å§‹åŠ å…¥çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å‡½æ•°è°ƒç”¨æ ˆï¼Œå°±æ˜¯ç”¨çš„è¿™ç§ç»“æ„ï¼Œåœ¨ä¸€ä¸ªå‡½æ•° A ä¸­è°ƒç”¨å¦å¤–ä¸€ä¸ªå‡½æ•° Bï¼Œå°±ä¼šå…ˆæŠŠå‡½æ•° B å‹å…¥åˆ°æ‰§è¡Œæ ˆé‡Œï¼Œå½“å‡½æ•° B æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå°±ä¼šæŠŠå‡½æ•° B å‡ºæ ˆï¼Œç»§ç»­æ‰§è¡Œæ ˆé¡¶å‡½æ•° Aã€‚ç‰¹åˆ«æ˜¯å¯¹äºé€’å½’è°ƒç”¨ï¼Œæˆ‘ä»¬è¦æ§åˆ¶ç»ˆæ­¢æ¡ä»¶ï¼Œä¸ç„¶å°±ä¼šå‡ºç°é€’å½’æ¬¡æ•°è¿‡å¤šï¼ŒæŠ›å‡º&lt;em&gt;maximum-call-stack-size-exceeded-error&lt;/em&gt; çš„é”™è¯¯ã€‚è§£å†³åŠæ³•å¯ä»¥å°†é€’å½’è½¬åŒ–ä¸ºè¿­ä»£ï¼Œæˆ–è€…ä½¿ç”¨å°¾é€’å½’ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9cdb2c82da0f54aced7333fb05fc0373/c236c/stack.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 34.2896174863388%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA1ElEQVQoz21RC27FIAzr/W86adLT1LUlH/Cz6aBsWmhEm8TGuBsYjas/rWGE3keGO2om/osVo9gGSJHmiNeOiECtFcm9kCw/XqjHhco51ZLkmhm4Scp9m2puqWhHQbECFxGBZtYH1YuMqVo9HYpFkPZtfnxfaJ9fIKST2HnBmUZizQg8VGmJsInw1jFJH0IN2A1wAqMY8iqdcJDpoFCyp3o/jHa0/XwUrh4Me0VoxwnfD3pos6G600vV7ccSZH2U/rry+nM46FThVOjD/PbUY63/ufIbaVUpfhVgiq8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/9cdb2c82da0f54aced7333fb05fc0373/cc182/stack.webp 148w,
/static/9cdb2c82da0f54aced7333fb05fc0373/f7e40/stack.webp 295w,
/static/9cdb2c82da0f54aced7333fb05fc0373/1a2f4/stack.webp 590w,
/static/9cdb2c82da0f54aced7333fb05fc0373/4837b/stack.webp 885w,
/static/9cdb2c82da0f54aced7333fb05fc0373/2f819/stack.webp 1180w,
/static/9cdb2c82da0f54aced7333fb05fc0373/50d47/stack.webp 1464w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/9cdb2c82da0f54aced7333fb05fc0373/cf440/stack.png 148w,
/static/9cdb2c82da0f54aced7333fb05fc0373/d2d38/stack.png 295w,
/static/9cdb2c82da0f54aced7333fb05fc0373/b9e4f/stack.png 590w,
/static/9cdb2c82da0f54aced7333fb05fc0373/f9b6a/stack.png 885w,
/static/9cdb2c82da0f54aced7333fb05fc0373/2d849/stack.png 1180w,
/static/9cdb2c82da0f54aced7333fb05fc0373/c236c/stack.png 1464w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/9cdb2c82da0f54aced7333fb05fc0373/b9e4f/stack.png&quot;
          alt=&quot;stack&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºæ ˆçš„æŒæ¡ï¼Œæˆ‘åšäº†å¦‚ä¸‹ä¸€äº›ç»ƒä¹ ï¼Œä½ å¯ä»¥çœ‹çœ‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/DataStructure/Stack/ArrayStack.ts&quot;&gt;é¡ºåºæ ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/DataStructure/Stack/LinkedStack.ts&quot;&gt;é“¾å¼æ ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/Algorithm/%E6%A0%88-%E5%AE%9E%E7%8E%B0%E5%9B%9B%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%90%E7%AE%97/index.ts&quot;&gt;æ ˆ-å®ç°å››åˆ™è¡¨è¾¾å¼è¿ç®—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/Algorithm/%E6%A0%88-%E5%AE%9E%E7%8E%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%89%8D%E8%BF%9B%E5%90%8E%E9%80%80%E5%8A%9F%E8%83%BD/index.ts&quot;&gt;æ ˆ-å®ç°æµè§ˆå™¨çš„å‰è¿›åé€€åŠŸèƒ½&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          é˜Ÿåˆ—
        &lt;/h3&gt;
      
&lt;p&gt;é˜Ÿåˆ—æ˜¯ä¸€ç§æŠ½è±¡çš„ FIFOï¼ˆfirst in, first outï¼‰æ•°æ®ç»“æ„ã€‚åŒç†ï¼Œé˜Ÿåˆ—ä¹Ÿå¯ä»¥ç”¨æ•°ç»„æˆ–è€…é“¾è¡¨å®ç°ã€‚å®é™…åº”ç”¨ä¸­ï¼Œé¡ºåºé˜Ÿåˆ—ä½¿ç”¨æ¯”è¾ƒå¤šã€‚é˜Ÿåˆ—ä¸€èˆ¬æš´éœ²å‡ºæ¥çš„æ“ä½œï¼Œåªæœ‰å…¥é˜Ÿåˆ—å’Œå‡ºé˜Ÿåˆ—ï¼Œå¯èƒ½è¿˜æœ‰æ¸…ç©ºé˜Ÿåˆ—ï¼ŒæŸ¥æ‰¾ç­‰å…¶ä»–è¾…åŠ©æ“ä½œã€‚å®ƒéµå¾ªå…ˆè¿›ï¼Œå…ˆå‡ºçš„ç­–ç•¥ï¼ŒååŠ å…¥çš„å…ƒç´ æ”¾åœ¨é˜Ÿå°¾ï¼Œç±»ä¼¼äºæˆ‘ä»¬ç”Ÿæ´»ä¸­æ’é˜Ÿä¹°ç¥¨ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;JavaScript ä¸­å¸¸è¯´çš„&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop#Event_loop&quot;&gt;event loop&lt;/a&gt;ï¼Œå°±æ˜¯é˜Ÿåˆ—çš„åº”ç”¨ä¹‹ä¸€ã€‚å®ƒä¼šä¸æ–­çš„ä»å¯æ‰§è¡Œé˜Ÿåˆ—ä¸­å‡ºé˜Ÿåˆ—ï¼Œå–å‡ºä¸€ä¸ªå¯æ‰§è¡Œçš„å‡½æ•°ï¼Œç„¶åå°†å®ƒæ”¾å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚æˆ‘ä»¬åœ¨å®ç° IO æ“ä½œï¼Œäº‹ä»¶ç›‘å¬ï¼Œæˆ–è€…&lt;code class=&quot;language-text&quot;&gt;setTimeout&lt;/code&gt;æ—¶å°±ä¼šå…¥é˜Ÿåˆ—æ“ä½œï¼Œå°†æ‰§è¡Œå‡½æ•°æ”¾å…¥é˜Ÿåˆ—æœ«å°¾ã€‚å¦‚æœæ›´åŠ æ·±å…¥ï¼ŒJavaScript çš„ event loop åˆ†ä¸ºä¸¤ç§é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯ macrotaskï¼Œä¸€ä¸ªæ˜¯ microtaskï¼Œè¿™é‡Œä¸åšæ›´åŠ æ·±å…¥çš„æ¢è®¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´ ï¼ˆBFSï¼‰éå†å›¾æ—¶ï¼Œé˜Ÿåˆ—ä¹Ÿæ˜¯å¸¸ç”¨çš„æ•°æ®ç»“æ„ã€‚åˆå§‹æ—¶ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹å…¥é˜Ÿåˆ—ï¼Œç„¶åé€šè¿‡æ¯æ¬¡ä»é˜Ÿåˆ—é‡Œå‡ºé˜Ÿåˆ—ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®¿é—®å®ƒï¼Œç„¶åæŠŠå®ƒæ‰€æœ‰çš„å…³è”èŠ‚ç‚¹éƒ½å…¥é˜Ÿåˆ—ã€‚è¿™æ ·å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæ•´ä¸ªå›¾æ‰€æœ‰èŠ‚ç‚¹å°±éƒ½è¢«è®¿é—®åˆ°äº†ã€‚&lt;/p&gt;
&lt;p&gt;é˜Ÿåˆ—ä¹Ÿæœ‰å˜ä½“ï¼Œå¾ªç¯é˜Ÿåˆ—ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚å¾ªç¯é˜Ÿåˆ—ï¼Œè·Ÿå¾ªç¯é“¾è¡¨ç±»ä¼¼ï¼Œå¾ªç¯é˜Ÿåˆ—åªæ˜¯æˆ‘ä»¬æ€ç»´æŠ½è±¡ä¸Šçš„ç¯ã€‚ç”±äºé˜Ÿåˆ—å…¥é˜Ÿåˆ—æ—¶ï¼Œåªèƒ½åŠ åˆ°é˜Ÿå°¾ï¼Œå½“ä¸€ä¸ªå›ºå®šå¤§å°çš„é˜Ÿåˆ—çš„å°¾éƒ¨æœ‰å…ƒç´ æ—¶ï¼Œæˆ‘ä»¬å°±æ— æ³•å†æ‰§è¡Œå…¥é˜Ÿåˆ—äº†ï¼Œå³ä½¿é˜Ÿåˆ—å‰é¢æœ‰ç©ºçš„ä½ç½®ï¼Œè¿™å°†å¯¼è‡´å†…å­˜ç©ºé—´çš„æµªè´¹ã€‚è§£å†³åŠæ³•ä¹‹ä¸€å°±æ˜¯æˆ‘ä»¬æ¯æ¬¡æ‰§è¡Œå‡ºé˜Ÿåˆ—æ—¶ï¼Œéƒ½ç§»åŠ¨é˜Ÿåˆ—ä¸­å…ƒç´ ï¼Œå¡«å……ç¬¬ä¸€ä¸ªç©ºçš„ä½ç½®ï¼Œè¿™æ ·è™½ç„¶å¯ä»¥é˜²æ­¢é˜Ÿåˆ—ç©ºé—´çš„æµªè´¹ï¼Œä½†æ˜¯æ¯æ¬¡æ¬ç§»é˜Ÿåˆ—ä¸­æ•°æ®ï¼Œå°†å¯¼è‡´æ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚è§£å†³åŠæ³•ä¹‹äºŒå°±æ˜¯ä½¿ç”¨æˆ‘ä»¬çš„å¾ªç¯é˜Ÿåˆ—ï¼Œè®¡ç®—é˜Ÿå°¾ä½ç½®æ—¶ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬å›ºå®šçš„æ•°ç»„æœ€åä¸€ä¸ªä½ç½®ï¼Œè€Œæ˜¯ç»“åˆé˜Ÿé¦–ç©ºçš„ä½ç½®æ¥è®¡ç®—ã€‚ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œå‡ºé˜Ÿåˆ—é€»è¾‘å¹¶ä¸æ˜¯å…ˆå…¥é˜Ÿåˆ—çš„å…ƒç´ å‡ºé˜Ÿåˆ—ï¼Œè€Œæ˜¯ä¼˜å…ˆçº§é«˜çš„å…ƒç´ å…ˆå‡ºé˜Ÿåˆ—ï¼Œå¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™å…ˆå…¥é˜Ÿåˆ—çš„å…ƒç´ å…ˆå‡ºé˜Ÿåˆ—ã€‚å †çš„åº”ç”¨ä¹‹ä¸€å°±æ˜¯ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/569a0f69cec24308880fbbb56abf62d1/a4662/queue.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 61.63265306122449%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABF0lEQVQoz31T0ZKDIAz0/7+xTzfTl95D76pFkgB7CQcMCjYzKxriulnighIpJbSIURMYo9asDiAZ39NYWlJhW0nJ4uMHcafynPJ+g+bk+UL0/P/Nkh8JNUIIYGaQ93DOwa0biAjkdtC+g9+6bm84r/fCEBlVHgijqjNSKxRbdw+53SH375wPrHliBN23Z6ufEs68aHZ6QlDEi/1rD8vag1VJhtqQEVSZ80jqceq9nyk8f1EKkbVW/aXNZX/thFMnYFB4VtkTHnLmqbb/yaLlrK6WSWmzZuzKRkh0sAdXHjaFzxXxV8dFx8JGhu1QTK2S2fjEC78rlia9FkrIqL5Zi0Zs7YbJmExbPv8JqffUTvTrgUT8UVnFH8ZftlIgsUYbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/569a0f69cec24308880fbbb56abf62d1/cc182/queue.webp 148w,
/static/569a0f69cec24308880fbbb56abf62d1/f7e40/queue.webp 295w,
/static/569a0f69cec24308880fbbb56abf62d1/1a2f4/queue.webp 590w,
/static/569a0f69cec24308880fbbb56abf62d1/4837b/queue.webp 885w,
/static/569a0f69cec24308880fbbb56abf62d1/2f819/queue.webp 1180w,
/static/569a0f69cec24308880fbbb56abf62d1/5f4cb/queue.webp 1470w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/569a0f69cec24308880fbbb56abf62d1/cf440/queue.png 148w,
/static/569a0f69cec24308880fbbb56abf62d1/d2d38/queue.png 295w,
/static/569a0f69cec24308880fbbb56abf62d1/b9e4f/queue.png 590w,
/static/569a0f69cec24308880fbbb56abf62d1/f9b6a/queue.png 885w,
/static/569a0f69cec24308880fbbb56abf62d1/2d849/queue.png 1180w,
/static/569a0f69cec24308880fbbb56abf62d1/a4662/queue.png 1470w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/569a0f69cec24308880fbbb56abf62d1/b9e4f/queue.png&quot;
          alt=&quot;queue&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºé˜Ÿåˆ—çš„æŒæ¡ï¼Œæˆ‘åšäº†å¦‚ä¸‹ä¸€äº›ç»ƒä¹ ï¼Œä½ å¯ä»¥çœ‹çœ‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/DataStructure/Queue/ArrayQueue.ts&quot;&gt;é¡ºåºé˜Ÿåˆ—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/algorithm-demo/blob/master/DataStructure/Queue/LinkedQueue.ts&quot;&gt;é“¾å¼é˜Ÿåˆ—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          æ•£åˆ—è¡¨
        &lt;/h3&gt;
      
&lt;p&gt;æ•£åˆ—è¡¨åˆå«å“ˆå¸Œè¡¨ï¼Œé€šå¸¸æ˜¯é€šè¿‡é”®ï¼ˆkeyï¼‰æ¥å­˜å‚¨ä¸€ä¸ªå€¼ï¼ˆvalueï¼‰ï¼Œä¹Ÿå°±æ˜¯å¸¸ç”¨çš„ key-value ç»“æ„ã€‚æ•£åˆ—è¡¨æ˜¯åŸºäºæ•°ç»„æŠ½è±¡å‡ºæ¥çš„ï¼Œä¸è¿‡å®ƒæ˜¯é€šè¿‡ä¸€ä¸ª key æ¥è®¿é—®ä¸€ä¸ª value çš„ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(1)ã€‚å½“æˆ‘ä»¬å­˜å‚¨ä¸€ä¸ª key-value æ—¶ï¼Œä¼šå…ˆé€šè¿‡æ•£åˆ—å‡½æ•°å’Œ key è®¡ç®—å‡ºä¸€ä¸ªéè´Ÿæ•´æ•° indexï¼Œå†æŠŠ value å­˜åœ¨ä¸‹æ ‡ä¸º index çš„ä½ç½®ã€‚é€šè¿‡ key æŸ¥è¯¢ value æ—¶ï¼Œè¿‡ç¨‹ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œä¹Ÿæ˜¯å…ˆé€šè¿‡æ•£åˆ—å‡½æ•°å’Œ key è®¡ç®—å‡ºä¸‹æ ‡ indexï¼Œç„¶åè¿”å›æ•°ç»„ä¸­ä¸‹æ ‡ä¸º index çš„ä½ç½®å€¼ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;hash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸€ä¸ªå¥½çš„æ•£åˆ—å‡½æ•°ï¼Œæ—¢è¦è®¡ç®—è¿‡ç¨‹ç®€å•ï¼Œä¸èƒ½æ¶ˆè€—å¤ªå¤šæ—¶é—´ï¼Œä¹Ÿè¦æ»¡è¶³ç”Ÿæˆçš„ä¸‹æ ‡ index éšæœºä¸”åˆ†å¸ƒå‡åŒ€ã€‚å¦‚æœæ•£åˆ—å‡½æ•°è®¡ç®—è¿‡ç¨‹éå¸¸å¤æ‚ï¼Œæ¯æ¬¡æ’å…¥æˆ–è€…æŸ¥è¯¢æ—¶éƒ½å°†èŠ±è´¹æ›´å¤šçš„æ—¶é—´ï¼Œå½±å“æ€§èƒ½ã€‚å¦‚æœæ•£åˆ—å‡½æ•°ç”Ÿæˆçš„ index ä¸å¤Ÿéšæœºåˆ†å¸ƒï¼Œå°±ä¼šå¢åŠ å‘ç”Ÿæ•£åˆ—å†²çªçš„æ¦‚ç‡ï¼Œè§£å†³æ•£åˆ—å†²çªä¹Ÿä¼šèŠ±è´¹é¢å¤–çš„æ—¶é—´ï¼Œä¹Ÿä¼šå½±å“æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ k1 é€šè¿‡æ•£åˆ—å‡½æ•°å¾—åˆ° i1ï¼Œæˆ‘ä»¬æŠŠ v1 å­˜åœ¨æ•°ç»„ä¸‹æ ‡ä¸º i1 çš„ä½ç½®ï¼›å¦‚æœ k2 é€šè¿‡æ•£åˆ—å‡½æ•°ä¹Ÿåˆ° i1ï¼Œç”±äº i1 çš„ä½ç½®å·²ç»è¢« v1 ä½¿ç”¨äº†ï¼Œv2 ä¸èƒ½ç›´æ¥å­˜åœ¨ i1 çš„ä½ç½®ï¼Œè¿™ä¸ªæ—¶å€™å°±å‘ç”Ÿäº†æ•£åˆ—å†²çªã€‚æ•£åˆ—å†²çªçš„æ¦‚ç‡ä¸ä»…å—æ•£åˆ—å‡½æ•°çš„å½±å“ï¼Œä¹Ÿå—å½“å‰è£…è½½å› å­å¤§å°çš„å½±å“ã€‚å½“è£…è½½å› å­è¿‡é«˜æ—¶ï¼Œå¯ä»¥å¯åŠ¨åŠ¨æ€æ‰©å®¹ï¼Œå‡å°‘æ•£åˆ—å†²çªï¼Œå½“è£…è½½å› å­è¿‡ä½æ—¶ï¼Œå¯ä»¥å¯åŠ¨åŠ¨æ€ç¼©å®¹ï¼Œé‡Šæ”¾æ²¡æœ‰ä½¿ç”¨çš„å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è£…è½½å› å­ = æ•°ç»„å·²ç»ä½¿ç”¨çš„å…ƒç´ ä¸ªæ•° / æ•°ç»„çš„é•¿åº¦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fa0fe6b1a80c9e64239425740cae7c60/e9603/hash.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 39.684813753581665%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA20lEQVQoz4WSwQ6CMAyGef838urZgycTEw8eDcoQROhYu99uOEVFaNKwdX+/tawZ1Lz30b/XP3vRr+MQBNsenuWlSZZhZFOgl2uMTQ13voK6DpQbcGengeMkf22ikEUg8qxA3TkHYR7AGic7aGaBca0teRUGfNu2MMagrirt9p0ULiIisF6w2HI6CoDjbo/9ao3DZoueHVK5kiqcBaYKR/B706C8FLhVdUyW1L7CqbmDHc+0/BT7QpPJahJ/CMP/4rwE66NYrY5ORdQtA3UU/o5RGBMZzgNUJh7lASwUd8edNLFoAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/fa0fe6b1a80c9e64239425740cae7c60/cc182/hash.webp 148w,
/static/fa0fe6b1a80c9e64239425740cae7c60/f7e40/hash.webp 295w,
/static/fa0fe6b1a80c9e64239425740cae7c60/1a2f4/hash.webp 590w,
/static/fa0fe6b1a80c9e64239425740cae7c60/4837b/hash.webp 885w,
/static/fa0fe6b1a80c9e64239425740cae7c60/2f819/hash.webp 1180w,
/static/fa0fe6b1a80c9e64239425740cae7c60/b135b/hash.webp 1396w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/fa0fe6b1a80c9e64239425740cae7c60/cf440/hash.png 148w,
/static/fa0fe6b1a80c9e64239425740cae7c60/d2d38/hash.png 295w,
/static/fa0fe6b1a80c9e64239425740cae7c60/b9e4f/hash.png 590w,
/static/fa0fe6b1a80c9e64239425740cae7c60/f9b6a/hash.png 885w,
/static/fa0fe6b1a80c9e64239425740cae7c60/2d849/hash.png 1180w,
/static/fa0fe6b1a80c9e64239425740cae7c60/e9603/hash.png 1396w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/fa0fe6b1a80c9e64239425740cae7c60/b9e4f/hash.png&quot;
          alt=&quot;hash&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è§£å†³æ•£åˆ—å†²çªå¸¸è§çš„æ–¹æ³•ä¸€ç§æ˜¯å¼€æ”¾å¯»å€æ³•ï¼Œä¸€ç§æ˜¯é“¾è¡¨æ³•ã€‚å¼€æ”¾å¯»æ‰¾æ³•ä¸­æœ‰ä¸€ç§æ˜¯çº¿æ€§æ¢æµ‹ï¼Œç®€å•ç‚¹è¯´å°±æ˜¯å¦‚æœå½“å‰ä½ç½® i1 å·²ç»è¢«ä½¿ç”¨äº†ï¼Œå°±ç»§ç»­éå†æ•°ç»„åé¢çš„ä½ç½®ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªä¸ºç©ºçš„ä½ç½®ï¼Œç„¶åå°† v2 æ”¾å…¥ã€‚é“¾è¡¨æ³•å°±æ˜¯æ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯ä¸€ä¸ªé“¾è¡¨çš„åœ°å€ï¼Œé€šè¿‡æ•£åˆ—å‡½æ•°å¾—åˆ°çš„ä¸‹æ ‡ indexï¼Œç„¶åå°†æ•°ç»„æ’å…¥å½“å‰é“¾è¡¨çš„å°¾éƒ¨ã€‚è¿™é‡Œä¸åšæ·±å…¥è¯´æ˜äº†ï¼Œæƒ³ç»§ç»­æ·±å…¥çš„ï¼Œå¯ä»¥çœ‹ä¸‹é¢çš„èµ„æ–™ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://cs.nyu.edu/courses/fall17/CSCI-UA.0102-001/Notes/HashTableImplementation.html&quot;&gt;æ•£åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Hash_table#Open_addressing&quot;&gt;å¼€å‘å¯»å€æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Hash_table#Separate_chaining&quot;&gt;é“¾è¡¨æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[æ•°æ®ç»“æ„å’Œç®—æ³•-å‰ç«¯å¿…ä¼šçŸ¥è¯†ç‚¹]]></title><description><![CDATA[â€¦]]></description><link>https://snayan.github.io//post/2019/alorithm_outline_of_knowledge/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/alorithm_outline_of_knowledge/</guid><pubDate>Fri, 26 Apr 2019 11:50:00 GMT</pubDate><content:encoded>&lt;p&gt;æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œåœ¨ç¨‹åºå‘˜çš„çŸ¥è¯†ä½“ç³»ä¸­åº”è¯¥æ˜¯å æ®éå¸¸é‡è¦çš„ä½ç½®ï¼Œç‰¹åˆ«æ˜¯å¯¹äºåç«¯å·¥ç¨‹å¸ˆã€‚å¯¹äºä¸€ä¸ªå‰ç«¯ä»”ï¼Œç¡®å®å¾ˆå°‘ç”¨åˆ°å¤æ‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œæ›´å¤šçš„æ˜¯ä¸å‰ç«¯æ¡†æ¶ï¼Œé¡¹ç›®é…ç½®ï¼Œé¡µé¢æ€§èƒ½ï¼Œæµè§ˆå™¨å…¼å®¹ç­‰æ‰“äº¤é“ã€‚å‰ç«¯æŠ€æœ¯é£é€Ÿå‘å±•ï¼Œå‰ç«¯æ¡†æ¶å±‚å‡ºä¸ç©·ï¼Œç°åœ¨å¾ˆå¤šäººéƒ½æ„Ÿå¹â€å­¦ä¸åŠ¨äº†â€ã€‚ä¸ºä½•ä¼šæ„Ÿè§‰å­¦ä¸åŠ¨äº†å‘¢ï¼Ÿå…¶å®æ˜¯åŸºæœ¬åŠŸæ²¡æœ‰å­¦æ‰å®ï¼Œå¾ˆéš¾ç†è§£æ–°æŠ€æœ¯çš„æœ¬è´¨ã€‚ä¸å…¶å­¦ä¹ å®˜æ–¹APIæ–‡æ¡£ï¼Œä¸å¦‚å­¦ä¹ åŸºç¡€çŸ¥è¯†ï¼Œæ¯”å¦‚æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œè®¾è®¡æ¨¡å¼ç­‰ã€‚å…¶å®ï¼Œä¸ç®¡ä½•ç§ç¼–ç¨‹è¯­è¨€æˆ–åˆ™æ¡†æ¶æŠ€æœ¯ï¼Œåº•å±‚å®ç°ï¼Œä¸€å®šæ˜¯ä¼šç”¨åˆ°æŸäº›æ•°æ®ç»“æ„ï¼Œä¸€å®šä¼šç”¨åˆ°æŸäº›ç®—æ³•ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¸¸è¯´çš„event loopä¸å°±æ˜¯ç”¨åˆ°äº†é˜Ÿåˆ—ï¼Œæ ˆç­‰æ•°æ®ç»“æ„ã€‚æ‰€ä»¥ï¼Œå¯¹äºä¸€ä¸ªæœ‰è¿½æ±‚çš„å‰ç«¯ä»”ï¼Œå­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå¯¹äºæå‡è‡ªå·±ï¼Œè®­ç»ƒæŠ½è±¡æ€ç»´æ¨¡å¼ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤§ç›Šå¤„çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå®‰æ’åœ¨äº†æˆ‘ä»Šå¹´çš„å­¦ä¹ è®¡åˆ’æ¸…å•ä¸­ã€‚åœ¨å¤§å­¦æ—¶æœŸï¼Œå­¦è¿‡è¿™ä¹ˆè¯¾ç¨‹ï¼Œå½“æ—¶æ²¡æœ‰å¥½å¥½å­¦ï¼Œå¦‚ä»Šå‡†å¤‡èŠ±å¤§é‡æ—¶é—´æ¥è®¤è®¤çœŸçœŸï¼Œå¥½å¥½åœ°å­¦ä¹ å’Œæ¸©æ•…ä¸€ä¸‹ï¼Œå‡ºæ¥æ··ï¼Œè¿Ÿæ—©æ˜¯è¦è¿˜çš„ã€‚åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¼šæ–°å»ºä¸€ä¸ª&lt;a href=&quot;https://github.com/snayan/algorithm-demo&quot;&gt;é¡¹ç›®&lt;/a&gt;ï¼ŒåŠ¨æ‰‹å»å®ç°ä¸€äº›æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œä¸èƒ½å…‰çœ‹ä¸ç»ƒï¼Œåªæœ‰è‡ªå·±å®ç°ä¸€éï¼Œæ‰ä¼šçœŸæ­£æ˜ç™½å…¶ä¸­ç»†èŠ‚å’ŒåŸç†ï¼Œä¹Ÿä¼šåˆ·åˆ·&lt;a href=&quot;https://github.com/snayan/LeetCode&quot;&gt;leetcodeé¢˜ç›®&lt;/a&gt;ï¼›&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆï¼ŒæŒæ¡æ•°ç»„ï¼Œé“¾è¡¨ï¼Œæ ˆï¼Œé˜Ÿåˆ—ï¼Œæ•£åˆ—è¡¨ï¼ŒäºŒå‰æ ‘ï¼Œå †ï¼Œå›¾ï¼Œæ’åºç®—æ³•ç­‰å°±åŸºæœ¬å¤Ÿç”¨äº†ï¼Œä¸»è¦æ˜¯å­¦ä¹ ä¸€äº›æ€ç»´æ¨¡å¼ï¼Œåœ¨å®é™…åº”ç”¨ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ç«™åœ¨æ›´é«˜çš„ä½ç½®å»æ€è€ƒï¼Œå»æ‰¾å‡ºæœ€ä¼˜è§£ã€‚åœ¨å¹³å¸¸å·¥ä½œä¸­ï¼Œä¸èƒ½åªæ»¡è¶³å†™å‡ºä¸€ä¸¤ä¸ªé¡µé¢ï¼Œç”¨reactå®ç°ä¸€ä¸ªç³»ç»Ÿï¼Œè¿˜è¦å¤šæ€è€ƒåº•å±‚åŸç†æ€§ä¸œè¥¿ï¼Œå¤šæƒ³æƒ³åŸå› ã€‚è¿™æ ·ï¼Œæ—¢èƒ½æ‰¾åˆ°ä¹è¶£ï¼Œä¹Ÿèƒ½æ›´å¥½çš„å®ŒæˆåŠŸèƒ½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºç¡€æ•°æ®ç»“æ„ï¼šâœ…æ•°ç»„ï¼Œâœ…é“¾è¡¨ï¼Œâœ…æ ˆï¼Œâœ…é˜Ÿåˆ—ï¼Œâœ…æ•£åˆ—è¡¨ï¼›&lt;/li&gt;
&lt;li&gt;è·³è¡¨çš„åŸç†ä»¥åŠå®ç°ï¼›&lt;/li&gt;
&lt;li&gt;æ ‘ï¼šâœ…äºŒå‰æ ‘ï¼Œâœ…äºŒå‰æœç´¢æ ‘ï¼Œå¹³è¡¡äºŒå‰æœç´¢æ ‘(AVL)ï¼Œçº¢é»‘æ ‘ï¼›&lt;/li&gt;
&lt;li&gt;æ ‘çš„éå†ï¼šâœ…ä¸­åºï¼Œâœ…å…ˆåºï¼Œâœ…ååºï¼›æ ‘çš„æœç´¢ï¼›&lt;/li&gt;
&lt;li&gt;å †ï¼šâœ…å°é¡¶å †ï¼Œâœ…å¤§é¡¶å †ï¼›å †çš„åº”ç”¨ï¼šâœ…ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œæ±‚Top Né—®é¢˜ï¼›&lt;/li&gt;
&lt;li&gt;å›¾ï¼šâœ…é‚»æ¥çŸ©é˜µæ³•ï¼Œâœ…é‚»æ¥è¡¨æ³•ï¼›&lt;/li&gt;
&lt;li&gt;å›¾çš„éå†ï¼šâœ…æ·±åº¦ä¼˜å…ˆ(DFS)ï¼Œâœ…å¹¿åº¦ä¼˜å…ˆ(BFS)ï¼›&lt;/li&gt;
&lt;li&gt;æœ€çŸ­è·¯å¾„ï¼ŒDijkstraï¼›&lt;/li&gt;
&lt;li&gt;æ’åºç®—æ³•ï¼šâœ…å†’æ³¡æ’åºï¼Œâœ…æ’å…¥æ’åºï¼Œâœ…é€‰æ‹©æ’åºï¼Œâœ…å¿«é€Ÿæ’åºï¼Œâœ…å½’å¹¶æ’åºï¼Œâœ…å †æ’åºï¼Œæ¡¶æ’åºï¼Œè®¡æ•°æ’åºï¼ŒåŸºæ•°æ’åºï¼›&lt;/li&gt;
&lt;li&gt;ç®—æ³•æ€æƒ³ï¼šâœ…è´ªå¿ƒï¼Œâœ…å›æº¯ï¼Œâœ…åˆ†æ²»ï¼ŒåŠ¨æ€è§„åˆ’&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å­¦ä¹ èµ„æ–™å‡†å¤‡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://time.geekbang.org/column/intro/126&quot;&gt;æå®¢æ—¶é—´ï¼Œã€æ•°æ®ç»“æ„å’Œç®—æ³•ä¹‹ç¾ã€‘ä¸“æ &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://book.douban.com/subject/27129352/&quot;&gt;å­¦ä¹ JavaScriptæ•°æ®ç»“æ„ä¸ç®—æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://book.douban.com/subject/26979890/&quot;&gt;ç®—æ³•å›¾è§£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ituring.com.cn/book/2538&quot;&gt;æ•°æ®ç»“æ„ç®—æ³•å›¾è§£&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[æ€§èƒ½ä¼˜åŒ–ç¯‡-åœ°å›¾é¡µé¢]]></title><description><![CDATA[æœ€è¿‘è€æ¿æ¥äº†ä¸€ä¸ªæ–°éœ€æ±‚ï¼Œåœ°ç†ä½ç½®ç»„å›¢ã€‚å…¶ä¸­ä¸€ä¸ªåŠŸèƒ½ç‚¹ï¼Œå°±æ˜¯ç”¨æˆ·å¯ä»¥è¿›å…¥åœ°å›¾é¡µé¢ï¼ŒæŸ¥çœ‹å½“å‰è‡ªèº«ä½ç½®ï¼Œä¸”æ‰«æåœˆå†…å’Œåœˆå¤–å…¶ä»–ç©å®¶ï¼Œå°†ç©å®¶å¤´åƒæ˜¾ç¤ºåœ¨åœ°å›¾é¡µé¢ä¸Šï¼Œæ ‡æ˜ç©å®¶åœ¨å“ªä¸ªä½ç½®ã€‚è€æ¿è¯´ï¼Œåœ¨åœ°å›¾ä¸Šè¦å¯ä»¥åŒæ—¶æ˜¾ç¤º 200 ä¸ªç©å®¶å¤´åƒï¼Œä¸”ä¿è¯é¡µé¢æµç•…ï¼›Androidâ€¦]]></description><link>https://snayan.github.io//post/2019/optimize_map_page/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/optimize_map_page/</guid><pubDate>Sat, 13 Apr 2019 16:17:00 GMT</pubDate><content:encoded>
        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          èƒŒæ™¯
        &lt;/h2&gt;
      
&lt;p&gt;æœ€è¿‘è€æ¿æ¥äº†ä¸€ä¸ªæ–°éœ€æ±‚ï¼Œåœ°ç†ä½ç½®ç»„å›¢ã€‚å…¶ä¸­ä¸€ä¸ªåŠŸèƒ½ç‚¹ï¼Œå°±æ˜¯ç”¨æˆ·å¯ä»¥è¿›å…¥åœ°å›¾é¡µé¢ï¼ŒæŸ¥çœ‹å½“å‰è‡ªèº«ä½ç½®ï¼Œä¸”æ‰«æåœˆå†…å’Œåœˆå¤–å…¶ä»–ç©å®¶ï¼Œå°†ç©å®¶å¤´åƒæ˜¾ç¤ºåœ¨åœ°å›¾é¡µé¢ä¸Šï¼Œæ ‡æ˜ç©å®¶åœ¨å“ªä¸ªä½ç½®ã€‚è€æ¿è¯´ï¼Œåœ¨åœ°å›¾ä¸Šè¦å¯ä»¥åŒæ—¶æ˜¾ç¤º 200 ä¸ªç©å®¶å¤´åƒï¼Œä¸”ä¿è¯é¡µé¢æµç•…ï¼›Android6 çš„æ‰‹æœºä¸Šï¼Œåœ¨æ‹–æ‹½ï¼Œç¼©å°æ”¾å¤§æ—¶ï¼Œä¸èƒ½å‡ºç°æ˜æ˜¾çš„å¡é¡¿ï¼Œå¿…é¡»ä¿è¯ç”¨æˆ·ä½“éªŒã€‚åœ¨æ‹–æ‹½ï¼Œç¼©å°æˆ–è€…æ”¾å¤§ç­‰æ”¹å˜åœ°å›¾å¯è§†èŒƒå›´æ—¶ï¼Œæˆ–åˆ™åœç•™æ—¶é—´è¶…è¿‡ 60sï¼Œéœ€è¦æ›´æ–°å½“å‰åœ°å›¾ä¸Šçš„ç”¨æˆ·å¤´åƒã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          æ€è·¯
        &lt;/h2&gt;
      
&lt;p&gt;éœ€æ±‚å…¶å®ä¸å¤æ‚ï¼Œä½†æ˜¯è¦åšåˆ°è€æ¿çš„è¦æ±‚ï¼Œå°±æ²¡é‚£ä¹ˆç®€å•äº†ã€‚android 6 çš„æœºå‹ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯å‡ å¹´å‰çš„åƒå…ƒæœºäº†ã€‚è¿™ç§æœºå‹çš„ç¡¬ä»¶æœ¬æ¥å°±å¾ˆå·®ï¼Œä¸ç”¨æƒ³ï¼Œåœ¨åœ°å›¾ä¸Šä¸€æ¬¡æ€§ç»˜åˆ¶ 200 ä¸ªå¤´åƒï¼Œè‚¯å®šä¼šå¾ˆå¡ã€‚å¹¶ä¸”æ‹–æ‹½åœ°å›¾ä¹‹åï¼Œåˆæ¸…ç©ºä¹‹å‰å·²ç»ç»˜åˆ¶çš„ 200 ä¸ªå¤´åƒï¼Œé‡æ–°ç»˜åˆ¶æ–°çš„ 200 ä¸ªï¼Œè¿™ä¸ªè‚¯å®šä¼šä½¿é¡µé¢å‡ºç°æ˜æ˜¾çš„å¡é¡¿ã€‚è¦è¾¾åˆ°è€æ¿çš„è¦æ±‚ï¼Œå¿…é¡»ä»”ç»†çš„æ€è€ƒä¸€ä¸‹è¯¥æ€ä¹ˆåšäº†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          åˆ†æ‰¹ç»˜åˆ¶
        &lt;/h3&gt;
      
&lt;p&gt;&lt;a href=&quot;http://www.stevesouders.com/blog/2008/03/20/roundup-on-parallel-connections/&quot;&gt;æµè§ˆå™¨å¯¹åŒä¸€ä¸ªåŸŸåçš„å¹¶å‘è¯·æ±‚æ•°é‡æ˜¯æœ‰ä¸Šé™çš„&lt;/a&gt;ï¼Œä¸€èˆ¬ä¸ä¼šè¶…è¿‡ 8 ä¸ªï¼Œå°±ç®—ä¸€æ¬¡å‘é€ 200 ä¸ªå›¾ç‰‡è¯·æ±‚ï¼Œä¹Ÿæ˜¯åˆ†æ‰¹è¿”å›çš„ã€‚ç»“åˆè¿™ä¸€ç‚¹ï¼Œæˆ‘ä¹Ÿå¯ä»¥åˆ†æ‰¹ç»˜åˆ¶ï¼Œ200 ä¸ªå¤´åƒï¼Œæˆ‘å¯ä»¥åˆ†æˆ 40 æ¬¡ç»˜åˆ¶ï¼Œæ¯æ¬¡åªç»˜åˆ¶ 5 ä¸ªï¼Œä¸Šä¸€æ¬¡çš„ 5 ä¸ªç»˜åˆ¶å®Œæˆäº†ï¼Œæ‰å¼€å§‹ç»˜åˆ¶ä¸‹ä¸€æ‰¹çš„ 5 ä¸ªã€‚å¸¦ç€è¿™ç§æƒ³æ³•ï¼Œå°±å»æ‰¾ PM å•†é‡ï¼Œè·Ÿä»–è¯´æ˜æµè§ˆå™¨è¯·æ±‚é™åˆ¶å’Œæ€§èƒ½ä¸Šçš„è€ƒè™‘ï¼Œèƒ½ä¸èƒ½ä¸è¦ä¸€æ¬¡æ€§å…¨éƒ¨æ˜¾ç¤ºï¼Œå¯ä»¥æ…¢æ…¢æ˜¾ç¤ºå‡ºæ¥ã€‚PM æ¥å—äº†è¿™ç§æ–¹å¼ï¼Œä½†æ˜¯è¦ä¼˜å…ˆæ˜¾ç¤ºåœˆå†…çš„å¤´åƒã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è¾¾åˆ°å¯ä»¥åˆ†æ‰¹ç»˜åˆ¶ï¼Œä¸”åœˆå†…çš„è¦ä¼˜å…ˆç»˜åˆ¶ï¼Œå®¹æ˜“å°±æƒ³åˆ°äº†ï¼Œ&lt;a href=&quot;https://en.wikipedia.org/wiki/Priority_queue&quot;&gt;&lt;strong&gt;ä¼˜å…ˆçº§é˜Ÿåˆ—&lt;/strong&gt;&lt;/a&gt;ï¼Œä¼˜å…ˆçº§é«˜çš„å…ˆå‡ºé˜Ÿåˆ—ã€‚è¿™é‡Œï¼Œåœˆå†…å¤´åƒå°±æ¯”åœˆå¤–çš„ä¼˜å…ˆçº§é«˜ã€‚æ¯ä¸€æ¬¡ä»é˜Ÿåˆ—é‡Œå–å‡º 5 ä¸ªå¤´åƒæ¥ç»˜åˆ¶ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºã€‚å¦‚æœåŒæ­¥çš„å¾ªç¯è°ƒç”¨æ¯ä¸€æ‰¹ç»˜åˆ¶ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£ä¹ˆè‚¯å®šä¼šä½¿å¾—å½“å‰å¸§æ‰§è¡Œæ—¶é—´è¶…è¿‡ 16msï¼Œä¸”ä¼šè¶…è¿‡å¾ˆé•¿æ—¶é—´ï¼Œæµè§ˆå™¨ä¸€ç›´ä¼šè¢«é˜»å¡ï¼Œä½¿å¾—å…¶ä»–ç”¨æˆ·äº‹ä»¶éƒ½ä¸å¾—åˆ°å“åº”ï¼Œè¡¨ç°å‡ºæ¥å°±æ˜¯é¡µé¢å¡æ­»äº†ï¼Œè¿™æ ·è‚¯å®šä¸è¡Œçš„ã€‚åˆ©ç”¨&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop&quot;&gt;javascript çš„ event loop&lt;/a&gt;ï¼Œå¯ä»¥å°†æ¯æ¬¡ç»˜åˆ¶ 5 ä¸ªå¤´åƒï¼Œè¿™æ ·ä¸€ä¸ªåŠŸèƒ½åŒ…è£…åœ¨ä¸€ä¸ªä»»åŠ¡é‡Œï¼Œå°† 200 ä¸ªå¤´åƒå°±å¯ä»¥åˆ†æˆ 40 ä¸ªè¿™æ ·çš„ä»»åŠ¡ï¼Œç„¶åå°†æ¯ä¸ªä»»åŠ¡åˆ†åˆ«åŠ å…¥åˆ° javascript çš„æ‰§è¡Œé˜Ÿåˆ—é‡Œã€‚è¿™æ ·ï¼Œå¯ä»¥å¼‚æ­¥çš„æ–¹å¼ï¼Œå°†å¤´åƒåˆ†æ‰¹ç»˜åˆ¶å‡ºæ¥ï¼Œé¡µé¢ä¹Ÿä¸ä¼šå‡ºç°å¡æ­»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b438555ca1ecc8afc91a8e4c508a3dcd/2a28c/per_draw.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 44.96402877697842%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB7Fs9oJnP/8QAFxABAAMAAAAAAAAAAAAAAAAAARASIP/aAAgBAQABBQJixj//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFX/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAARAg/9oACAEBAAY/AoC//8QAGxAAAgIDAQAAAAAAAAAAAAAAAAEh4RARMUH/2gAIAQEAAT8habNpJE/S8PWf/9oADAMBAAIAAwAAABAnH//EABcRAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8QT0o//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAgEBPxBPIQ//xAAdEAEAAgICAwAAAAAAAAAAAAABACERMUGBobHw/9oACAEBAAE/ELGGsQEV2VE0Nxw1HXXtDX3iPkZ//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b438555ca1ecc8afc91a8e4c508a3dcd/cc182/per_draw.webp 148w,
/static/b438555ca1ecc8afc91a8e4c508a3dcd/f7e40/per_draw.webp 295w,
/static/b438555ca1ecc8afc91a8e4c508a3dcd/1a2f4/per_draw.webp 590w,
/static/b438555ca1ecc8afc91a8e4c508a3dcd/4837b/per_draw.webp 885w,
/static/b438555ca1ecc8afc91a8e4c508a3dcd/b1e62/per_draw.webp 1112w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b438555ca1ecc8afc91a8e4c508a3dcd/8ee9c/per_draw.jpg 148w,
/static/b438555ca1ecc8afc91a8e4c508a3dcd/ebbe7/per_draw.jpg 295w,
/static/b438555ca1ecc8afc91a8e4c508a3dcd/c739e/per_draw.jpg 590w,
/static/b438555ca1ecc8afc91a8e4c508a3dcd/5413e/per_draw.jpg 885w,
/static/b438555ca1ecc8afc91a8e4c508a3dcd/2a28c/per_draw.jpg 1112w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/b438555ca1ecc8afc91a8e4c508a3dcd/c739e/per_draw.jpg&quot;
          alt=&quot;per_draw&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ä¼ªä»£ç ï¼Œ&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å°†ä¸€æ¬¡ç»˜åˆ¶5ä¸ªå¤´åƒåŒ…è£…æˆä¸€ä¸ªä»»åŠ¡ï¼Œæ”¾åˆ°event loop é‡Œ&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PER_COUNT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;paintMarker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ä¼˜å…ˆè·å–åœˆå†…æ•°æ®&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; userData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getUserData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;userData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;nearbyMarker&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// åœˆå†…ç»˜åˆ¶å®Œäº†ï¼Œç»§ç»­ç»˜åˆ¶åœˆå¤–çš„&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;engine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pushDraw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;paintMarker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;externalMarker&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ä¸€æ¬¡ç»˜åˆ¶5ä¸ª&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; notAvailable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;start &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PER_COUNT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; userData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; userData&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;start&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ä»å®ä¾‹æ± å–å‡ºä¸€ä¸ª&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; marker &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pools&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;take&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;marker&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      notAvailable &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹ç»˜åˆ¶å¤´åƒ&lt;/span&gt;
    marker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    start &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// å°†ä¸‹ä¸€æ¬¡ç»˜åˆ¶ä»»åŠ¡åŠ å…¥åˆ°event loopé‡Œ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;notAvailable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;engine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pushDraw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;paintMarker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          é‡å¤åˆ©ç”¨
        &lt;/h3&gt;
      
&lt;p&gt;å¯¹äºåœ°å›¾é¡µé¢ï¼Œç»˜åˆ¶çš„ä¸Šé™æ˜¯ 200 ä¸ªå¤´åƒã€‚æ¯æ¬¡æ”¹å˜äº†åœ°å›¾çš„èŒƒå›´ï¼Œæ¯”å¦‚ç§»åŠ¨ï¼Œç¼©å°ï¼Œæ”¾å¤§åœ°å›¾ç­‰æ“ä½œï¼Œéœ€è¦é‡æ–°è¯·æ±‚æ¥å£æ•°æ®ï¼Œè·å¾—å½“å‰æ–°çš„åœ°å›¾å¯è§†èŒƒå›´å†…çš„ç©å®¶å¤´åƒæ•°æ®ï¼Œç„¶åå°†æ–°çš„ç©å®¶å¤´åƒç»˜åˆ¶å‡ºæ¥ã€‚ç”±äº google map åœ¨ç»˜åˆ¶è‡ªå®šä¹‰å›¾å½¢æ—¶ï¼Œéœ€è¦ç”Ÿæˆä¸€ä¸ª google map çš„ OverlayView å¯¹è±¡ï¼Œå®ç°å®ƒçš„ onAdd å’Œ onDraw æ–¹æ³•ã€‚å¦‚æœï¼Œæˆ‘ä»¬æ¯æ¬¡ç»˜åˆ¶æ–°çš„å¤´åƒéƒ½æ–°å»ºä¸€ä¸ª OverlayView å¯¹è±¡ï¼ŒåŠ¿å¿…ä¼šå¢åŠ æµè§ˆå™¨çš„å†…å­˜ä½¿ç”¨ï¼Œä¸”æ–°å»º OverlayView å¯¹è±¡ä¹Ÿæ˜¯éœ€è¦èŠ±è´¹ä¸€å®šæ—¶é—´çš„ã€‚ä¸ºäº†é«˜æ•ˆç»˜åˆ¶ï¼Œä¸”èŠ±è´¹å°½é‡å°‘çš„å†…å­˜ï¼Œå¯ä»¥äº‹å…ˆåˆ›å»ºä¸€ä¸ªå®¹é‡ä¸º 200 çš„ OverlayView å¯¹è±¡æ± ï¼Œåœ¨æ¯æ¬¡æ”¹å˜åœ°å›¾èŒƒå›´æ“ä½œä¹‹åï¼Œå¯ä»¥å…ˆå›æ”¶é‚£äº›ä¸åœ¨å¯è§†èŒƒå›´å†…çš„ OverlayView å¯¹è±¡ï¼Œæ”¾å…¥æ± ä¸­ï¼›ç„¶ååœ¨ç»˜åˆ¶æ–°çš„å¤´åƒæ—¶ï¼Œç›´æ¥ä»æ± ä¸­å–ä¸€ä¸ª OverlayView å¯¹è±¡ä½¿ç”¨å°±å¯ä»¥äº†ï¼Œè¿™æ ·ï¼Œå³å‡å°‘äº†å†…å­˜çš„ä½¿ç”¨ï¼Œä¹Ÿå‡å»äº†æ¯æ¬¡æ–°å»º OverlayView å¯¹è±¡èŠ±è´¹çš„æ—¶é—´ã€‚å½“æ± ä¸­æ²¡æœ‰å¯ç”¨ OverlayView å¯¹è±¡æ—¶ï¼Œè¯´æ˜å½“å‰é¡µé¢å·²ç»ç»˜åˆ¶äº† 200 ä¸ªå¤´åƒï¼Œè¾¾åˆ°äº†ä¸Šé™ï¼Œä¸éœ€è¦åœ¨ç»˜åˆ¶å…¶ä»–å¤´åƒäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e58ffab9c300745d46ddfa41d3d92337/c7123/detail_draw.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 124.4186046511628%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHuiLSrJqUtRf/EABsQAAICAwEAAAAAAAAAAAAAAAABAjEQETIh/9oACAEBAAEFAmRxsVIa8VKpcw5P/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGRAAAwADAAAAAAAAAAAAAAAAAAEQESAh/9oACAEBAAY/AjGrnR3/xAAcEAEBAQEAAgMAAAAAAAAAAAABEQAhEDFxgaH/2gAIAQEAAT8hZJeuXOinhXQH5ye33lSyYqTFmM+sE6V35N6/H//aAAwDAQACAAMAAAAQnMXw/8QAFhEBAQEAAAAAAAAAAAAAAAAAEBEh/9oACAEDAQE/EC7D/8QAFxEBAQEBAAAAAAAAAAAAAAAAEQEQIf/aAAgBAgEBPxDi5JBz/8QAHBABAQEBAAIDAAAAAAAAAAAAAREhABAxQVGh/9oACAEBAAE/EDVBiXgKoWzwyDQyM6ACxZJeQ039PYQqbS3vjUMDHFAA9od+p5n/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/e58ffab9c300745d46ddfa41d3d92337/cc182/detail_draw.webp 148w,
/static/e58ffab9c300745d46ddfa41d3d92337/f7e40/detail_draw.webp 295w,
/static/e58ffab9c300745d46ddfa41d3d92337/1a2f4/detail_draw.webp 590w,
/static/e58ffab9c300745d46ddfa41d3d92337/4837b/detail_draw.webp 885w,
/static/e58ffab9c300745d46ddfa41d3d92337/2f819/detail_draw.webp 1180w,
/static/e58ffab9c300745d46ddfa41d3d92337/6f615/detail_draw.webp 1204w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/e58ffab9c300745d46ddfa41d3d92337/8ee9c/detail_draw.jpg 148w,
/static/e58ffab9c300745d46ddfa41d3d92337/ebbe7/detail_draw.jpg 295w,
/static/e58ffab9c300745d46ddfa41d3d92337/c739e/detail_draw.jpg 590w,
/static/e58ffab9c300745d46ddfa41d3d92337/5413e/detail_draw.jpg 885w,
/static/e58ffab9c300745d46ddfa41d3d92337/4efde/detail_draw.jpg 1180w,
/static/e58ffab9c300745d46ddfa41d3d92337/c7123/detail_draw.jpg 1204w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/e58ffab9c300745d46ddfa41d3d92337/c739e/detail_draw.jpg&quot;
          alt=&quot;detail_draw&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ä¼ªä»£ç &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// åˆå§‹åŒ–pools&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;MAX_COUNT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// åˆå§‹markerå®ä¾‹æ± &lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pools &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MarkerPool&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MAX_COUNT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ç›‘å¬idleäº‹ä»¶&lt;/span&gt;
  google&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;maps&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;map&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;idle&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isIdle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å›æ”¶å¯è§†åŒºåŸŸå¤–çš„marker&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reclaimMarker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®šæ—¶åˆ·æ–°æ•°æ®&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;initRefreshTimer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è¯·æ±‚ç”¨æˆ·æ•°æ®&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetchUserData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;nearbyMarker&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; users&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          idle æ—¶æœºæ‰§è¡Œ
        &lt;/h3&gt;
      
&lt;p&gt;ä¸ºäº†ä¿è¯åœ¨æ“ä½œåœ°å›¾çš„æ—¶å€™æœ‰æœ€å¥½çš„æµç•…åº¦ï¼Œæ¯”å›¾æ‹–æ‹½ï¼Œç¼©å°ï¼Œæ”¾å¤§ç­‰ï¼Œæˆ‘ä»¬ä¸åšä»»ä½•äº‹æƒ…ï¼Œå³ä¸ç»˜åˆ¶å¤´åƒï¼Œä¹Ÿä¸è¯·æ±‚æ•°æ®ï¼Œå°±ä»…ä»…è®© google map è‡ªå·±æ”¹å˜åœ°å›¾ã€‚å½“ google map çŠ¶æ€æ˜¯ idle æ—¶ï¼Œæˆ‘ä»¬å†å»åšç»˜åˆ¶å¤´åƒæˆ–è€…æ›´æ–°æ•°æ®ç­‰ã€‚google map æä¾›äº† idle äº‹ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦ç›‘å¬è¿™ä¸ªäº‹ä»¶å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c0a013342c6a0c005ea773bfda91ae29/31693/idle.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 91.64420485175204%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHu57TxQJSCVgf/xAAZEAADAAMAAAAAAAAAAAAAAAAAEBEhQkP/2gAIAQEAAQUCpuuimT//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAVEQEBAAAAAAAAAAAAAAAAAAAQAf/aAAgBAgEBPwEh/8QAGRAAAQUAAAAAAAAAAAAAAAAAMQABECDh/9oACAEBAAY/Agg87X//xAAbEAEAAQUBAAAAAAAAAAAAAAAREAABITFRgf/aAAgBAQABPyFI683WTaYzLLH/2gAMAwEAAgADAAAAED/IPP/EABYRAQEBAAAAAAAAAAAAAAAAABABcf/aAAgBAwEBPxDSn//EABURAQEAAAAAAAAAAAAAAAAAADEg/9oACAECAQE/EEh//8QAHRAAAgEEAwAAAAAAAAAAAAAAARExABAhkUFRgf/aAAgBAQABPxAzwO3SKjOD4tXSAy3DVz6kLM2//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c0a013342c6a0c005ea773bfda91ae29/cc182/idle.webp 148w,
/static/c0a013342c6a0c005ea773bfda91ae29/f7e40/idle.webp 295w,
/static/c0a013342c6a0c005ea773bfda91ae29/1a2f4/idle.webp 590w,
/static/c0a013342c6a0c005ea773bfda91ae29/bd4c8/idle.webp 742w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c0a013342c6a0c005ea773bfda91ae29/8ee9c/idle.jpg 148w,
/static/c0a013342c6a0c005ea773bfda91ae29/ebbe7/idle.jpg 295w,
/static/c0a013342c6a0c005ea773bfda91ae29/c739e/idle.jpg 590w,
/static/c0a013342c6a0c005ea773bfda91ae29/31693/idle.jpg 742w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/c0a013342c6a0c005ea773bfda91ae29/c739e/idle.jpg&quot;
          alt=&quot;idle&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ›´æ–°æ•°æ®ï¼Œå°±æ˜¯æŠŠæ¥å£è¯·æ±‚æ¥çš„æ•°æ®ï¼Œå…ˆåšä¸€äº›æ¸…æ´—å·¥ä½œï¼Œç„¶åæŠŠåˆæ ¼çš„æ•°æ®æ›´æ–°åˆ°å¾…ç»˜åˆ¶å¤´åƒé˜Ÿåˆ—é‡Œï¼›å¯ä»¥æŠŠå®ƒçš„ä¼˜å…ˆçº§é™åˆ°æœ€ä½ï¼Œåªæœ‰å½“å‰ç»˜åˆ¶å¤´åƒé˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæ‰å»æ‰§è¡Œæ›´æ–°æ•°æ®ä»»åŠ¡ã€‚å®ƒçš„æ‰§è¡Œæ—¶é—´åŸºæœ¬æ˜¯å›ºå®šå¯é¢„ä¼°çš„ï¼Œä¸ä¼šç‰¹åˆ«å»¶è¯¯åˆ°å½“å‰å¸§çš„ç»˜åˆ¶ï¼Œå¯ä»¥æŠŠå®ƒæ”¾åœ¨&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback&quot;&gt;requestIdleCallback&lt;/a&gt;é˜Ÿåˆ—é‡Œå»ï¼Œé€šè¿‡å¢åŠ ä¸€ä¸ªè¶…æ—¶æ‰§è¡Œæ—¶é—´å†…ï¼Œåªæœ‰å½“æµè§ˆå™¨æ˜¯ idle æ—¶æˆ–è€…è¶…è¿‡äº†æŸä¸€ä¸ªæ—¶é—´ï¼Œæ‰ä¼šå»æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/751b3/detail_update.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 145.89743589743588%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB74qcLZqjYcmq0//EABoQAAIDAQEAAAAAAAAAAAAAAAABEBESQiH/2gAIAQEAAQUCOxq4So0r7j3R/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8BIk//xAAaEAACAgMAAAAAAAAAAAAAAAAQMQABAhIh/9oACAEBAAY/AorOvS8ix//EAB8QAAEDAwUAAAAAAAAAAAAAABEAAVEQIUExcYGRwf/aAAgBAQABPyFF4u9qAAvwi3oggXWgv0g0yMVOIIFP/9oADAMBAAIAAwAAABDH0/z/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QHIGz/8QAFxEBAQEBAAAAAAAAAAAAAAAAARARMf/aAAgBAgEBPxB1FdT/xAAfEAEBAAEEAgMAAAAAAAAAAAABEQAQITFhUXGRscH/2gAIAQEAAT8QWFcZDgW/hgiCcOFcHamTfP2+8CJPbcER3HafOXLvC7nUnfInTfen/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/cc182/detail_update.webp 148w,
/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/f7e40/detail_update.webp 295w,
/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/1a2f4/detail_update.webp 590w,
/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/23104/detail_update.webp 780w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/8ee9c/detail_update.jpg 148w,
/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/ebbe7/detail_update.jpg 295w,
/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/c739e/detail_update.jpg 590w,
/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/751b3/detail_update.jpg 780w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ad25cc38f9c9b946ffd2dd5ecb2f030f/c739e/detail_update.jpg&quot;
          alt=&quot;detail_update&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ä¼ªä»£ç &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å°†æ›´æ–°æ•°æ®æ“ä½œæ”¾å…¥åˆ°requestIdleCallback&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchUserData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; userData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fromStart &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// åŠ å…¥åˆ°å¾…ç»˜åˆ¶æ•°ç»„ä¸­&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;users&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;patchUserData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;users&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; nextType
  &lt;span class=&quot;token comment&quot;&gt;// ... //&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetchUserDataApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;myLocation&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mapBounds&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    fromStart&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    nextType
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;engine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pushRequest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetchUserData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextType&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          ä¼˜åŒ–
        &lt;/h2&gt;
      
&lt;p&gt;æµè§ˆå™¨çš„ç†æƒ³å¸§ç‡æ˜¯ 60fpsï¼Œå¦‚æœä¸€ç›´ç¨³å®šåœ¨ 60fps å·¦å³ï¼Œé‚£ä¹ˆå°†æ˜¯éå¸¸æµç•…çš„ã€‚å¯¹äº Android 6 è¿™æ ·çš„æœºå‹ï¼Œè‚¯å®šæ˜¯è¾¾ä¸åˆ° 60fps çš„ï¼Œåªèƒ½å°½å¯èƒ½æé«˜å®ƒçš„å¸§ç‡ï¼Œè®©å®ƒèƒ½ç¨³å®šåœ¨ 30fps å·¦å³ï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥è¾¾åˆ°è¦æ±‚äº†ã€‚å¯¹äºä¸€äº›ç»†èŠ‚çš„ä¼˜åŒ–ï¼Œç‰¹åˆ«æ˜¯è¦é¿å… layout reflow çš„æƒ…å†µï¼ŒåŒæ ·ä¸¥é‡å½±å“é¡µé¢æµç•…åº¦ã€‚ä¸‹é¢çš„ performance åˆ†æï¼Œæˆ‘éƒ½æ˜¯å°† CPU é™ä½ 6 å€ï¼Œä¸”ç»˜åˆ¶äº† 200 ä¸ªå¤´åƒï¼Œæ‹–åŠ¨åœ°å›¾é¡µé¢å¾—åˆ°çš„ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          é¿å…è®¾ç½® zIndex
        &lt;/h3&gt;
      
&lt;p&gt;åˆšå¼€å§‹ï¼Œç»™æ¯ä¸ª OverlayView éƒ½è®¾ç½®äº†&lt;code class=&quot;language-text&quot;&gt;zIndex = &amp;#39;50&amp;#39;&lt;/code&gt;ï¼Œå½“å‰ç”¨æˆ·çš„ OverlayView è®¾ç½®äº†&lt;code class=&quot;language-text&quot;&gt;zIndex = &amp;#39;80&amp;#39;&lt;/code&gt;ï¼Œè¿™æ ·å½“å‰ç”¨æˆ·æ€»æ˜¯æ˜¾ç¤ºåœ¨æœ€ä¸Šå±‚ã€‚è¿™æ ·æ›´æ”¹å¤´åƒæ ·å¼èƒ½è¾¾åˆ°è®¾è®¡ç¨¿çš„è§†è§‰æ•ˆæœï¼Œä½†æ˜¯è¿™å°†é€ æˆé¡µé¢éå¸¸å¡é¡¿ï¼Œå…·ä½“æˆ‘ä»¬é€šè¿‡ chrome performance è°ƒè¯•å¾—åˆ°ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/caedc5a5861a39089cee2a4aa3c68cee/b44bf/1.1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.51215559157212%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACR0lEQVQoz52SS2/aUBBG/f+33aZSpUqR2kUX3bSKkqoNIbEJGEOCMQYb29i8wQ/AGENyOkmzybZXOtKnuZ9m7twZxXGGuK5LEATMZjMWiyVZlv0jToSYTZKQrFaMRyG+eBfTqcRikiQVkncofk/HcfvYvS6dToter8PANrGsDk7tmp6hYrc0+sYtnqli6XfYEusLgXiiaEw4GhGGIZ7noTx0Khhmjfu2imrcoYmxJlSbKvfqb7S7K2raL1TtkpvGBdqLVq9QJa43KrSsNkbXoGk2JY+B0ugOUB9swaLWkZdKleHIwwt9QbQvX/KGNw4ZBqI9l6Hn4Ih2fPeVgWANeijao0XVdGg4IffDCctc/u50IC73zDcZaRmzO2VsTzvypz2bpwOZsOXEushJjyXb54KCHctkKS0P2/TCHmr3knV4S+RUceufcBuf8fRzHvUAO5wRzFx09440uiYbV5jZ35mY35haXxh3NFrmFH14j5LmB5L8yESmG5gDabGGVv9Ae3BO3/8qRTxSmWw2nTBfr+nX63hdnXrzDP3hjI79kTCqss4g2+9RihPshc0WllMI84KbfkS9bWJqKrtwSL4rpW3Y5jDyIZo9Y4wWVKyQmh/jrjKKIxQlKJFUH/sBnuxgNIkIG1Wii58Efyr4ZkC83ROnG2LZuRfWspurVcJ8smYSrBj118xEJ2n2eq8EgwETmdrWrLO9/UFhGxzzDVKM41NJeSiEA2X5nqMM43gqOYnnRb96BCWdT0nHI/C7kuElzdt5fuZ/zl+BjiZcSs9QugAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/caedc5a5861a39089cee2a4aa3c68cee/cc182/1.1.webp 148w,
/static/caedc5a5861a39089cee2a4aa3c68cee/f7e40/1.1.webp 295w,
/static/caedc5a5861a39089cee2a4aa3c68cee/1a2f4/1.1.webp 590w,
/static/caedc5a5861a39089cee2a4aa3c68cee/4837b/1.1.webp 885w,
/static/caedc5a5861a39089cee2a4aa3c68cee/2f819/1.1.webp 1180w,
/static/caedc5a5861a39089cee2a4aa3c68cee/3bd3f/1.1.webp 2468w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/caedc5a5861a39089cee2a4aa3c68cee/cf440/1.1.png 148w,
/static/caedc5a5861a39089cee2a4aa3c68cee/d2d38/1.1.png 295w,
/static/caedc5a5861a39089cee2a4aa3c68cee/b9e4f/1.1.png 590w,
/static/caedc5a5861a39089cee2a4aa3c68cee/f9b6a/1.1.png 885w,
/static/caedc5a5861a39089cee2a4aa3c68cee/2d849/1.1.png 1180w,
/static/caedc5a5861a39089cee2a4aa3c68cee/b44bf/1.1.png 2468w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/caedc5a5861a39089cee2a4aa3c68cee/b9e4f/1.1.png&quot;
          alt=&quot;image-20190414171827226&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é¡µé¢çš„å¸§ç‡å¹³å‡æ˜¯ 8fpsï¼Œä¹Ÿå°±æ˜¯ç»˜åˆ¶ä¸€å¸§éœ€è¦èŠ±è´¹å¹³å‡ 122ms å·¦å³ã€‚å…ˆä¸çœ‹å…¶ä»–å½±å“å¸§ç‡çš„åœ°æ–¹ï¼Œå°±çœ‹çœ‹ Composite Layers æ­¥éª¤ï¼Œå®ƒå°±èŠ±è´¹äº† 17.56msã€‚ç†æƒ³ 60fps çš„æƒ…å†µä¸‹ï¼Œä¸€å¸§çš„ç»˜åˆ¶æ€»å…±æ‰èŠ±è´¹ 16.67ms å·¦å³ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬çš„ Composite Layers æ­¥éª¤ä¸¥é‡å½±å“æ€§èƒ½ã€‚Composite Layers æ˜¯æµè§ˆå™¨ä¸€å¸§ç»˜åˆ¶å·¥ä½œä¸­çš„æœ€åä¸€ä¸ªæ­¥éª¤ï¼Œåˆæˆå±‚ã€‚æ¯å½“è®¾ç½®æ–°çš„ zIndex å€¼ï¼Œéƒ½å°†ä¼šåˆ›å»ºæ–°çš„ layerï¼ŒåŒä¸€ä¸ª zIndex çš„å€¼çš„å…ƒç´ ï¼Œæœ€åä¼šè¢«ç»˜åˆ¶åœ¨åŒä¸€ä¸ª layer ä¸­ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/Adding_z-index&quot;&gt;ä½¿ç”¨ zIndex&lt;/a&gt;ã€‚å»æ‰ zIndexï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a0ffe763d768a65a97bff83d46197f9e/8559b/1.2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.526315789473685%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACIElEQVQoz6WSW2/TQBCF/f+feOSFJ1DLA68ICi0S0Ca4aZKmtuvY8S22Y8fOzbfYSUD6mEbiF7DS0czZnV3tnDNKvFjgeb7AI44X5HnOZrulqiqqUlCUVHVDLchWa6I4IV1mlHJeVjVFWQoKiqIQXqIkoTzkW6TJEt+bMbWeJdq4jo1vS27quMYITxuQeE+knobzNCKQvcS1SaKINF3K/ZQwDFE0Q2Wi36FbOoPJL26HPUZPKoPHe4GK+jjkofeFwd0VffWKXv8z6u0193fXaA8/0I0xmmWc74/1McoscPDiuSBgNncwnSnmy099B8uX6FkSHWzBLJkzjXxmgYslNZZ0YnrOufalzrANlGCREWUhzWlPVpcEmfBVxGIdk+w2hHlGWqTUvxuKw55NI/oeRa9Tx6aTvW5LeSxZ70u2hwOKdX+BbQfo/oBQe48/eI2j6zjxjLn+Dnd4iWsF+KFBNv9JbGvMlyX54obU+ESU1mxLMWnRJzfeovQmH6i6Tlw9YT3f0Ju8YVnl1B1o/Usm319RyyTE8Zqe8Y2JO2Jb/RHTxkzMj9QtFE1HaFsMtQuUvhudx2CZFJhpTj/wiETHYjjAVvuYom/VndhuWuxlSrBbs2+PJKsaW0asalp2ZUu+2mOtViiuaTCfmtKOS+WZNOpXWl2l265oj0cOokvX7um6lqPkB+mmFX544ee8PZ/940opzuViRFPskOGCWuJ/rL/jl9vY+k2vswAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a0ffe763d768a65a97bff83d46197f9e/cc182/1.2.webp 148w,
/static/a0ffe763d768a65a97bff83d46197f9e/f7e40/1.2.webp 295w,
/static/a0ffe763d768a65a97bff83d46197f9e/1a2f4/1.2.webp 590w,
/static/a0ffe763d768a65a97bff83d46197f9e/4837b/1.2.webp 885w,
/static/a0ffe763d768a65a97bff83d46197f9e/2f819/1.2.webp 1180w,
/static/a0ffe763d768a65a97bff83d46197f9e/5eb14/1.2.webp 2470w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a0ffe763d768a65a97bff83d46197f9e/cf440/1.2.png 148w,
/static/a0ffe763d768a65a97bff83d46197f9e/d2d38/1.2.png 295w,
/static/a0ffe763d768a65a97bff83d46197f9e/b9e4f/1.2.png 590w,
/static/a0ffe763d768a65a97bff83d46197f9e/f9b6a/1.2.png 885w,
/static/a0ffe763d768a65a97bff83d46197f9e/2d849/1.2.png 1180w,
/static/a0ffe763d768a65a97bff83d46197f9e/8559b/1.2.png 2470w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/a0ffe763d768a65a97bff83d46197f9e/b9e4f/1.2.png&quot;
          alt=&quot;image-20190414180429504&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å»æ‰äº† zIndex ä¹‹åï¼Œç°åœ¨é¡µé¢çš„å¸§ç‡å¹³å‡æ˜¯ 10fpsï¼Œç»˜åˆ¶ä¸€å¸§éœ€è¦èŠ±è´¹çš„å¹³å‡æ—¶é—´æ˜¯ 100ms äº†ã€‚åœ¨ Composite Layers é˜¶æ®µèŠ±è´¹çš„æ—¶é—´åŸºæœ¬æ˜¯ 9ms å·¦å³äº†ã€‚æ˜¾ç„¶æ˜¯æœ‰æ‰€æå‡çš„ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          é¿å…åœ¨ onDraw é‡Œè®¿é—® offsetWidth ç­‰è§¦å‘ reflow
        &lt;/h3&gt;
      
&lt;p&gt;ç”±äºåœ¨æ‹–æ‹½åœ°å›¾æ—¶ï¼Œgoogle map ä¼šä¸åœçš„è°ƒç”¨æˆ‘ä»¬å®ç°çš„ onDraw æ–¹æ³•ã€‚åœ¨ onDraw æ–¹æ³•é‡Œï¼Œå¯ä»¥éšæ„è®¾ç½®å½“å‰ OverlayView å¯¹è±¡çš„æ ·å¼å’Œä½ç½®ã€‚æœªä¼˜åŒ–ä¹‹å‰ï¼Œæ˜¯æ ¹æ®å½“å‰å®¹å™¨ div çš„å®½é«˜å’Œå½“å‰ç»çº¬åº¦æ¢ç®—å‡ºæ¥çš„åæ ‡è®¡ç®—å¾—åˆ°å½“å‰ OverlayView å¯¹è±¡çš„ left å’Œ topã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// éƒ¨åˆ†ä»£ç å¦‚ä¸‹&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ç»§æ‰¿ google.maps.OverlayViewï¼Œå®ç°draw */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; overlayProjection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;overlayView&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getProjection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; posPixel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; overlayProjection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fromLatLngToDivPixel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;latLng&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; scale &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;computeScale&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Resize the image&apos;s div to fit the indicated dimensions.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; div &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;el
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; posPixel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetWidth &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; posPixel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetHeight &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scale &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
  div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;transform &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`scale(&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;scale&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;)`&lt;/span&gt;&lt;/span&gt;
  div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px&quot;&lt;/span&gt;
  div&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fef55180a0216429d58d11ea272b130b/fc43f/2.2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.31168831168832%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACYklEQVQ4y62SWW/bVhCF+f8fiiJO89Zf0ae0aJHUi2zLosVFC1dR3CmSEkVRi5NYX4dKG6TPLYEP58y5M8DF5Si+H+D5HmEYkucFdVXTtju2bSvast1s2InW9Vp6IqIoYi3ZdrsVGhqh9732/UocWKRJSppmBMECx7FYLBzBxfccAlPDt6a4rmBPhKnkFnGckPRzSXaZjaKYYBGgaNoHtMkYfaahGo98fPjI/dM1Q/WWgejD8Imbxzvunvr8lj/l/G54w8gY8WyqaFOdZ5lXzWce1HuUeZgSFCVeWmCJD8sNTlzgpiuWqw2zMMHPK+xkxTzKJKuxoxQ/zVnkki0jmV9hy3MYroOS29esvAHrYECzvGUX31+0DQcXdvEDX9Y6X2qNT9VYvCGq8bnWv/pSu2hfn/Ipynj4A/roR2zzDYvZ1Xe8uRDM37K0fiK03xHZbwmtK9Grb/qPD6XH0n5GMZIZZmYJNnpsXTAS0cxlnDgYqS1ILdljFjGqctSq+BejUrJyiV4sUZr1mqYuMd0b1Pl7xu4HpsmAuf0r02eDIo8pUlmXuc5YHWI7utDrE443whLv+mOqcsW+61COL2eO+0+YusVInaAPhpjvfyE3B+x3smtNRyO08vBtd8Dz1ky0gtlkhWPVF+97G46f4SQo2cKXPcqJ5Q/l138Iv5NPXdIwp5JF31YVTVnSyMJvmh27/Z7ucBD9Su/bbi9nLZvNFiXNCjpjQDf8jS7x2e47ji8vHA57jqcTJ/Hf6OvjkePfnL7Ty5mglFVDvQh5kev+H5+SVTva0yuvZzi/vnI+n/8TfwGYCbl0caqEFwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/fef55180a0216429d58d11ea272b130b/cc182/2.2.webp 148w,
/static/fef55180a0216429d58d11ea272b130b/f7e40/2.2.webp 295w,
/static/fef55180a0216429d58d11ea272b130b/1a2f4/2.2.webp 590w,
/static/fef55180a0216429d58d11ea272b130b/4837b/2.2.webp 885w,
/static/fef55180a0216429d58d11ea272b130b/2f819/2.2.webp 1180w,
/static/fef55180a0216429d58d11ea272b130b/d6d60/2.2.webp 2464w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/fef55180a0216429d58d11ea272b130b/cf440/2.2.png 148w,
/static/fef55180a0216429d58d11ea272b130b/d2d38/2.2.png 295w,
/static/fef55180a0216429d58d11ea272b130b/b9e4f/2.2.png 590w,
/static/fef55180a0216429d58d11ea272b130b/f9b6a/2.2.png 885w,
/static/fef55180a0216429d58d11ea272b130b/2d849/2.2.png 1180w,
/static/fef55180a0216429d58d11ea272b130b/fc43f/2.2.png 2464w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/fef55180a0216429d58d11ea272b130b/b9e4f/2.2.png&quot;
          alt=&quot;image-20190414183610229&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;draw æ–¹æ³•ä¸­ï¼Œè®¿é—®&lt;code class=&quot;language-text&quot;&gt;div.offsetWidth&lt;/code&gt;å’Œ &lt;code class=&quot;language-text&quot;&gt;div.offsetHeight&lt;/code&gt;ï¼Œå¼ºåˆ¶è§¦å‘ reflowï¼Œè¿™å°†éå¸¸å½±å“æ€§èƒ½ã€‚æˆ‘ä»¬å¯ä»¥ä¼˜åŒ–æˆï¼Œå¤´åƒæ˜¾ç¤ºæˆå›ºå®šå®½é«˜ã€‚ä¾‹å¦‚ï¼Œ&lt;code class=&quot;language-text&quot;&gt;let x = posPixel.x - 32 / 2;&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;let y = posPixel.y - 32 * (scale + 1) / 2;&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/19f20940a52192690f04622b0b7cc0c6/be39f/2.3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 48.41849148418491%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB70lEQVQoz2WSaW/aQBCG/esrtalUqVL7vf+krZKCzeEzBEgA27Be22uvTwhHy9vxEpCqfnj0zOzOXqPVgiBAB+cceZ6jrmtFmqY3hBAoyxJxHKu4qio0TfMf1XoNzQ9CrCkIwzUY26iNU5EiyzLkUkIqCrVRV7febBAniTo8pbGurnOXJ1kOLZj1wDYMi+UcrmfDckd4dMdwHROON4LlDGF7fZiE5RlUQ/OPYwRh97IVXSRQl/GXU0wnNrSh08eQNjGcAXqmgYexjr49gG4PL6ZxwzXIOnoWYeowbAMDWnNhrOjGDJrTmMiQyBxxd+VCKsdXE5xg1Ef+lkf0RK4sFIns1ndOwOIIWshWSPIIccYgZISsoB7KSyzI17hsBYomRdl0Fjdz6h9LM0Qih79m0Lyf7zC5fw9/eAdm3iGyPioYsTE/IHY/oZh/hZx9+ZfpZxTP3/DyJPHk1Ji6NWYTDs1a6hjPe7AXOly/D2fVe6N/y63FL9hk+zrn67BevsPzf2B3Al4J5eNvaLt6B8cZwTPvURaloqI/x/wYz24IETNqh0DINxApB2cMPIqQx/TV+ADN4Q/a1zMaYn86Q9vLknoUIJML7LZH4oQtuW0PaOoDtu0OTdugqDI6aItC1iiKFm1RY1tXoDK0+7NifzzjL4u113zAj4A8AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/19f20940a52192690f04622b0b7cc0c6/cc182/2.3.webp 148w,
/static/19f20940a52192690f04622b0b7cc0c6/f7e40/2.3.webp 295w,
/static/19f20940a52192690f04622b0b7cc0c6/1a2f4/2.3.webp 590w,
/static/19f20940a52192690f04622b0b7cc0c6/4837b/2.3.webp 885w,
/static/19f20940a52192690f04622b0b7cc0c6/2f819/2.3.webp 1180w,
/static/19f20940a52192690f04622b0b7cc0c6/e9a29/2.3.webp 2466w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/19f20940a52192690f04622b0b7cc0c6/cf440/2.3.png 148w,
/static/19f20940a52192690f04622b0b7cc0c6/d2d38/2.3.png 295w,
/static/19f20940a52192690f04622b0b7cc0c6/b9e4f/2.3.png 590w,
/static/19f20940a52192690f04622b0b7cc0c6/f9b6a/2.3.png 885w,
/static/19f20940a52192690f04622b0b7cc0c6/2d849/2.3.png 1180w,
/static/19f20940a52192690f04622b0b7cc0c6/be39f/2.3.png 2466w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/19f20940a52192690f04622b0b7cc0c6/b9e4f/2.3.png&quot;
          alt=&quot;image-20190414184005195&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ draw æ–¹æ³•é‡Œï¼Œç°åœ¨å°±æ²¡æœ‰ Layout å’Œ Recalculate Style çš„æ“ä½œäº†ã€‚ç°åœ¨å¸§ç‡å¹³å‡åŸºæœ¬æ˜¯ 12fps äº†ï¼Œç»˜åˆ¶ä¸€å¸§éœ€è¦èŠ±è´¹çš„å¹³å‡æ—¶é—´æ˜¯ 84ms äº†ã€‚åˆæœ‰æ‰€æé«˜äº†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-6&apos; &gt;
          å¿…è¦é™çº§ï¼Œå»æ‰ä¸å¿…è¦çš„å…ƒç´ 
        &lt;/h3&gt;
      
&lt;p&gt;å¯¹äº Android 6 ç­‰æœºå‹ï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦è¿˜ä¸ºæ¯ä¸ªå¤´åƒéƒ½ç»˜åˆ¶å‡ºä¸€ä¸ªåº•éƒ¨ä¸‰è§’å½¢ã€‚åº•éƒ¨ä¸‰è§’å½¢ï¼Œä¼šé¢å¤–åˆ›å»ºä¸€ä¸ª div å…ƒç´ ï¼Œå¦‚æœæ˜¯ 200 ä¸ªå¤´åƒï¼Œé¡µé¢å°±ä¼šå¤šå‡ºäº† 200 ä¸ªå…ƒç´ ã€‚å¹¶ä¸”åœ¨æ‹–æ‹½ç­‰æ“ä½œï¼Œé¢‘ç¹çš„è°ƒç”¨ onDrawï¼Œä¼šé‡æ–°ç»˜åˆ¶æ¯ä¸ªå¤´åƒï¼Œä¹Ÿä¼šé‡æ–°ç»˜åˆ¶æ¯ä¸ªåº•éƒ¨ä¸‰è§’å½¢ï¼Œè¿™æ ·ä¹Ÿå¢åŠ äº†ç»˜åˆ¶æ‰€éœ€è¦çš„æ—¶é—´ã€‚å¯¹äº android 6 ä»¥ä¸‹ç­‰ä½ç«¯æœºå‹ï¼Œå¯ä»¥å»æ‰åº•éƒ¨ä¸‰è§’å½¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/60152d56ad9c76122b6a1c4c1d81f5d0/10c6a/2.4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 45.96122778675283%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB8klEQVQozy2SWXPTUAyF/f9/DgzMMMMDbSltoW0Sx07seI33LV5jZynlQwk8aHR0dHRGunOVJE3wPA9/GxDHCUVRUtc1wzDSD3v6fhB8if21F4YReV7Qdf2Vb7tWNL3k7pqVPMtJ4pjEN4i2Dp7virnDrk7p2pwyjwhCD8ezCAIb192IxpYlLKIoIE1SsjQlTTPxSVA0Q0czlqjzryy0R57VZ25eb3lQb1DX97wId/96x8PsO79mtzwKfpzd8fPlTrRP6Bud5VpFN3UW+hzFjnx0x8SS2JiaxBLbM1k6Kzaxi+YZUm+uvGOvse0V1kZj65uYxgLX0TFd0YQOhswpYZgQRluqJCArYrI8Ji8SOSOiEJylMWWVU+3k/CqTpygoyv9Z+KFrqOTNu8PIfhpRvi1+sAoszMVnEtkwMp4IV8+E6yciS7/mwp3RhGt2/pLK12kCjd1WZxdsKIwPVOsvzJ05r6JTsnZiPENWOzT7hrJL2PWyUZ/STgP1IPjKZZRtIjiTkK3bSHo7ltZHDOcT1dBLPaHUwzsHMayno6x9ph4PNNNJzM70UreHo9TSO74JFv7CTRfNgeH4jpqomJWDyDm9gVL1Z8bjH3oR7GVgmCa6i/iCZXgQw3YcKdqKrCxpevmbh3/98Qh2quOX1hWPp9/8BYjalmdEstRJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/60152d56ad9c76122b6a1c4c1d81f5d0/cc182/2.4.webp 148w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/f7e40/2.4.webp 295w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/1a2f4/2.4.webp 590w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/4837b/2.4.webp 885w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/2f819/2.4.webp 1180w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/493c1/2.4.webp 2476w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/60152d56ad9c76122b6a1c4c1d81f5d0/cf440/2.4.png 148w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/d2d38/2.4.png 295w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/b9e4f/2.4.png 590w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/f9b6a/2.4.png 885w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/2d849/2.4.png 1180w,
/static/60152d56ad9c76122b6a1c4c1d81f5d0/10c6a/2.4.png 2476w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/60152d56ad9c76122b6a1c4c1d81f5d0/b9e4f/2.4.png&quot;
          alt=&quot;image-20190414190054000&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨é¡µé¢çš„å¸§ç‡å¹³å‡å¯ä»¥è¾¾åˆ°äº† 15fpsï¼Œç»˜åˆ¶ä¸€å¸§éœ€è¦èŠ±è´¹çš„å¹³å‡æ—¶é—´æ˜¯ 68ms äº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¼˜åŒ–è¿™äº›å°ç»†èŠ‚ä¹‹åï¼Œåœ¨ CPU é™ä½åˆ° 6 å€æ…¢ï¼Œä¸”é¡µé¢ç»˜åˆ¶ 200 ä¸ªå¤´åƒæ—¶ï¼Œå¸§ç‡ä»ä¹‹å‰çš„ 8fps æé«˜äº† 15fpsï¼Œè¶³è¶³æå‡äº†ä¸€å€çš„æ€§èƒ½ã€‚å¯¹äº Android 6 ç­‰æç«¯æœºå‹ï¼Œå…¶å®è¿˜å¯ä»¥å†é™çº§ï¼Œä» 200 ä¸ªå¤´åƒå‡å°‘åˆ° 100 ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d5fface1aa7812cf410f556664551183/d7b06/2.5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 45.809601301871446%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB+klEQVQozz2SSXPTQBSE9f//CnCDCxVSLghUSLzEjizZWsaSLFnbWLuXmFAfzz5w6Oqu6Z7qN1PPSJKYzSZAbULiOKEoCqqq5nA40vcH2q4X7hn6QbyS7TYmTTPatqPrOpq2Fd3e9JWNLM3JkpAksEnikDAMpMChaXY01ZYwcAgCn03gSulKfBffv7KiyAvSXUqWpuRZxjbaYiwdG9N+wny9Z2GPmZgTHl++M7dHLJ0Rk8VPHqe/GC8eRT/wPP/B0+yB8fw3lmv/h+1aLNdLjJW0KX+J59koZaE8k03k4CQ+61jhqDWehG++f82s8D1LprRx1q/imdj2jKU9YfbygKE8l8h3Kfby9ELGLzLyK/KEsiwodYGuNFWj2VdXlOh9yb4WXZd0hwOZLgkSh5VyMSw7Il58IXz9QbQYEc6/sTVFWzMi8w41/or2RpTelFJN0ZsFe/WM9sfowKK0PhJPP1HEOYP6jFE0J5LihaIOyfc+u9IRHdEMFWFqEqWWTL+mqEKyeoNuM9EBeaWoOi3//wHPv6M7vRPs7jF0f2EnK1AOZ8r+fOP94Y1GAnHVsquPcnaiOr6h+476eLn5euhpRLu1Yjc0HC9/2bYao+wuYtTScBacBLJ7wv35D93xyCCsZQ+704X+IDspfM01kutObyRDLPcHyb9LacU/cUCUC4qnJEoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d5fface1aa7812cf410f556664551183/cc182/2.5.webp 148w,
/static/d5fface1aa7812cf410f556664551183/f7e40/2.5.webp 295w,
/static/d5fface1aa7812cf410f556664551183/1a2f4/2.5.webp 590w,
/static/d5fface1aa7812cf410f556664551183/4837b/2.5.webp 885w,
/static/d5fface1aa7812cf410f556664551183/2f819/2.5.webp 1180w,
/static/d5fface1aa7812cf410f556664551183/75cc1/2.5.webp 2458w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d5fface1aa7812cf410f556664551183/cf440/2.5.png 148w,
/static/d5fface1aa7812cf410f556664551183/d2d38/2.5.png 295w,
/static/d5fface1aa7812cf410f556664551183/b9e4f/2.5.png 590w,
/static/d5fface1aa7812cf410f556664551183/f9b6a/2.5.png 885w,
/static/d5fface1aa7812cf410f556664551183/2d849/2.5.png 1180w,
/static/d5fface1aa7812cf410f556664551183/d7b06/2.5.png 2458w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/d5fface1aa7812cf410f556664551183/b9e4f/2.5.png&quot;
          alt=&quot;image-20190414192024307&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¤´åƒé™åˆ° 100 ä¸ªä¹‹åï¼Œå¯ä»¥çœ‹åˆ°ç°åœ¨é¡µé¢çš„å¸§ç‡å¹³å‡å¯ä»¥è¾¾åˆ°äº† 27fpsï¼Œç»˜åˆ¶ä¸€å¸§éœ€è¦èŠ±è´¹çš„å¹³å‡æ—¶é—´æ˜¯ 36ms äº†ã€‚å¸§ç‡ä»ä¹‹å‰çš„ 8fps æé«˜äº† 27fpsï¼Œè¶³è¶³æå‡äº†ä¸‰å€å¤šçš„æ€§èƒ½ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-4&apos; &gt;
          å°ç»“
        &lt;/h2&gt;
      
&lt;p&gt;å‰ç«¯ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›åŸºç¡€çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œç»“åˆå‰ç«¯çš„ä¸€äº›çŸ¥è¯†ï¼Œå¯ä»¥æœ‰æ¯”è¾ƒå¥½çš„å®è·µã€‚åœ¨å¼€å§‹åŠ¨æ‰‹ç¼–ç ä¹‹å‰ï¼Œå¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹ï¼Œå¤§è‡´çš„å®ç°æ€è·¯ï¼Œæ˜¯å¦å¯ä»¥æœ‰æ›´ä¼˜æ–¹æ¡ˆã€‚å½“åœ¨ä½ç«¯æœºå‹ä¸Šæ— æ³•æ»¡è¶³æ€§èƒ½è¦æ±‚æ—¶ï¼Œè¦å­¦ä¼šä¸ PM æ²Ÿé€šï¼Œæ˜¯å¦å¯ä»¥é™çº§å¤„ç†ã€‚åœ¨é‡åˆ°æ€§èƒ½ç“¶é¢ˆæ—¶ï¼Œå­¦ä¼šä½¿ç”¨å·¥å…·åˆ†æå’Œå®šä½é—®é¢˜ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2018å¹´å°ç»“]]></title><description><![CDATA[å¥½å¿«ï¼Œ2018 æ²¡äº†ã€‚2018 å¹´åˆè®¡åˆ’æ˜¯ï¼šå»è…¾è®¯æˆ–è€…é˜¿é‡Œ ã€æ²¡æœ‰å®Œæˆã€‘é˜…è¯» 12 æœ¬ä¹¦ ã€åŸºæœ¬å®Œæˆã€‘å†™ 12 ç¯‡ç¬”è®° ã€å®Œæˆã€‘å­¦ä¹  canvas ç›¸å…³ ã€å®Œæˆã€‘å­¦ä¹  vue ç›¸å…³ ã€å®Œæˆã€‘å¼„æ¸…æ¥š vue-cli å®ç°ç»†èŠ‚ ã€å®Œæˆã€‘å¼„æ¸…æ¥š Snabbdomâ€¦]]></description><link>https://snayan.github.io//post/2019/summary_of_2018/</link><guid isPermaLink="false">https://snayan.github.io//post/2019/summary_of_2018/</guid><pubDate>Wed, 02 Jan 2019 21:31:44 GMT</pubDate><content:encoded>&lt;p&gt;å¥½å¿«ï¼Œ2018 æ²¡äº†ã€‚&lt;/p&gt;
&lt;p&gt;2018 å¹´åˆè®¡åˆ’æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å»è…¾è®¯æˆ–è€…é˜¿é‡Œ ã€æ²¡æœ‰å®Œæˆã€‘&lt;/li&gt;
&lt;li&gt;é˜…è¯» 12 æœ¬ä¹¦ ã€åŸºæœ¬å®Œæˆã€‘&lt;/li&gt;
&lt;li&gt;å†™ 12 ç¯‡ç¬”è®° ã€å®Œæˆã€‘&lt;/li&gt;
&lt;li&gt;å­¦ä¹  canvas ç›¸å…³ ã€å®Œæˆã€‘&lt;/li&gt;
&lt;li&gt;å­¦ä¹  vue ç›¸å…³ ã€å®Œæˆã€‘&lt;/li&gt;
&lt;li&gt;å¼„æ¸…æ¥š vue-cli å®ç°ç»†èŠ‚ ã€å®Œæˆã€‘&lt;/li&gt;
&lt;li&gt;å¼„æ¸…æ¥š Snabbdom å®ç°ç»†èŠ‚ ã€å®Œæˆã€‘&lt;/li&gt;
&lt;li&gt;å¼„æ¸…æ¥š Create-react-app å®ç°ç»†èŠ‚ ã€æ²¡æœ‰å®Œæˆã€‘&lt;/li&gt;
&lt;li&gt;è¿˜æ¸…æ¬ æ¬¾ ã€å¿«å®Œæˆã€‘&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          é€‰æ‹©
        &lt;/h3&gt;
      
&lt;p&gt;å¹´åˆï¼ŒæŠ•é€’äº†è…¾è®¯çš„è…¾è®¯äº‘ï¼Œèµ·åˆæ¥äº†ä¸€ä¸ª HR ç”µè¯ï¼Œäº†è§£æƒ…å†µï¼Œè¯´åé¢ä¼šæœ‰ç”µè¯é¢è¯•ï¼Œç»“æœä¸€ç›´æ²¡æœ‰ï¼Œä¸”çŠ¶æ€ä¸€ç›´æ˜¯æµç¨‹ä¸­ï¼Œæ— æ³•å†æŠ•é€’å…¶ä»–éƒ¨é—¨ï¼Œæœªæœã€‚åé¢è¾èŒäº†ï¼Œåˆæ‰¾è€é¢†å¯¼ UK å¸®å¿™å†…æ¨äº†é˜¿é‡Œï¼Œè¿‡äº† 2 è½®ç”µè¯é¢è¯•ï¼Œåœ¨å…¬å¸é¢è¯•æ—¶æ²¡é€šè¿‡ï¼Œåˆæœªæœï¼Œé¢è¯•å®˜ LX ç»™äº†æˆ‘å¾ˆå¤šæŒ‡å¯¼å’Œæ„è§ï¼Œéå¸¸æ„Ÿè°¢ã€‚è¿˜æ˜¯æœ‰ç‚¹å°å¤±æœ›çš„ï¼Œ17 å¹´åšäº†å¾ˆå¤šå‡†å¤‡ï¼Œè¿˜æ˜¯æœªèƒ½å¦‚æ„¿ã€‚&lt;/p&gt;
&lt;p&gt;17 å¹´æ˜¥èŠ‚å‰å°±æ”¶åˆ°äº† OPPO çš„ offerï¼Œåé¢åˆæ”¶åˆ°äº† shopee çš„ offerï¼Œæœ€åå†³å®šå»äº† shopeeã€‚åœ¨ shopee å·¥ä½œå¿«ä¸€å¹´äº†ï¼Œæ„Ÿè§‰ååˆ†å¥½ã€‚shopee ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ï¼šæ´»åŠ›ï¼Œåˆ›é€ ï¼Œè½»æ¾ï¼Œè‡ªç”±ã€‚&lt;/p&gt;
&lt;p&gt;æ„Ÿè°¢ UK å¸®å¿™å†…æ¨ï¼Œæ„Ÿè°¢ LX æŒ‡å¯¼ï¼Œæ„Ÿè°¢ shopee é€‰æ‹©ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          å­¦ä¹ 
        &lt;/h3&gt;
      
&lt;p&gt;æ•°ä¸€æ•°ï¼Œæœ‰ 12 æœ¬äº†ï¼Œ&lt;a href=&quot;https://github.com/snayan/bookLists#2018-%E5%B7%B2%E8%AF%BB&quot;&gt;è¿™é‡Œè®°å½•äº†æˆ‘ 18 å¹´é˜…è¯»çš„ä¹¦ç±&lt;/a&gt;ï¼Œæœ€åä¸€æœ¬åªè¯»äº†ä¸€åŠï¼Œåº”è¯¥åœ¨æ˜¥èŠ‚ä¹‹å‰å¯ä»¥å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;ç¬”è®°æ•°é‡è¾¾æ ‡äº†ï¼Œæœ‰ 6 ç¯‡å…³äº canvas çš„ï¼Œæœ‰ 4 ç¯‡å…³äº react çš„ï¼Œ3 ç¯‡å…³äº vue çš„ï¼Œ1 ç¯‡å…³äº webpackï¼Œ1 ç¯‡å…³äº audioï¼Œ1 ç¯‡å…³äº bridge çš„ã€‚7 æœˆä»½åœ¨æ˜é‡‘ä¸Šä¹Ÿ&lt;a href=&quot;https://juejin.im/user/5b46a2fc5188251b11095bf5/&quot;&gt;æ³¨å†Œäº†ä¸€ä¸ªå·&lt;/a&gt;ï¼Œåé¢å‘çš„æ–‡ç« æœ‰åœ¨æ˜é‡‘ä¸Šå‘å¸ƒï¼Œæƒ³ç€å¤§å®¶ä¸€èµ·äº¤æµå’Œå­¦ä¹ ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ shopeeï¼Œè´Ÿè´£çš„æ˜¯ h5 å°æ¸¸æˆå¼€å‘ï¼Œä¹‹å‰æœªåšè¿‡ç±»ä¼¼çš„ä¸šåŠ¡ï¼Œåˆšå¼€å§‹ï¼Œæœ‰ç‚¹æ£˜æ‰‹ï¼Œåé¢çœ‹äº†&lt;a href=&quot;https://book.douban.com/subject/24533314/&quot;&gt;HTML5 Canvas æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;å’Œ&lt;a href=&quot;https://www.amazon.cn/dp/B01N6DNDG4&quot;&gt;HTML5 2D æ¸¸æˆç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;ï¼Œæ…¢æ…¢çš„å°±èƒ½ç†Ÿç»ƒèµ·æ¥äº†ï¼Œä¹Ÿå†™äº†&lt;a href=&quot;/post/core_html5_canvas/&quot;&gt;canvas ç›¸å…³çš„æ–‡ç« &lt;/a&gt;ï¼Œä¹Ÿå»ºäº†ä¸€ä¸ª&lt;a href=&quot;https://github.com/snayan/canvas-demo&quot;&gt;canavs demo é¡¹ç›®&lt;/a&gt;ã€‚æœ€åï¼Œè¿˜å­¦ä¹ äº†ä¸€ä¸‹ WebGL ç›¸å…³çš„ï¼Œçœ‹äº†&lt;a href=&quot;https://book.douban.com/subject/25909351/&quot;&gt;WebGL ç¼–ç¨‹æŒ‡å—&lt;/a&gt;å’Œ&lt;a href=&quot;https://book.douban.com/subject/1400419/&quot;&gt;3D æ•°å­¦åŸºç¡€&lt;/a&gt;ï¼Œå®é™…ä¸šåŠ¡ä¸­æ²¡æœ‰ç”¨åˆ°ï¼Œåé¢ä¹Ÿæ²¡æœ‰å†ç»§ç»­æ·±ç©¶äº†ï¼Œæ„Ÿè§‰æŒºéš¾çš„ï¼Œæ²¡æœ‰å®é™…ä¸šåŠ¡åœºæ™¯ï¼Œå¾ˆéš¾æœ‰å€Ÿå£ç»§ç»­å­¦ä¹ ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºé¡¹ç›®ç»„é€‰æ‹©çš„å‰ç«¯æ¡†æ¶æ˜¯ vueï¼Œåˆä¸å¾—ä¸è½¬å…¥ vueã€‚è¿›æ¥åšäº†ä¸€ä¸ª vue ç›¸å…³çš„ entry taskï¼Œå‰”é™¤å…¬å¸ä¸šåŠ¡ç›¸å…³ï¼Œè‡ªå·±æ•´ç†æ€»ç»“äº†ä¸€ä¸‹ï¼Œå»ºäº†ä¸€ä¸ªé¡¹ç›®&lt;a href=&quot;https://github.com/snayan/vue-task&quot;&gt;vue-task&lt;/a&gt;ï¼Œå¸®åŠ©é‚£äº›æ–°å…¥é—¨çš„ vue å­¦ä¹ è€…ã€‚ä¸ºäº†æ·±å…¥å­¦ä¹  vueï¼Œåˆä¸“é—¨å­¦ä¹ äº† snabbdom å’Œ vue-cliã€‚åé¢é¡¹ç›®ç»„å†…ï¼ŒåŸºäº vue-cliï¼ŒåŒäº‹ä»¬ä¹Ÿå†™äº†ä¸€ä¸ª shopee-fe-cliã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ 11 æœˆä»½çš„æ—¶å€™ï¼Œå¬äº†ä¸€ä¸ªå…³äº RN çš„åˆ†äº«ï¼Œè‡ªå·±ä¹Ÿå†³å®šå­¦ä¹ äº†è§£ iOS ç›¸å…³ï¼Œéšåï¼Œçœ‹äº†å¾ˆå¤šå…³äº iOS å’Œ swift çš„ä¹¦ç±å’Œèµ„æ–™ï¼Œå†™ä¸€ä¸ª&lt;a href=&quot;https://github.com/snayan/MusicPlayer&quot;&gt;iOS éŸ³ä¹æ’­æ”¾å™¨&lt;/a&gt;ï¼Œæ•°æ®ä» QQ éŸ³ä¹çˆ¬å–ï¼Œç•Œé¢æ ·å¼ä¹Ÿå‚è€ƒäº† QQ éŸ³ä¹ã€‚éŸ³ä¹æ’­æ”¾å™¨å†™çš„å·®ä¸å¤šäº†ï¼Œè¯¦ç»†æ·±å…¥çš„å­¦ä¹ äº†&lt;a href=&quot;https://github.com/marcuswestin/WebViewJavascriptBridge&quot;&gt;WebViewJavascriptBridge&lt;/a&gt;ï¼Œè‡ªå·±ç”¨ swift ä¹Ÿå†™äº†ä¸€ä¸ª&lt;a href=&quot;https://github.com/snayan/MusicPlayer/tree/master/MusicPlayer/bridge&quot;&gt;ç±»ä¼¼çš„ bridge&lt;/a&gt;ï¼Œå†™äº†ä¸€ç¯‡&lt;a href=&quot;/post/understand_the_details_of_h5_and_native(ios)_communication/&quot;&gt;ç†è§£ h5 ä¸ native(ios)é€šä¿¡ç»†èŠ‚&lt;/a&gt;ï¼Œå¹¶åœ¨ç»„å†…åˆ†äº«ç»™åŒäº‹äº†ã€‚IOS ç›¸å…³åªæ˜¯ä¸šä½™äº†è§£ï¼Œä¸ºäº†åé¢å­¦ä¹  RN å’Œ Flutterï¼Œå¹¶ä¸æ‰“ç®—è½¬åš IOS å¼€å‘ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          é¡¹ç›®
        &lt;/h3&gt;
      
&lt;p&gt;å…¬å¸é¡¹ç›®å°±ä¸è¯´äº†ï¼Œè¿™é‡Œåˆ—ä¸¾ä¸€ä¸‹è‡ªå·±ä¸šåŠ¡çš„é¡¹ç›®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/vue-task&quot;&gt;vue-task&lt;/a&gt;ï¼Œä½¿ç”¨ vueï¼Œvuexï¼Œvue-routerï¼Œtypescript å¼€å‘ä¸€ä¸ªå•é¡µé¢ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/vue-tool-kit&quot;&gt;vue-tool-kit&lt;/a&gt;ï¼Œvue å·¥å…·åŒ…&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/canvas-demo&quot;&gt;canvas-demo&lt;/a&gt;ï¼Œcanvas å­¦ä¹ ç¤ºä¾‹&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/box-console&quot;&gt;box-console&lt;/a&gt;ï¼Œnode ä¸­è¾“å‡ºä¸€ä¸ªçŸ©å½¢æ¡†æç¤º&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/swift-demo&quot;&gt;swift-demo&lt;/a&gt;ï¼Œswift å­¦ä¹ ç¤ºä¾‹&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/snayan/MusicPlayer&quot;&gt;MusicPlayer&lt;/a&gt;ï¼Œç”¨ Swift ç¼–å†™ä¸€ä¸ªéŸ³ä¹æ’­æ”¾å™¨&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          ç”Ÿæ´»
        &lt;/h3&gt;
      
&lt;p&gt;å¹´åˆæ‰¾äº†ä¸€ä¸ªæ¼‚äº®çš„è€å©†ï¼Œ18 å¹´æœ€ä¸ºå¼€å¿ƒçš„ï¼Œå¸Œæœ›è€å©†æ°¸è¿œå¼€å¿ƒæ¼‚äº®ã€‚&lt;/p&gt;
&lt;p&gt;ç”Ÿæ´»éå¸¸æ‹®æ®ï¼Œè¿˜äº†å››åˆ†ä¹‹ä¸‰çš„æ¬ æ¬¾äº†ï¼Œè¿˜å·®å‰©ä¸‹çš„ï¼Œç­‰å¹´ç»ˆå¥–ä¸‹æ¥äº†ï¼Œå°±åº”è¯¥èƒ½è¿˜äº†å§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ¬¡éƒ½æ²¡æœ‰å›å®¶ï¼Œéå¸¸æƒ³å›å®¶ï¼Œå¿«åˆ°æ˜¥èŠ‚äº†ï¼Œå†å¿å¿ã€‚&lt;/p&gt;
&lt;p&gt;ç”Ÿæ´»æ€»å½’å¹³æ·¡ï¼Œæ—¢å¾€ä¸æ‹ï¼Œçºµæƒ…å‘å‰ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;2018ï¼Œå­¦ä¹ çš„æœ‰ç‚¹æ‚ï¼Œç”Ÿæ´»çš„æœ‰ç‚¹ç©·ã€‚&lt;/p&gt;
&lt;p&gt;2019ï¼Œç›®å‰è®¡åˆ’ä¸­æœ‰ï¼Œäº†è§£ rn å’Œ flutterï¼Œä»¥åŠé‡æ¸©è®¾è®¡æ¨¡å¼å’Œæ•°æ®ç»“æ„ï¼Œç„¶ååœ¨ js æ¬ç –ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ç†è§£h5ä¸native(ios)é€šä¿¡ç»†èŠ‚]]></title><description><![CDATA[åœ¨è·¨å¹³å°å®¢æˆ·ç«¯å¼€å‘ä¸­ï¼ŒH5 æ˜¯ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„æ–¹å¼ï¼Œå®ƒæ—¢å¯ä»¥è¿è¡Œåœ¨ iOS ä¸­ï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨ Android ä¸­ï¼Œè¿˜å¯ä»¥è¿è¡Œåœ¨ web æµè§ˆå™¨ä¸­ï¼Œå¯ä»¥è¯´æ˜¯â€write once, run anywhereâ€ã€‚ä½†æ˜¯ï¼ŒH5 æœ€ä¸ºäººè¯Ÿç—…çš„å°±æ˜¯ç”¨æˆ·ä½“éªŒä¸å¦‚ nativeâ€¦]]></description><link>https://snayan.github.io//post/understand_the_details_of_h5_and_native(ios)_communication/</link><guid isPermaLink="false">https://snayan.github.io//post/understand_the_details_of_h5_and_native(ios)_communication/</guid><pubDate>Mon, 31 Dec 2018 11:11:00 GMT</pubDate><content:encoded>&lt;p&gt;åœ¨è·¨å¹³å°å®¢æˆ·ç«¯å¼€å‘ä¸­ï¼ŒH5 æ˜¯ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„æ–¹å¼ï¼Œå®ƒæ—¢å¯ä»¥è¿è¡Œåœ¨ iOS ä¸­ï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨ Android ä¸­ï¼Œè¿˜å¯ä»¥è¿è¡Œåœ¨ web æµè§ˆå™¨ä¸­ï¼Œå¯ä»¥è¯´æ˜¯â€write once, run anywhereâ€ã€‚ä½†æ˜¯ï¼ŒH5 æœ€ä¸ºäººè¯Ÿç—…çš„å°±æ˜¯ç”¨æˆ·ä½“éªŒä¸å¦‚ native æµç•…ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä½ç«¯æœºå‹å’Œè¾ƒå·®çš„ç½‘ç»œç¯å¢ƒï¼Œåœ¨é¡µé¢åŠ è½½æ—¶é€šå¸¸æœ‰è¾ƒé•¿ä¸€æ®µæ—¶é—´çš„ç™½å±ç­‰å¾…æ—¶é—´ã€‚H5 å¼€å‘è€…æƒ³å°½åŠæ³•ç¼©çŸ­é¦–å±æ—¶é—´ï¼Œç”¨æˆ·å¯äº¤äº’æ—¶é—´ï¼Œä¸ºæ­¤ä½¿ç”¨äº†ä¸€ç³»åˆ—çš„ä¼˜åŒ–æ‰‹æ®µï¼Œæ¯”å¦‚ ssrï¼Œcode splitï¼Œcompressï¼Œlazy loadï¼Œpreload ç­‰ç­‰ï¼Œå…¶å®ä¸»è¦æ˜¯å›´ç»•&lt;strong&gt;å°½é‡å°‘&lt;/strong&gt;è¿™ä¸€æ ¸å¿ƒåŸåˆ™ã€‚ä¸ºäº†å¹³è¡¡è·¨ç»ˆç«¯èƒ½åŠ›å’Œç”¨æˆ·ä½“éªŒï¼Œç°åœ¨æµè¡Œçš„åˆæœ‰ RN å’Œ Flutter è§£å†³æ–¹æ¡ˆç­‰ã€‚å’¦ï¼Œæ„Ÿè§‰è·‘é¢˜äº†ï¼Œè¿˜æ˜¯å›åˆ°æ ‡é¢˜è¯´çš„ï¼Œå…·ä½“æ¥çœ‹çœ‹åœ¨ IOS ä¸­ï¼ŒH5 æ˜¯æ€ä¹ˆä¸ native é€šä¿¡çš„ã€‚æ–‡å­—ç•¥é•¿ï¼Œä½†æ˜¯æˆ‘ç›¸ä¿¡ä½ çœ‹å®Œäº†ï¼Œä¼šæœ‰æ‰€æ”¶è·ã€‚&lt;/p&gt;
&lt;p&gt;è¯´åˆ°é€šä¿¡ï¼Œæ— éå°±æ˜¯ä¸¤ç§æ–¹å¼ï¼Œnative è°ƒç”¨ h5ï¼Œh5 è°ƒç”¨ nativeã€‚H5 åœ¨ iOS ä¸­çš„å®¿ä¸»æ˜¯ UIWebView æˆ–è€… WKWebViewï¼Œåœ¨ IOS8 ä¸­ï¼ŒApple å¼•å…¥äº† WKWebViewï¼Œå°† UIWebView æ ‡è®°ä¸º Deprecatedã€‚ç°åœ¨æ¥è¯´ï¼Œå¤§éƒ¨åˆ† app åº”è¯¥éƒ½æ˜¯ä½¿ç”¨çš„ WKWebViewï¼Œé™¤éé‚£äº›éœ€è¦å…¼å®¹ IOS8 ä»¥ä¸‹ç³»ç»Ÿçš„æ‰ä¼šå…¼å®¹ä½¿ç”¨ UIWebViewï¼Œæœ¬æ–‡ä¹Ÿä¸»è¦æ˜¯è¯´è¯´ä½¿ç”¨ WKWebView çš„åœºæ™¯ã€‚åœ¨å®ç° H5 ä¸ native ä¹‹é—´çš„é€šä¿¡ï¼Œæ¯”è¾ƒæµè¡Œçš„åº“å°±æ˜¯&lt;a href=&quot;https://github.com/marcuswestin/WebViewJavascriptBridge&quot;&gt;WebViewJavascriptBridge&lt;/a&gt;ï¼Œä¸ºäº†çœŸæ­£å¼„æ˜ç™½åŸç†ï¼Œæˆ‘ä¹Ÿæ˜¯é€šè¯»äº†å®ƒçš„æºç ï¼Œç„¶åæ ¹æ®å®ƒçš„å®ç°æ€è·¯ï¼Œè‡ªå·±ç”¨ swift ä¹Ÿå®ç°äº†ä¸€éã€‚ä¸‹é¢å°±ç»“åˆä¸€ä¸ªå°ä¾‹å­ï¼Œè°ˆè°ˆå®ƒçš„å®ç°åŸç†ã€‚&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;å‡å¦‚æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œæ˜¯ H5 åœ¨ app å†…ä¼šæœ‰ä¸€ä¸ªæˆªå±æŒ‰é’®ï¼Œç‚¹å‡»è¿™ä¸ªæŒ‰é’®èƒ½å¯¹å½“å‰ webView æˆªå›¾ï¼Œç„¶åæ˜¾ç¤ºåœ¨æˆ‘ä»¬çš„ H5 ä¸­ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;img&lt;/code&gt;å…ƒç´ é‡Œã€‚&lt;/p&gt;
&lt;a class=&quot;gatsby-resp-image-link&quot; href=&quot;/static/0281a7540bf12d756197b0ac913786cf/d266f/p.png&quot; style=&quot;display: block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 375px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 177.86666666666667%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsSAAALEgHS3X78AAACSElEQVRIx+2WT28SQRiH96t4sD3UGkvx6MWT+nFM8At4NWk1pRbwK5jWowdMLNAS3V1gKVC6QIqQILC7XdiF3WWBnzOzyB9TzSa9GSZ58r4z8+aZnb3My7XbbTTqP1C/rqPZbIKO6XTKoMN1XdRqNZTLZSiKwtYmk8m87neMt5Io/CyDG7kjqIMe3LFLNiYrMtu2oaoqNE2DrutoNBps7kkWtRRrbMFxHSIkk4atwztzdbRabZyeJhGPf0E+X0AikUImk5sJcevgbKsD11ZAo/UHjqOQK2sk77I5zb15569whlGGYVyCRpPlHqZ5hZteFpouomdI6JsStF6GIJL9Etlf1C7DDQYVUExjgTGLqp7DcFiFLJ9B4D+TW1yTA/Lo9YnQqM7rGKbn4UxTZsloUsNousAlmG4ew/EF+rYEfZgleZGsSXAmMttfrh9aVCp7X2gYV6jmcpB5CRVhFVnIoSJKqIqznCEtRW9d7ZbIbcgXWlYVSreId0/j2NtMYX87ib0H/tinbKXwZusr8ikeLrnlTFjCh+cpRB+KiAUFRHf9EaMERLwPfEPxTGS/bS6MPkviaJtHZPc7jgL+iezwCO+kUbhdKDBhJMD7ZC1cC9fCtXAt/M+Evt+TfwljL5KIPCKv2WNSFPQHrY0GeRwGifB8Wdgp4fBJEgf3BIQ3eRxs+Ce8IeDt/TTyCYF1EBx97W+0S3x6ncDxyzROXp3jOOSfk1AaH0Mp1IpZOKPqorcZuGUMxndgKLOGifQ2XkI7qMEd8LovGb8AgaGmv2uAaGIAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/0281a7540bf12d756197b0ac913786cf/cc182/p.webp 148w,
/static/0281a7540bf12d756197b0ac913786cf/f7e40/p.webp 295w,
/static/0281a7540bf12d756197b0ac913786cf/f477c/p.webp 375w&quot; sizes=&quot;(max-width: 375px) 100vw, 375px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/0281a7540bf12d756197b0ac913786cf/cf440/p.png 148w,
/static/0281a7540bf12d756197b0ac913786cf/d2d38/p.png 295w,
/static/0281a7540bf12d756197b0ac913786cf/d266f/p.png 375w&quot; sizes=&quot;(max-width: 375px) 100vw, 375px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/0281a7540bf12d756197b0ac913786cf/d266f/p.png&quot; alt=&quot;p&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;
&lt;p&gt;å¦‚å›¾å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸€ä¸ªæˆªå±æŒ‰é’®ï¼Œä»¥åŠä¸€ä¸ªç´«è‰²åŒºåŸŸï¼Œè¿™ä¸ªåŒºåŸŸå†…æœ‰ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;img&lt;/code&gt;ï¼Œç”¨æ¥æ˜¾ç¤ºæˆ‘ä»¬æˆªå±ä¹‹åçš„å›¾ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé€šå¸¸éœ€è¦ H5 ä¸ native é…åˆæ‰èƒ½å®Œæˆï¼Œæˆªå±çš„åŠŸèƒ½è‚¯å®šæ˜¯ native é‚£è¾¹å®Œæˆï¼Œä½†æ˜¯è§¦å‘æ—¶æœºè‚¯å®šæ˜¯ H5 è¿™è¾¹æ¥æ§åˆ¶ã€‚native éœ€è¦æä¾›ä¸€ä¸ª bridge æ¥å£ï¼Œæ¯”å¦‚ takeSnapshotï¼Œç„¶ååœ¨ H5 ä¸­å°±éœ€è¦è°ƒç”¨ takeSnapshot æ¥å£å¹¶è·å¾—ç›¸åº”æ•°æ®ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// h5éƒ¨åˆ†ä»£ç &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      src&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;takeSnapshot &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;takeSnapshot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;takeSnapshot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;bridge&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        bridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;callHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;takeSnapshot&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; status&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                src&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;operate&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;takeSnapshot&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;æˆªå±&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; App&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ®µä»£ç æ¯”è¾ƒç®€å•ï¼Œå°±ä¸è§£é‡Šã€‚å¯ä»¥çœ‹åˆ°åœ¨è°ƒç”¨ takeSnapshot çš„å›è°ƒä¸­ï¼Œh5 æ‹¿åˆ°äº† pathï¼Œç„¶åå°† path èµ‹å€¼ç»™äº†&lt;code class=&quot;language-text&quot;&gt;img&lt;/code&gt;æ ‡ç­¾ã€‚&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-1&apos; &gt;
          Bridge çš„åˆå§‹åŒ–
        &lt;/h4&gt;
      
&lt;p&gt;åœ¨å®Œæˆä¸Šé¢è¿™ä¸ªä¾‹å­æ—¶ï¼ŒH5 å’Œ native ä¸¤è¾¹éƒ½éœ€è¦å…ˆå®Œæˆ bridge çš„åˆå§‹åŒ–ã€‚H5 è¿™è¾¹é€šå¸¸ä¼šåœ¨&lt;code class=&quot;language-text&quot;&gt;html&lt;/code&gt;çš„ &lt;code class=&quot;language-text&quot;&gt;head&lt;/code&gt;ä¸­åŠ è½½ä¸€æ®µ sdk ä»£ç ï¼Œç”¨æ¥è§¦å‘ç”Ÿæˆ H5 ç«¯ bridge å¯¹è±¡ï¼Œæ¯ä¸ªå…¬å¸éƒ½ä¼šè‡ªå·±æä¾›ä¸€ä¸ªå¯¹å¤–çš„ sdk è„šæœ¬ï¼Œæ¯”å¦‚å¾®ä¿¡æä¾›çš„ sdk ç­‰ã€‚é€šå¸¸æ”¾åœ¨&lt;code class=&quot;language-text&quot;&gt;head&lt;/code&gt; ä¸­ï¼Œæ˜¯å› ä¸ºå®ƒéœ€è¦æœ€å…ˆæ‰§è¡Œå®Œæˆï¼Œè¿™æ ·ä½ ä»£ç ä¸­æ‰å¯ä»¥ä½¿ç”¨ã€‚è¿™ä¸ª sdk è„šæœ¬ï¼Œå…¶å®å°±æ˜¯æä¾›äº†ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;ready&lt;/code&gt;å‡½æ•°ï¼Œbridge å¯¹è±¡å®Œæˆä¹‹åï¼Œä¼šè°ƒç”¨é‡Œé¢çš„å›è°ƒå‡½æ•°ï¼Œå¹¶æä¾›&lt;code class=&quot;language-text&quot;&gt;bridge&lt;/code&gt;å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* bridge sdk
 mpBridge.ready(bridge =&gt; {
   bridge.callHandler(&apos;cmd&apos;, params, (error, data) =&gt; {

   })
})
*/&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;w&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; d&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å·²ç»åŠ è½½äº†å°±ç›´æ¥è¿”å›ï¼Œé˜²æ­¢åŠ è½½2é&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// æ˜¯å¦bridgeåˆå§‹åŒ–å®Œæˆ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; initialized &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; queue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialized&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœbridgeåˆå§‹åŒ–å®Œæˆï¼Œåˆ™ç›´æ¥æ´¾å‘ï¼Œæ‰§è¡Œ&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;handler&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å¦åˆ™ï¼Œå…ˆç¼“å­˜åœ¨é˜Ÿåˆ—é‡Œï¼Œç­‰å¾…bridgeå®Œæˆåæ´¾å‘ï¼Œæ‰§è¡Œ&lt;/span&gt;
      queue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;handler&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// æ´¾å‘ï¼Œæ‰§è¡Œæ—¶ï¼Œä¼šæä¾›bridgeå¯¹è±¡å½“ä½œç¬¬ä¸€ä¸ªå‚æ•°&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ClientBridge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_initialize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// bridgeåˆå§‹åŒ–å®Œæˆäº†ï¼Œå°±å¼€å§‹æ´¾å‘ï¼Œæ‰§è¡Œå…ˆå‰ç¼“å­˜åœ¨é˜Ÿåˆ—é‡Œçš„&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; handler &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; queue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;handler&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    queue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    initialized &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// é€šçŸ¥nativeï¼Œæ³¨å…¥bridgeå¯¹è±¡åˆ°å½“å‰çš„windowå¯¹è±¡ä¸Š&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; iframe &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;iframe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    iframe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hidden &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è¿™ä¸ªsrcä¼šè¢«nativeé‚£è¾¹æ‹¦æˆªï¼Œç„¶åæ ¹æ®host == &apos;bridgeinject&apos;,æ¥åˆ¤æ–­æ˜¯å¦æ³¨å…¥bridgeå¯¹è±¡&lt;/span&gt;
    iframe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://bridgeinject&quot;&lt;/span&gt;
    d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;iframe&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      iframe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// interface api&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; mpBridge &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ready&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ready&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    version&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _initialize&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; _initialize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mpBridge
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ˜¯æˆ‘å†™çš„ sdkï¼Œç”¨äºå®Œæˆä¸Šé¢é‚£ä¸ªæˆªå±çš„ä¾‹å­ã€‚æœ€ä¸ºä¸»è¦åŠŸèƒ½æ˜¯ç”Ÿæˆä¸€ä¸ªéšè—çš„ iframeï¼Œæ¥é€šçŸ¥ native æ³¨å…¥ bridge å¯¹è±¡åˆ° window ä¸Šï¼Œæ³¨å…¥çš„ bridge å¯¹è±¡å°±æ˜¯ ClientBridgeã€‚å®ƒæœ¬èº«è‡ªå·±ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ªå¯¹è±¡&lt;code class=&quot;language-text&quot;&gt;mpBridge&lt;/code&gt;ï¼Œç”¨æ¥æä¾›ç»™å¼€å‘äººå‘˜ã€‚å½“ç„¶ï¼Œè¿™ä¸ª sdk çš„åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œå…¶ä»–å…¬å¸çš„å¯èƒ½æ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯å®ƒç»å¯¹åŒ…å«äº†æœ€ä¸ºé‡è¦çš„åŠŸèƒ½ã€‚è¿™ä¸ªæ—¶å€™ h5 ä¸­ ClientBridge çš„åˆå§‹åŒ–æ‰ç®—å®Œæˆäº†ä¸€åŠï¼ŒClientBridge è¿˜æ²¡æœ‰è¢«çœŸæ­£åˆ›å»ºï¼ŒçœŸæ­£è¢«åˆ›å»ºçš„è¿‡ç¨‹æ˜¯åœ¨ native ä¸­å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ native ç«¯ï¼Œåœ¨ viewController ä¸­åˆ›å»ºäº† webview å¹¶å®ç°äº† navigationDelegateï¼Œå¹¶ä¸”ä¹Ÿåˆ›å»ºäº† NativeBridgeã€‚åœ¨ navigationDelegate ä¸­ï¼Œ&lt;strong&gt;æˆ‘ä»¬å¯ä»¥æ‹¦æˆª h5 ä¸­ iframe å‘é€çš„è¯·æ±‚ï¼Œç†è§£è¿™ç‚¹éå¸¸é‡è¦ï¼Œh5 ä¸ native ä¹‹é—´çš„é€šä¿¡å°±æ˜¯é€šè¿‡è¿™ä¸ªæ‹¦æˆªæ“å®Œæˆçš„&lt;/strong&gt;ï¼Œåé¢ä¼šçœ‹åˆ°å…·ä½“æ‹¦æˆªç»†èŠ‚ï¼Œæˆ‘ä»¬å…ˆçœ‹ native ç«¯ NativeBridge åˆå§‹åŒ–çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;swift&quot;&gt;&lt;pre class=&quot;language-swift&quot;&gt;&lt;code class=&quot;language-swift&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// native ä»£ç &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/// åˆ›å»ºwebview&lt;/span&gt;
webView &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;WKWebView&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;frame&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;CGRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;zero&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; configuration&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; configuration&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
webView&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navigationDelegate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/// åˆå§‹åŒ–nativeç«¯bridge&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; bridgeScriptPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Bundle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;main&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;forResource&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bridge&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ofType&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bridge &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Bridge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webView&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; webView&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; scriptURL&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fileURLWithPath&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; bridgeScriptPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ native ç«¯ï¼Œä¹Ÿä¼šç”Ÿæˆä¸€ä¸ª bridge å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡ï¼Œnative å¯ä»¥æ³¨å†Œæ¥å£å‡½æ•°ç»™ h5 è°ƒç”¨ï¼Œnative ä¹Ÿå¯ä»¥è°ƒç”¨ h5 ä¸­æ³¨å†Œçš„å‡½æ•°ã€‚é€šè¿‡ sdk ä¸­ç”Ÿæˆçš„ iframeï¼Œè§¦å‘æ³¨å…¥ h5 ç«¯ ClientBridgeï¼Œæ­¤æ—¶ï¼Œnative ç«¯æ‰å¼€å§‹æŠŠ ClientBridge æ³¨å…¥åˆ° h5 ä¸­å»ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;swift&quot;&gt;&lt;pre class=&quot;language-swift&quot;&gt;&lt;code class=&quot;language-swift&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// native ä»£ç &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;injectClientBridge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;completionHandler handler&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;EvaluateJavasriptHandler&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;contentsOf&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; scriptURL&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; code &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; encoding&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;utf8&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// æ ¸å¿ƒç‚¹å°±æ˜¯ï¼Œnativeå¯ä»¥ç›´æ¥æ‰§è¡ŒJavaScript&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;evaluateJavascript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;code&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; completionHandler&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; handler&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        handler&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;BridgeError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;injectBridgeError&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;åœ¨ native ç«¯ï¼Œå¯ä»¥ç›´æ¥ä»¥å­—ç¬¦ä¸²å½¢å¼æ‰§è¡Œ JavaScript è„šæœ¬&lt;/strong&gt;ã€‚é€šå¸¸ï¼Œä¼šå…ˆå‡†å¤‡å¥½ ClientBridge çš„è„šæœ¬ï¼Œç„¶ååœ¨ native ç›´æ¥æ‰§è¡Œï¼Œå°±å¯ä»¥å°†å®ƒæ³¨å…¥åˆ° H5 ä¸­å»äº†ã€‚æˆ‘å‡†å¤‡çš„ ClientBridge è„šæœ¬å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/*
   ClientBridge.callHandler(&apos;cmd&apos;, params, (error, data) =&gt; {

   })
*/&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;w&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; d&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å·²ç»æ³¨å…¥äº†ClientBridge&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ClientBridge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// uidè‡ªå¢ï¼Œç”¨æ¥æ ‡è®°callBackIDçš„&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; uid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// h5ä¸­æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”¨æ¥å‘é€åˆ°nativeä¸­å»çš„&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; messageQueue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// h5å›è°ƒå‡½æ•°æ˜ å°„è¡¨ï¼Œé€šè¿‡callBackIDå…³è”&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; callbacksMap &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// é€šä¿¡çš„schemeï¼Œå¯ä»¥æ˜¯å…¶ä»–å­—ç¬¦ä¸²&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; scheme &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https&quot;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// é€šä¿¡çš„hostï¼Œç”¨æ¥æ ‡è®°è¯·æ±‚æ˜¯h5é€šä¿¡å‘å‡ºçš„&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; messageHost &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bridgemessage&quot;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; messageUrl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; scheme &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;://&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; messageHost
  &lt;span class=&quot;token comment&quot;&gt;// ä¼šåˆ›å»ºä¸€ä¸ªiframeï¼Œh5å‘é€æ¶ˆæ¯ç»™nativeï¼Œé€šè¿‡iframeè§¦å‘&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; iframe &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;iframe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    i&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;hidden &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;body&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; i
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_noop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// å¤„ç†æ¥è‡ªnativeç«¯çš„æ¶ˆæ¯ï¼Œ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_handlerMessageFromNative&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;dataString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;receive message from native: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; dataString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dataString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœæœ‰responseId , åˆ™è¯´æ˜æ¶ˆæ¯æ˜¯h5è°ƒç”¨äº†nativeçš„æ¥å£ï¼Œæ ¹æ®responseIdå¯ä»¥æ‰¾åˆ°å­˜å‚¨çš„å›è°ƒå‡½æ•°ï¼Œç„¶åæ‰§è¡Œå›è°ƒï¼Œå°†æ•°æ®ä¼ é€’ç»™H5&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; callback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callbacksMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; callback &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      callbacksMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å¦åˆ™ï¼Œå°±æ˜¯nativeç›´æ¥è°ƒç”¨h5çš„æ¥å£ï¼Œ&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; callback
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;callbackId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœæœ‰callbackIdï¼Œåˆ™è¦å›å‘ç»“æœ&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;callback&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;_doSend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; responseId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;callbackId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; responseData&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; res &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å¦åˆ™ï¼Œä¸å¤„ç†&lt;/span&gt;
        callback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _noop
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// é€šè¿‡handlerName,æ‰¾åˆ°h5æ³¨å†Œå¥½çš„æ¥å£å‡½æ•°&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; handler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callbacksMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handlerName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; handler &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;receive unknown message from native:&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; dataString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// native é€šè¿‡è°ƒç”¨_fetchQueueå‡½æ•°æ¥è·å–H5ä¸­æ¶ˆæ¯é˜Ÿåˆ—é‡Œçš„æ¶ˆæ¯&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_fetchQueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; message &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;messageQueue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    messageQueue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;send message to native : &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; message
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// å‘é€æ¶ˆæ¯&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_doSend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å°†æ¶ˆæ¯åŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—é‡Œï¼Œ&lt;/span&gt;
    messageQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ç„¶åé€šè¿‡iframeè§¦å‘&lt;/span&gt;
    iframe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; messageUrl
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ClientBridgeå¯¹å¤–H5çš„å‡½æ•°ï¼Œh5å¯ä»¥é€šè¿‡callHandleræ¥è°ƒç”¨nativeä¸­çš„æ¥å£&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    uid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; uid &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      callback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data
      data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; callback &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      callback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _noop
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å…ˆç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„callbackIdï¼Œ&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; callbackId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;callback_&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; uid &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å°†å›è°ƒå‡½æ•°ä¿å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œåé¢é€šè¿‡responseIdå¯ä»¥å–å‡º&lt;/span&gt;
    callbacksMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;callbackId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callback
    &lt;span class=&quot;token comment&quot;&gt;// å‘é€&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;_doSend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; handlerName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callbackId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; callbackId &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ClientBridgeå¯¹å¤–h5çš„å‡½æ•°ï¼Œh5å¯ä»¥é€šè¿‡registerHandleræ¥æ³¨å†Œæ¥å£ï¼Œä¾›nativeæ¥è°ƒç”¨&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;registerHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ç›´æ¥å°†æ³¨å†Œçš„æ¥å£ä¿å­˜åœ¨å“ˆå¸Œè¡¨ä¸­&lt;/span&gt;
    callbacksMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callback
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// åœ¨windowä¸Šç”ŸæˆClientBridgeå¯¹è±¡&lt;/span&gt;
  w&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ClientBridge &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    callHandler&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; callHandler&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    registerHandler&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; registerHandler&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _fetchQueue&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; _fetchQueue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _handlerMessageFromNative&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; _handlerMessageFromNative&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// è°ƒç”¨sdkä¸­çš„åˆå§‹åŒ–æ–¹æ³•&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    w&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_initialize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ ¸å¿ƒåŸç†ä¹Ÿæ˜¯é€šè¿‡åœ¨ h5 ä¸­ç”Ÿæˆä¸€ä¸ª iframeï¼Œé€šè¿‡ iframe æ¥å……å½“ h5 ä¸ native ä¹‹é—´çš„ä¿¡ä½¿ã€‚&lt;code class=&quot;language-text&quot;&gt;ClientBridge.callHandler&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;ClientBridge.registerHandler&lt;/code&gt;æ˜¯æš´éœ²ç»™ h5 ç«¯ä½¿ç”¨çš„ï¼Œ&lt;code class=&quot;language-text&quot;&gt;ClientBridge._fetchQueue&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;ClientBridge._handlerMessageFromNative&lt;/code&gt;æ˜¯æä¾›ç»™ native ç«¯ä½¿ç”¨çš„ã€‚åªæœ‰å½“ native æ‰§è¡Œäº†è¿™ä¸€æ®µè„šæœ¬ï¼Œh5 ä¸­ bridge æ‰ç®—çœŸæ­£åˆå§‹åŒ–å®Œæˆã€‚&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-2&apos; &gt;
          æ‹¦æˆªè¯·æ±‚
        &lt;/h4&gt;
      
&lt;p&gt;åœ¨ native ç«¯ï¼Œé€šè¿‡å®ç° WkWebView çš„ WKNavigationDelegateï¼Œå¯ä»¥æ‹¦æˆª h5 ä¸­åŠ è½½ frame çš„è¯·æ±‚ï¼Œç„¶åé€šè¿‡è¯·æ±‚çš„ scheme å’Œ host æ¥åˆ¤æ–­æ˜¯å¦æ˜¯æˆ‘ä»¬çº¦å®šå¥½çš„ï¼Œä¾‹å¦‚ä¸Šé¢æ³¨å…¥ bridge çš„ sdk ä¸­ï¼Œæˆ‘ä»¬çº¦å®šçš„ scheme æ˜¯ httpsï¼Œhost æ˜¯ bridgeinjectã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;swift&quot;&gt;&lt;pre class=&quot;language-swift&quot;&gt;&lt;code class=&quot;language-swift&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// native éƒ¨åˆ†ä»£ç &lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/// æ­¤å‡½æ•°å°±æ˜¯æ‹¦æˆªh5ä¸­iframeå‘é€çš„è¯·æ±‚&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;webView&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;_&lt;/span&gt; webView&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;WKWebView&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; decidePolicyFor navigationAction&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;WKNavigationAction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; decisionHandler&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; @escaping &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;WKNavigationActionPolicy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;guard&lt;/span&gt; webView &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;webView&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; bridge &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bridge&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; navigationAction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;url
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;decisionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allow&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; bridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isBridgeInjectURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// å¦‚æœæ³¨å…¥bridgeçš„è¯·æ±‚ï¼Œåˆ™å¼€å§‹æ³¨å…¥bridgeåˆ°h5ä¸­&lt;/span&gt;
        bridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;injectClientBridge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;completionHandler&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// å¹¶å–æ¶ˆæ‰æœ¬æ¬¡è¯·æ±‚ï¼Œå› ä¸ºå¹¶ä¸æ˜¯çœŸæ­£çš„éœ€è¦è¯·æ±‚ï¼Œ&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;decisionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cancel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; bridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isBridgeMessageURL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// å¦‚æœæ˜¯h5ä¸nativeä¹‹é—´çš„æ¶ˆæ¯è¯·æ±‚ï¼Œåˆ™å¤„ç†h5é‚£è¾¹çš„æ¶ˆæ¯ï¼Œ&lt;/span&gt;
        bridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;flushMessageQueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// åŒæ ·çš„ï¼Œéœ€è¦å–æ¶ˆæ‰æœ¬æ¬¡è¯·æ±‚ï¼Œ&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;decisionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cancel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// å¦åˆ™ï¼Œå…¶ä»–æƒ…å†µï¼Œéƒ½æ­£å¸¸è¯·æ±‚&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;decisionHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;allow&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸Šé¢çš„ native ä¸­ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡å®ç°äº† WKNavigationDelegate ä¸­ decidePolicyForNavigationAction çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ‹¦æˆª iframe ä»¥åŠ mainFrame çš„è¯·æ±‚ï¼Œç„¶ååšå¦‚ä¸‹å¤„ç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¯·æ±‚æ˜¯æ³¨å…¥ bridge åˆ° h5 çš„è¯·æ±‚ï¼Œåˆ™å¼€å§‹å¤„ç†æ³¨å…¥ bridge å¯¹è±¡åˆ° h5 ä¸­ï¼Œå¹¶å–æ¶ˆæœ¬æ¬¡è¯·æ±‚ã€‚è¿™ä¸ªè¯·æ±‚å°±æ˜¯ä¸Šé¢ sdk ä¸­åˆ›å»ºçš„ iframe è§¦å‘çš„ã€‚å®ƒçš„è¯·æ±‚ url æ˜¯&lt;code class=&quot;language-text&quot;&gt;https://bridgeinject&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœè¯·æ±‚æ˜¯ h5 ä¸ native ä¹‹é—´é€šä¿¡çš„è¯·æ±‚ï¼Œåˆ™å¼€å§‹å¤„ç† h5 ä¸­ä¼ é€’çš„æ¶ˆæ¯ï¼Œå¹¶å–æ¶ˆæœ¬æ¬¡è¯·æ±‚ã€‚è¿™ä¸ªè¯·æ±‚ä¼šåœ¨åé¢çœ‹åˆ°ã€‚å®ƒçš„è¯·æ±‚ url æ˜¯&lt;code class=&quot;language-text&quot;&gt;https://bridgemessage&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œå°±æ˜¯æ­£å¸¸çš„ mainFrame æˆ–è€… iframe è¯·æ±‚ï¼Œæ­£å¸¸å¤„ç†è¯·æ±‚&lt;/li&gt;
&lt;/ul&gt;

        &lt;h4 id=&apos;toc-4-3&apos; &gt;
          H5 è°ƒç”¨ native æ¥å£
        &lt;/h4&gt;
      
&lt;p&gt;å…ˆæ¥çœ‹çœ‹ç¬¬ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œå°±æ˜¯ h5 è°ƒç”¨ native ä¸­çš„æ¥å£ï¼Œæ¯”å¦‚ä¾‹å­ä¸­ï¼Œh5 è°ƒç”¨ native æä¾›çš„ takeSnapshot æ¥å£å®ç°æˆªå±åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œnative ç«¯å¿…é¡»å…ˆæ³¨å†Œå¥½ takeSnapshot æ¥å£ï¼Œè¿™æ · h5 æ‰èƒ½ä½¿ç”¨ã€‚native ç«¯æ³¨å†Œ takeSnapshot æ¥å£ä»£ç å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;swift&quot;&gt;&lt;pre class=&quot;language-swift&quot;&gt;&lt;code class=&quot;language-swift&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// nativeç«¯ï¼Œé€šè¿‡NativeBridgeæ³¨å†ŒtakeSnapshotæ¥å£&lt;/span&gt;
bridge&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;takeSnapshot&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token number&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/// è°ƒç”¨webViewçš„takeSnapshotå‡½æ•°å®ç°æˆªå±&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;webView&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;takeSnapshot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;with&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        image&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; fileName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;snapshot&quot;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; image &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; image&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;Bridge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;HandlerResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å°†å¾—åˆ°çš„UIimageä¿å­˜åˆ°cache fileç›®å½•ä¸‹&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;LocalStore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;storeCacheImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;image&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fileName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fileName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;Bridge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;HandlerResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ç”Ÿæˆsrcï¼Œæä¾›ç»™h5&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;ImageBridge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generateSRC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fileName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; fileName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;Bridge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;HandlerResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fail&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// ç”Ÿæˆè¿”å›æ•°æ®ï¼ŒåŒ…å«src&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Bridge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;HandlerResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;success&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; src&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è‡³äº native ç«¯çš„ NativeBridge å®ç°ç»†èŠ‚ï¼Œå…¶å®ä¸ ClientBridge æ€è·¯ä¸€æ ·çš„ï¼Œå¤§è‡´ä¹Ÿæ˜¯æœ‰ä¸€ä¸ªå­—å…¸ä¿å­˜æ³¨å†Œçš„å‡½æ•°ï¼Œç„¶åæ ¹æ® h5 è°ƒç”¨ handlerName æ¥æŸ¥æ‰¾å‡ºè¿™ä¸ªå‡½æ•°ï¼Œç„¶åæ‰§è¡Œï¼Œå…·ä½“ç»†èŠ‚å°±ä¸è¯´äº†ï¼Œæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹&lt;a href=&quot;https://github.com/snayan/MusicPlayer/blob/master/MusicPlayer/bridge/Bridge.swift&quot;&gt;è¿™é‡Œ&lt;/a&gt;ã€‚å¯ä»¥çœ‹åˆ°ï¼Œh5 ä¸ native ä¸¤è¾¹å¿…é¡»æä¾›ç›¸åŒçš„ handlerNameã€‚é€šå¸¸å‘¢ï¼Œè¿™ä¸ª handlerName æ˜¯ native å¼€å‘äººå‘˜å®šä¹‰å¥½çš„ï¼Œç„¶å H5 å¼€å‘äººå‘˜æŒ‰ç…§æ–‡æ¡£ä½¿ç”¨ã€‚native å®šä¹‰å¥½äº†æ¥å£ï¼Œé‚£ä¹ˆ h5 è¿™è¾¹å°±éœ€è¦è°ƒç”¨äº†ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// h5ç«¯ï¼Œè°ƒç”¨nativeå®šä¹‰çš„æ¥å£&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;bridge&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    bridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;callHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;takeSnapshot&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; status&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            src&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;h5 åœ¨è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;bridge.callHandler&lt;/code&gt;æ—¶ï¼Œç”Ÿæˆå”¯ä¸€çš„ callbackIdï¼Œå¹¶å°†å›è°ƒä¿å­˜åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œç„¶åé€šè¿‡ iframe è§¦å‘é€šçŸ¥ nativeã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  uid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; uid &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    callback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data
    data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; callback &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    callback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _noop
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„callbackId&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; callbackId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;callback_&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; uid &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å°†å›è°ƒå‡½æ•°ä¿å­˜åœ¨å“ˆå¸Œè¡¨ä¸­&lt;/span&gt;
  callbacksMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;callbackId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callback
  &lt;span class=&quot;token comment&quot;&gt;// è§¦å‘iframeå‘é€æ¶ˆæ¯&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;_doSend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; handlerName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callbackId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; callbackId &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;native é€šè¿‡æ‹¦æˆª iframe çš„è¯·æ±‚ï¼Œåˆ¤æ–­æ˜¯å¦ h5 ä¸­é€šä¿¡è¯·æ±‚ï¼Œå¦‚æœæ˜¯å°±å¼€å§‹å¤„ç†ï¼Œå¤„ç†è¿‡ç¨‹å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;swift&quot;&gt;&lt;pre class=&quot;language-swift&quot;&gt;&lt;code class=&quot;language-swift&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//native æ ¸å¿ƒä»£ç å¦‚ä¸‹&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;flushMessageQueue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// æ‰§è¡ŒClientBridge._fetchQueue,è·å–h5ä¸­æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ•°æ®&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;evaluateJavascript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ClientBridge._fetchQueue()&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
         &lt;span class=&quot;token comment&quot;&gt;// è½¬æˆjson&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; jsonData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;JSONSerialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;jsonObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;with&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; messages &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; jsonData &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;BridgeData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; message &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; messages &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; callbackId &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  message&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;callbackId&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token comment&quot;&gt;/// ç”ŸæˆRequestMesageï¼Œè°ƒç”¨nativeæ¥å£&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resumeWebCallHandlerMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;RequestMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;handlerName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;handlerName&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;BridgeData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callbackId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; callbackId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è·å–äº† h5 ä¸­æ¶ˆæ¯ä¹‹åï¼Œåˆ¤æ–­æ¶ˆæ¯ä¸­æ˜¯å¦åŒ…å«äº† callbackIdï¼Œå¦‚æœåŒ…å«äº†ï¼Œåˆ™è¯´æ˜æ˜¯ h5 å‘é€çš„ä¸€ä¸ª RequestMessageã€‚é€šè¿‡ handlerName å–å‡º native æ³¨å†Œå¥½çš„æ¥å£å‡½æ•°ï¼Œç„¶åæ‰§è¡Œï¼Œå¹¶è¿”å›ç»“æœã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;swift&quot;&gt;&lt;pre class=&quot;language-swift&quot;&gt;&lt;code class=&quot;language-swift&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;resumeWebCallHandlerMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;_&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;RequestMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// é€šè¿‡handlerNameæ‹¿åˆ°nativeæ³¨å†Œçš„æ¥å£ï¼Œ&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handlerName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; handler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;responseHandlersMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;debugPrint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;unkown handler name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ç„¶åæ‰§è¡Œæ¥å£ï¼Œå¹¶è¿”å›æ•°æ®&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        result &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// callbackIdå¯¹åº”å˜æˆäº†responseIdï¼Œè¿”å›çš„æ•°æ®åœ¨responseDataä¸­&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; responseMessage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ResponseMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;responseData&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; responseId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;callbackId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendToWeb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;responseMessage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœ€åï¼Œnative é€šè¿‡æ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;ClientBridge._handlerMessageFromNative&lt;/code&gt;æ¥å°†ç»“æœè¿”å›ç»™ h5ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;swift&quot;&gt;&lt;pre class=&quot;language-swift&quot;&gt;&lt;code class=&quot;language-swift&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// å°†æ¶ˆæ¯å‘é€ç»™h5ç«¯&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sendToWeb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;_&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;MessageProtocol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// å…ˆåºåˆ—åŒ–jsonæ•°æ®&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;JSONSerialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;withJSONObject&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;serialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; encoding&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;utf8&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// æœ€åæ‰§è¡ŒClientBridge._handlerMessageFromNative&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;evaluateJavascript&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token delimiter variable&quot;&gt;\(&lt;/span&gt;clientBridgeName&lt;span class=&quot;token delimiter variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;._handlerMessageFromNative(&apos;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token delimiter variable&quot;&gt;\(&lt;/span&gt;result&lt;span class=&quot;token delimiter variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&apos;)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; completionHandler&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
                                                                                                            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;debugPrint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h4 id=&apos;toc-4-4&apos; &gt;
          native è°ƒç”¨ h5 æ¥å£
        &lt;/h4&gt;
      
&lt;p&gt;å†æ¥çœ‹çœ‹ç¬¬äºŒç§é€šä¿¡æ–¹å¼ï¼Œå°±æ˜¯ native è°ƒç”¨ h5 ç«¯çš„æ¥å£ï¼Œæ¯”å¦‚ h5 ä¸­ä¼šæ³¨å†Œä¸€ä¸ªç›‘å¬å¯¼èˆªæ¡ä¸Šçš„è¿”å›æŒ‰é’®çš„å‡½æ•°ï¼Œæ¯”è¾ƒå«åš onBackEventï¼Œnative é€šè¿‡è°ƒç”¨ h5 ä¸­ onBackEvent çš„æ¥å£å‡½æ•°ï¼Œå†³å®šæ˜¯å¦ç›´æ¥å…³é—­å½“å‰ webViewã€‚&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼çš„ï¼Œh5 ä¸­å¿…é¡»å…ˆæ³¨å†Œ onBackEvent æ¥å£ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mpBridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;bridge&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    bridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;onBackEvent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// do something,&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// è¿”å›true åˆ™ç›´æ¥å…³é—­å½“å‰webViewï¼Œfalse åˆ™ä¸å…³é—­å½“å‰webView&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç„¶åï¼Œåœ¨ native ä¸­ç›‘å¬å¯¼èˆªæ¡é‚£ä¸ªè¿”å›æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ä¸­ï¼Œè°ƒç”¨ h5 çš„ onBackEventï¼Œæ ¹æ®ç»“æœæ¥å†³å®šæ˜¯å¦å…³é—­å½“å‰ webViewã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;swift&quot;&gt;&lt;pre class=&quot;language-swift&quot;&gt;&lt;code class=&quot;language-swift&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// å¯¼èˆªæ¡è¿”å›æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶&lt;/span&gt;
&lt;span class=&quot;token atrule&quot;&gt;@objc&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleBackTap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; bridge &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bridge &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;/// è°ƒç”¨h5ä¸­æ³¨å†Œçš„onBackEventå‡½æ•°ï¼Œ&lt;/span&gt;
        bridge&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;callHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;onBackEvent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            data &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pop &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Bool&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœä¸ºtrueï¼Œåˆ™å…³é—­å½“å‰webView&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; pop &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navigationController&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;popViewController&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animated&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navigationController&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;popViewController&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animated&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;NativeBridge ä¸­çš„ callHandler å‡½æ•°å®ç°æ€è·¯å’Œ h5 ä¸­çš„ä¸€æ ·ï¼Œä¹Ÿæ˜¯ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ callbackIdï¼Œç„¶åå°†å›è°ƒä¿å­˜åœ¨å­—å…¸è¡¨ä¸­ï¼Œå†å°†æ¶ˆæ¯å‘é€åˆ° h5ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;swift&quot;&gt;&lt;pre class=&quot;language-swift&quot;&gt;&lt;code class=&quot;language-swift&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/// native ç«¯ callHandlerçš„å®ç°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;_&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; @escaping &lt;span class=&quot;token builtin&quot;&gt;RequestCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„callbackId&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; uuid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;UUID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;uuidString
    &lt;span class=&quot;token comment&quot;&gt;// å°†å›è°ƒä¿å­˜åœ¨å­—å…¸è¡¨ä¸­&lt;/span&gt;
    requestHandlersMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;uuid&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callback
    &lt;span class=&quot;token comment&quot;&gt;// ç”Ÿæˆä¸€ä¸ªrequestmessageï¼Œ&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; requestMessage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;RequestMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;handlerName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callbackId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; uuid&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ç„¶åå‘é€åˆ°h5å»&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;sendToWeb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;requestMessage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;h5 è¿™è¾¹é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;ClientBridge._handlerMessageFromNative&lt;/code&gt; å¯ä»¥æ¥å—è¿™ä¸ªæ¶ˆæ¯ï¼Œç„¶åæ ¹æ® handlerName æŸ¥æ‰¾åˆ° h5 å·²ç»æ³¨å†Œçš„æ¥å£å‡½æ•°ï¼Œæœ€åæ‰§è¡Œå¹¶è¿”å›æ•°æ®ç»™ nativeã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// native call web&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; callback
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;callbackId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœæœ‰callbackIdï¼Œåˆ™è¦å›å‘ç»“æœ&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;callback&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;_doSend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; responseId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;callbackId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; responseData&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; res &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¦åˆ™ï¼Œä¸å¤„ç†&lt;/span&gt;
  callback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; _noop
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; handler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; callbacksMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handlerName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; handler &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;receive unknown message from native:&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; dataString&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h4 id=&apos;toc-4-5&apos; &gt;
          é€šä¿¡æµç¨‹å›¾
        &lt;/h4&gt;
      
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c78f3d5d8d1f9a327267e7a657ea5206/207b7/WebViewJavascriptBridge.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 150.5903723887375%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAFdElEQVRIx3VV2Y4bRRT1X/Ex/AEP8ACKEIhISDwinniJFCkSUoQCUYISERLIZPPMeGvvdntrt3tv71t7GY/bfThVPc5kiLB0dLuq7j11z63yrUQEQED8DocIq9U6HochYDuA3wc8P4YYE1G7A5imjAkZswxWuNyHcpyQdNFO4mK9gGvriPZbRCGBPaLo8hqILTgvY/YbhBcBXFPDJpjK1BJbpwCv+Bxr/YzZ5BF5irQHV0Hk5m4gdHLAIIecksatB2XcflRFT81hbWSxtegzrCARWmfYGSkcnCxCO4sLfkOQegz2lQ+Qj20/j6H6FsXkM+il15hoWdi9NiZGFYfeX0hEbpqOBSKHuVWFbXQRmHmse2nMtDQW3ZTMft09xUpLShvajHEziOwULs2UnEO/hEv9OQmdNOUoMqudlcXOzGCs5fDV/Rx+eFLH7cd1qMVT7HtJLNrvsBGloe9BliEuy97kXL+I/XtCLybcGhnMmdVaT+Hd019QT/4Bu3yCpXYa1/eKIBTlIUSZLswsJu0UtjYJe4LQJjud4GUwM0ow9Y6UutHeIOi8xar9hjU+kzL3VopIIxTg+GCdY97NwrN0jHs1hDpriFkHB6+I0CthZyvYUDL8EjCqEhVKqci10P0/MDM7T1tANNOQmPaX0CsmTNWB2xhj1JqhXPDw9e86vntkIJOz4Tc9rnuwGh/DFrbuwlJdzIYrJJqKjtybMmrpDjLZU5ycP0YyeYZfH6bx54s6SkoHTs9Dt27BqPowaj7MWmwF9KoDs+HA4IZawUKiV3W5u89dhrj78lt8+fgTPHpzB265Dy3fQUftoD/y0W33oJUsNJQuSmcqqpkWOkULaqENrdOF1uihkdavCOvcre7BqY/h1Wew1RHHfgwhtRVboxbDJBxVwEev5qKZ1+nrop0zPiCUElz0KOEYGIPz1SsryOpCpodKwUVRsdEsk0w30G3+J0NJKgLluP9+TkK9Wif85gDnaROf3VPxxX0dKX6bVUsqbH2YYbfCSc2C1bWgqXG99Ioj0S3bV4jnWpSovM6jdq6iXe6i0+zCaDPbTO+aUJxWu6KjRQdhuxVbyhcEtUxbopJqSnRKJjRu0C7Q8sq1Khp01UIzS0IRYNbjQus1Zlc3KNGV46NkS72J6/mr0rBU4ruTN5Ho96bMok85JGza/Ou5vHMiM3EIfZ4iUb0JMW/VxFWLD7NHQuE/MKf8L4cX2E017CZtrAdNrPyGtOth42MMYhtwfeR1MHBbWPZVBH4Fq2ETB3bwxH6pYmq+wMw+ARZsFEtixX63YsMIsrE9IiAucrDYHG49zOKbJ2UM/SKfghawKSNat9ixF2VsBknMnSSGNh3sCpHHbszOMs3gcpLBBb8FtqNzOV66b9FSfsPCeIVa6x4eZD5HqvETN21QcsCuslIQzhRM+w1MBy1MKeGSZPtZTtoFCQRm1mtpxUb7ObOfF1DV7uLOu09xUvmePM2YMFpkCTbYURpLjy2eRNgIeQxas/kG+ZtYKtdYM6GtRv86oqCOxEFkuGTnHWcxHpjwXR0DFlxpFfGyUobnXtVvyZa/+BgHJrOfsdnO0zGhlMxJsdvlhJ14lsGKmf789BV+fJZDQeVDxPptRhlJikD5T6YkZgwWfLRWR0JmuJtkMfRafLQbGDo1bJ2/geE/GPBRcv0xXMdC0BeHQvLBmTyg/TSFkZWBY7Qwcoo4LKvXhKJu6zHvE7EecXHBtk5Jm3EBq7mFFe/qfipKcy4PZt0/RcSD2bJUC77V2zHlB7WbkgWxvHtBXJ+jpMMsxeB0PBaSV0fJOf4pCpgPqGhyzHDrMpj66SxO+hrHwgvSuF43DyROIBgW4dttXrUyDhsL/wK+eICLIsIKBQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c78f3d5d8d1f9a327267e7a657ea5206/cc182/WebViewJavascriptBridge.webp 148w,
/static/c78f3d5d8d1f9a327267e7a657ea5206/f7e40/WebViewJavascriptBridge.webp 295w,
/static/c78f3d5d8d1f9a327267e7a657ea5206/1a2f4/WebViewJavascriptBridge.webp 590w,
/static/c78f3d5d8d1f9a327267e7a657ea5206/4837b/WebViewJavascriptBridge.webp 885w,
/static/c78f3d5d8d1f9a327267e7a657ea5206/0abb4/WebViewJavascriptBridge.webp 1101w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c78f3d5d8d1f9a327267e7a657ea5206/cf440/WebViewJavascriptBridge.png 148w,
/static/c78f3d5d8d1f9a327267e7a657ea5206/d2d38/WebViewJavascriptBridge.png 295w,
/static/c78f3d5d8d1f9a327267e7a657ea5206/b9e4f/WebViewJavascriptBridge.png 590w,
/static/c78f3d5d8d1f9a327267e7a657ea5206/f9b6a/WebViewJavascriptBridge.png 885w,
/static/c78f3d5d8d1f9a327267e7a657ea5206/207b7/WebViewJavascriptBridge.png 1101w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/c78f3d5d8d1f9a327267e7a657ea5206/b9e4f/WebViewJavascriptBridge.png&quot;
          alt=&quot;WebViewJavascriptBridgeåŸç†å›¾&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-6&apos; &gt;
          å±•ç¤ºæˆªå±å›¾ç‰‡
        &lt;/h4&gt;
      
&lt;p&gt;å…¶å®ï¼Œåœ¨ h5 è°ƒç”¨ native ä¸­ takeSnapshot æ¥å£åï¼Œnative å®ç°äº†æˆªå±ï¼Œè·å¾—åˆ° UIImageï¼Œæœ‰ä¸¤ç§è¿”å›å¯ä»¥è¿”å›æ•°æ®ç»™ h5&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;native ç›´æ¥è¿”å›å›¾ç‰‡çš„ base64 æ•°æ®ï¼Œh5 ç«¯ç›´æ¥å±•ç¤º&lt;/li&gt;
&lt;li&gt;native ç°å°†å›¾ç‰‡å­˜åœ¨ cache ç›®å½•é‡Œï¼Œç”Ÿæˆä¸€ä¸ª srcï¼Œè¿”å›ç»™ h5ï¼Œh5 è¯·æ±‚è¿™ä¸ª src çš„å›¾ç‰‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¶ä¸­ç¬¬ä¸€ç§æ–¹å¼ç®€å•ï¼Œä½†æ˜¯å›¾ç‰‡ç›´æ¥ç”Ÿæˆçš„ base64 æ ¼å¼ï¼Œæ•°æ®å¤ªå¤§ï¼Œå¯¹äºä¼ é€’å’Œè°ƒè¯•æä¸ºä¸æ–¹ä¾¿ã€‚ç¬¬äºŒç§æ–¹å¼ï¼Œéº»çƒ¦ä¸€ç‚¹ï¼Œç”Ÿæˆçš„ src åˆå¿…é¡»æ˜¯ä¸€ä¸ªçº¦å®šå¥½çš„ scheme æ ¼å¼ï¼Œnative åˆé€šè¿‡æ‹¦æˆªè¯·æ±‚ï¼Œç„¶åä» cache ç›®å½•é‡Œæ‹¿åˆ°å›¾ç‰‡ï¼Œä½œä¸º response è¿”å›ã€‚è¿™æ¬¡çš„æ‹¦æˆªä¸ iframe çš„æ‹¦æˆªæ–¹å¼åˆä¸åŒï¼Œæ˜¯é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;WKWebViewConfiguration.setURLSchemeHandler&lt;/code&gt;æ¥å®ç°çš„ï¼Œå…·ä½“å°±ä¸è¯¦ç»†è®¨è®ºäº†ï¼Œæ„Ÿå…´è¶£å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://github.com/snayan/MusicPlayer/blob/master/MusicPlayer/Controllers/MPWebViewController.swift#L56-L58&quot;&gt;è¿™é‡Œ&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-7&apos; &gt;
          å°ç»“
        &lt;/h4&gt;
      
&lt;p&gt;é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œè¯¦ç»†çš„è®¨è®ºäº† h5 ä¸ native ä¹‹é—´çš„é€šä¿¡æ–¹å¼ï¼Œæ ¸å¿ƒåŸç†å¦‚ä¸‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;native å¯ä»¥ç›´æ¥æ‰§è¡Œ JavaScript å­—ç¬¦ä¸²å½¢å¼æ‰§è¡Œ js è„šæœ¬ï¼Œä¸ h5 é€šä¿¡&lt;/li&gt;
&lt;li&gt;native å¯ä»¥æ‹¦æˆª iframe çš„è¯·æ±‚ï¼Œæ‰§è¡Œ h5 çš„é€šä¿¡è¯·æ±‚&lt;/li&gt;
&lt;li&gt;h5 é€šè¿‡ iframe æ¥å‘é€æ•°æ®ç»™ native&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[ç†è§£virtual domçš„å®ç°ç»†èŠ‚-snabbdom]]></title><description><![CDATA[æœ€è¿‘æƒ³äº†è§£ä¸€ä¸‹ React å’Œ Vue æ¡†æ¶åˆ†åˆ«åœ¨ virtual dom éƒ¨åˆ†çš„å®ç°ï¼Œä»¥åŠä»–ä»¬çš„ä¸åŒä¹‹å¤„ã€‚äºæ˜¯å…ˆç¿»å¼€ Vue çš„æºç å»æ‰¾ virtual dom çš„å®ç°ï¼Œçœ‹åˆ°å¼€å¤´ï¼Œå®ƒå°±æåˆ°äº† Vue çš„ virtual dom æ›´æ–°ç®—æ³•æ˜¯åŸºäº Snabbdomâ€¦]]></description><link>https://snayan.github.io//post/understand_the_details_of_vritual_dom_snabbdom/</link><guid isPermaLink="false">https://snayan.github.io//post/understand_the_details_of_vritual_dom_snabbdom/</guid><pubDate>Mon, 31 Dec 2018 10:30:36 GMT</pubDate><content:encoded>&lt;p&gt;æœ€è¿‘æƒ³äº†è§£ä¸€ä¸‹ React å’Œ Vue æ¡†æ¶åˆ†åˆ«åœ¨ virtual dom éƒ¨åˆ†çš„å®ç°ï¼Œä»¥åŠä»–ä»¬çš„ä¸åŒä¹‹å¤„ã€‚äºæ˜¯å…ˆç¿»å¼€ Vue çš„æºç å»æ‰¾ virtual dom çš„å®ç°ï¼Œçœ‹åˆ°å¼€å¤´ï¼Œå®ƒå°±æåˆ°äº† Vue çš„ virtual dom æ›´æ–°ç®—æ³•æ˜¯åŸºäº Snabbdom å®ç°çš„ã€‚äºæ˜¯ï¼Œåˆå»å…‹éš†äº† Snabbdom çš„æºç ï¼Œå‘ç°å®ƒçš„æºç å¹¶ä¸æ˜¯å¾ˆå¤æ‚å¹¶ä¸”æ˜Ÿæ˜Ÿ ğŸŒŸ è¿˜å¾ˆå¤šï¼Œæ‰€ä»¥å°±ä»”ç»†çœ‹äº†ä¸€éäº†ï¼Œè¿™é‡Œå°±å°†è¯¦ç»†å­¦ä¹ ä¸€ä¸‹å®ƒæ˜¯å¦‚ä½•å®ç° virtual dom çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Snabbdom çš„ GitHub ä¸Šå°±è§£é‡Šäº†ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®ç° virtual dom çš„åº“ï¼Œç®€å•åŒ–ï¼Œæ¨¡å—åŒ–ï¼Œä»¥åŠå¼ºå¤§çš„ç‰¹æ€§å’Œæ€§èƒ½ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A virtual DOM library with focus on simplicity, modularity, powerful features and performance.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/snabbdom/snabbdom&quot;&gt;è¿™é‡Œæ˜¯ Snabbdom çš„ä»“åº“åœ°å€&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          init
        &lt;/h3&gt;
      
&lt;!--more--&gt;
&lt;p&gt;Snabbdom çš„ç®€å•æ˜¯åŸºäºå®ƒçš„æ¨¡å—åŒ–ï¼Œå®ƒå¯¹ virtual dom çš„è®¾è®¡éå¸¸å·§å¦™ï¼Œåœ¨æ ¸å¿ƒé€»è¾‘ä¸­åªä¼šä¸“æ³¨äº vNode çš„æ›´æ–°ç®—æ³•è®¡ç®—ï¼Œè€ŒæŠŠæ¯ä¸ªèŠ‚ç‚¹å…·ä½“è¦æ›´æ–°çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚&lt;code class=&quot;language-text&quot;&gt;props&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;class&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;styles&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;datalist&lt;/code&gt;ç­‰æ”¾åœ¨ç‹¬ç«‹çš„æ¨¡å—é‡Œï¼Œé€šè¿‡åœ¨ä¸åŒæ—¶æœºè§¦å‘ä¸åŒ module çš„é’©å­å‡½æ•°å»å®Œæˆã€‚é€šè¿‡è¿™æ ·çš„æ–¹å¼è§£è€¦ï¼Œä¸ä»…å¯ä»¥ä½¿ä»£ç ç»„ç»‡ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œæ›´å¯ä»¥ä½¿å¾—æ¯ä¸€éƒ¨åˆ†éƒ½ä¸“æ³¨äºå®ç°ç‰¹å®šçš„åŠŸèƒ½ï¼Œåœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œè¿™ä¸ªä¹Ÿå«åšå•ä¸€èŒè´£åŸåˆ™ã€‚åœ¨å®é™…åœºæ™¯ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åªå¼•å…¥éœ€è¦ç”¨åˆ°çš„ç‰¹å®šæ¨¡å—ã€‚æ¯”å¦‚æˆ‘ä»¬åªä¼šæ›´æ–°èŠ‚ç‚¹çš„ç±»åå’Œæ ·å¼ï¼Œè€Œä¸å…³å¿ƒå±æ€§ä»¥åŠäº‹ä»¶ï¼Œé‚£ä¹ˆå°±åªéœ€è¦å¼•ç”¨ class å’Œ style çš„æ¨¡å—å°±å¯ä»¥äº†ã€‚ä¾‹å¦‚ä¸‹é¢è¿™æ ·ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è¿™é‡Œæˆ‘ä»¬åªéœ€è¦ç”¨åˆ°classå’Œstyleæ¨¡å—ï¼Œæ‰€ä»¥å°±å¯ä»¥åªéœ€è¦å¼•ç”¨è¿™2ä¸ªæ¨¡å—&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; patch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; snabbdom&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;snabbdom/modules/class&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;default&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;snabbdom/modules/style&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;default&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®ƒçš„æ ¸å¿ƒæ–¹æ³•å°±æ˜¯è¿™ä¸ª&lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•çœ‹ä¸€ä¸‹è¿™ä¸ªå‡½æ•°çš„å®ç°ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è¿™é‡Œæ˜¯moduleä¸­çš„é’©å­å‡½æ•°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hooks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;create&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;update&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;remove&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;destroy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;pre&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;modules&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Partial&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Module&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; domApi&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DOMAPI&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    j&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    cbs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; ModuleHooks
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; api&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DOMAPI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; domApi &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; undefined &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; domApi &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; htmlDomApi
  &lt;span class=&quot;token comment&quot;&gt;// cbså­˜å‚¨äº†å¼•å…¥çš„modulesä¸­å®šä¹‰çš„é’©å­å‡½æ•°ï¼Œ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; hooks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cbs&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;hooks&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;j &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; j &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; modules&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hook &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; modules&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;hooks&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hook &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        cbs&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;hooks&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hook&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// è¿˜å®šä¹‰äº†ä¸€äº›å…¶ä»–çš„å†…éƒ¨æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•éƒ½æ˜¯æœåŠ¡äºpatch&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;emptyNodeAt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createRmCb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createElm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addVnodes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;invokeDestroyHook&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;removeVnodes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateChildren&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;patchVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/* ... */&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// initè¿”å›äº†ä¸€ä¸ªpatchå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—2ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å°†è¢«æ›´æ–°çš„vNodeæˆ–è€…çœŸå®domèŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªæ˜¯ç”¨æ¥æ›´æ–°çš„æ–°çš„vNode&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;patch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VNode &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Element&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VNode &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»&lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;å‡½æ•°æ•´ä½“æ¥çœ‹ï¼Œå®ƒæ¥å—ä¸€ä¸ª modules æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°&lt;code class=&quot;language-text&quot;&gt;patch&lt;/code&gt;ã€‚è¿™ä¸å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„é—­åŒ…å‡½æ•°å—ï¼Ÿåœ¨&lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;ä¸­ï¼Œå®ƒä¼šå°†å¼•å…¥æ¨¡å—çš„é’©å­å‡½æ•°é€šè¿‡éå†å­˜å‚¨åœ¨&lt;code class=&quot;language-text&quot;&gt;cbs&lt;/code&gt;å˜é‡é‡Œï¼Œåé¢åœ¨æ‰§è¡Œæ›´æ–°ç®—æ³•æ—¶ä¼šç›¸åº”çš„è§¦å‘è¿™äº›é’©å­å‡½æ•°ã€‚åªéœ€è¦åˆå§‹åŒ–ä¸€æ¬¡ï¼Œåé¢ virtual dom çš„æ›´æ–°éƒ½æ˜¯é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;patch&lt;/code&gt;æ¥å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;æµç¨‹å›¾å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/720190efae0f3770bf6ccfb58a5a8c47/332be/main.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 120px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 242.50000000000003%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAxCAIAAABVih7fAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD+klEQVRIx7VWWW/TQBD2T0fiL/COEA+oD0g8FSjQA6pC6N2kZxzncOMr8RnH98G3u/GRJmmDqq5GyXp2xzszO9985vI8zzL85GN72uyqp7xcSVuee+TlM15uD/UoTnM6OGqYu34Ibb7GsFxfkE12JJfRcwea7XghJnGSJmmWZtk0iMyJ74exjVlMlEQScmZPMb0goidT445keGHM3s00fdXaOuS/HfEHrUEYJw+WbDeojO9HDs4pl5kLOBKbwigpfWargmwEVMkxLdy7FcdRUrhHPc/oXkyYJk6JpWq6XaWImfxRe2cawHnEU4ogGcd3EibdUiMbomanhXdc5dJCYtM0w+sWl8pH7kE8D4y77FbqlrVt3CNXutS4Pp5nnK0YMMH1Xg9G1NPlY/nJZTG8erfziGtcT7FQITWxqTiS7vBDfbNxJ+surmd+D9vmcKi+JE0nfugFMSp2ysQP2SSKk4kXuhA/xAQy9bEakZp3Aw4oy2dllKazaGfZWry8MihScEnKtbraeUf5sN38cyUe3gzPOvJAtdr3+vapcHA5+HnRO7qV9s57f2+GP04EFBzeaTgewgH+uYuOMrKmra6qOx60mjUFBgESxZhoposlSZ9IY2c4dljkuAIAExWOGLkLQYVB4/r+6HaI9NIatuDL4e0QTqGZwAy+4Jzr/gjggYNXfe1mMALa4Lbak82Pe5fQsi5z0pbgFZxEFHC4cSXuN/u/L8WDSxEHbOy24Dwalh9GHLayhK2q8FWDJGy/OYBLiErWJxBcL5swGWiWTGOmG4o9Y2yb4Ko5ZxqabmAtE8PxEby9esMTwOgpL4eqR4yTFZ1kvZOzDDf838bswlTDffvl5DFIlruDMC7FDyIEjGPffGqgGPFYW4qjggNmTR81CPSCdJChstHiEfq+QmqW6OmSOLJbPW2ObsBdQY0ZVo2CXmyApzIGJALCVRnipGXkENwHES0GH4ADnoAqTJixUzcGkhAJyvVzo7171gUSto74r4c8UA1IfD/ubP6929hpNQV1iTFOZlSIaiUdxw/Htuf6VSeCHr+M9JAIxscVxcIGGa6ENSbabug/aT0R5WdkrqTYnHEfst1XQWWzxGLSKYhOkGcCPXxEJ6AJeqq2hXXKcykhoDzAqaxO64M21pcmOuEZkEwZJPMnjRcZHMB4/X5vPeMss2v9CWWALocGPPHIBxlTsi+z8qTKmH2sKEXfRIvEb72xQkAjYKLio6soEs0ktLJO30YWUU6sz5fAMGf+kGtM6etcEAgBuWoV/EkKFkviIqr8+c9HUByI5heI5krM5vmEGodVbY8tEts6bgMe/L3OtlUJ4yUD+Si/ACBoFwyJdUHCWEuA+T/jRgYSeg3yowAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/720190efae0f3770bf6ccfb58a5a8c47/e7272/main.webp 120w&quot;
          sizes=&quot;(max-width: 120px) 100vw, 120px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/720190efae0f3770bf6ccfb58a5a8c47/332be/main.png 120w&quot;
          sizes=&quot;(max-width: 120px) 100vw, 120px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/720190efae0f3770bf6ccfb58a5a8c47/332be/main.png&quot;
          alt=&quot;main&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          patch
        &lt;/h3&gt;
      
&lt;p&gt;æœ€ä¸ºå¤æ‚ä¹Ÿæœ€ä¸ºè€—æ—¶çš„éƒ¨åˆ†å°±æ˜¯å¦‚ä½•å®ç° virtual dom çš„æ›´æ–°ï¼Œæ›´æ–°ç®—æ³•çš„å¥½åç›´æ¥å½±å“æ•´ä¸ªæ¡†æ¶çš„æ€§èƒ½ï¼Œæ¯”å¦‚ React ä¸­çš„ react-reconciler æ¨¡å—ï¼Œåˆ° vue ä¸­çš„ vdom æ¨¡å—ï¼Œéƒ½æ˜¯æœ€å¤§å¯èƒ½ä¼˜åŒ–è¿™ä¸€éƒ¨åˆ†ã€‚åœ¨ Snabbdom ä¸­ virtual dom çš„æ›´æ–°é€»è¾‘å¤§è‡´å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è¿™ä¸ªpatchå°±æ˜¯initè¿”å›çš„&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;patch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; vnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ç¬¬ä¸€æ­¥ï¼šå¦‚æœoldVnodeæ˜¯Elementï¼Œåˆ™æ ¹æ®Elementåˆ›å»ºä¸€ä¸ªç©ºçš„vnodeï¼Œè¿™ä¸ªä¹Ÿæ˜¯vnode treeçš„æ ¹èŠ‚ç‚¹&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    oldVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;emptyAtNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ç¬¬äºŒæ­¥ï¼šåˆ¤æ–­oldVnodeæ˜¯å¦ä¸vnodeç›¸åŒçš„å…ƒç´ ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ›´æ–°å…ƒç´ å³å¯ã€‚&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è¿™é‡Œåˆ¤æ–­å®ƒä»¬æ˜¯å¦ç›¸åŒï¼Œæ˜¯å¯¹æ¯”äº†å®ƒä»¬çš„keyç›¸åŒä¸”tagNameç›¸åŒä¸”IDå±æ€§ç›¸åŒä¸”ç±»ç›¸åŒ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sameVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;patchVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ç¬¬ä¸‰æ­¥ï¼šå¦‚æœä¸ç›¸åŒï¼Œåˆ™ç›´æ¥ç”¨vnodeåˆ›å»ºæ–°çš„elementå…ƒç´ æ›¿æ¢oldVnodeï¼Œä¸”åˆ é™¤æ‰oldVnodeã€‚&lt;/span&gt;
    elm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm
    parent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parentNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;createElm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;vnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parent &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertBefore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;nextSlibing&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;removeVnodes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;patch&lt;/code&gt;é€»è¾‘å¯ä»¥ç®€åŒ–ä¸ºä¸‹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœ oldVnode æ˜¯ Element ç±»å‹ï¼Œåˆ™æ ¹æ® oldVnode åˆ›å»ºä¸€ä¸ªç©º vnodeï¼Œè¿™ä¸ªç©º vnode ä¹Ÿæ˜¯è¿™ä¸ª vnode tree çš„ root èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒ oldVnode ä¸ vnodeï¼Œå¦‚æœæ˜¯åŒä¸€ä¸ª vnodeï¼ˆkey å€¼ç›¸åŒï¼‰æˆ–è€…æ˜¯ç›¸åŒç±»å‹çš„å…ƒç´ ï¼ˆtagName ç›¸åŒä¸” id ç›¸åŒä¸” class ç›¸åŒï¼‰ï¼Œåˆ™ç›´æ¥è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;patchVnode&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œç›´æ¥æ ¹æ® vnode åˆ›å»ºä¸€ä¸ªæ–°çš„ elementï¼Œä¸”ç”¨æ–°çš„ element æ›¿æ¢æ‰ oldVnode çš„ elementï¼Œä¸”åˆ é™¤æ‰ oldVnode&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æµç¨‹å›¾å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4999d84bbe5e1352efca33b220329530/df24b/structure.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 269px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 196.6542750929368%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAnCAIAAACABf9ZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC40lEQVRIx52V53KjMBSFef9H2z9bJrObbIkTNzBgigSIIsn7ScQlLhliRsYScNs550pBN+i0qAup0rJm+ElTNd1uwhWUVdsPhlku1SIumFhrM6EmGRO5qNqm64kmajcRTVupfpIxPyKrbqhUl+SkoclkN+0KDjNtjNiXaj9rPBhT1u10y4vIdbf7zHU0BrlMNHdGjvPqeZ15qo6vD1OtbT9oAvT7MWgT8CnwYhnn9SaX87io296Yd+G1gfmmVn3T9tzhhftWNME6lUWlooyw+eM8+fmKHxVuJe/wskoF3z3MNklRy6b7NU+ivFomJYrCUaC1A/k5zFZpucmrH/+iKJOkZH32JMX/m4RdDImEt2VTVoonwaE2HOP+Flyu4J5AlphkNPhlYPeo8GJUJaHsBWBvS2vpBbuH9Ig2ChVeJB9cZEupB6fvjMsLY2Ano14bEM6d5XCF5zF50IIS2kv6geBwx2DedoPx2doTGRxrpjH/rLZjkzkZaKONnaQwDIAaevte2wsTnlAU8BIfpBnM6fwAhEn1aZFC/Twuvz9H3KlwQJC7HfDgF/7XW4FUfi/SdSqe5sm3vyGcBwTEGFW/bgoU9uVxiRdkkEunR5SHo5coZ2MbBsM3i7ichRm4OIW5TtYmkw2yJG2CEPUsc+O14VRU1qQQZhJSM6kCe6IhvjjThhOMXwD14OrYAT4Fs8RjcOr+jMYzzMYNA1Ku9LOTgY98i5+xOsJe38NA7lTVZNf6DYCMkDSDfri1h9mvf8IRGOGFBaQQyVId5fVeJCQD6NyjrYQwqoIh1V7Z9C/LQSQd28XDSwz7y7h8mMWzMKfvTzV/U55kSGCkggCWiUAPV9vrujElgQSlrhLBQZcUlRPAxINuFMDI4RjQWHvfidHeeWIAeFl93viwAUp/St5z3LgG3MpLJXxkDDzCNedAu0GV6jSVU8JUqtAgwnbbRSpQMrTnlZpq3PpGwcCdGL43i2nI/Qfjc/LjXfxRFgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/4999d84bbe5e1352efca33b220329530/cc182/structure.webp 148w,
/static/4999d84bbe5e1352efca33b220329530/a0f56/structure.webp 269w&quot;
          sizes=&quot;(max-width: 269px) 100vw, 269px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/4999d84bbe5e1352efca33b220329530/cf440/structure.png 148w,
/static/4999d84bbe5e1352efca33b220329530/df24b/structure.png 269w&quot;
          sizes=&quot;(max-width: 269px) 100vw, 269px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/4999d84bbe5e1352efca33b220329530/df24b/structure.png&quot;
          alt=&quot;structure&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿›è¡Œç¬¬ 3 æ­¥æ—¶ï¼Œå½“ oldVnode ä¸ vnode ä¸ç›¸åŒï¼Œæ˜¯ç›´æ¥æŠ›å¼ƒäº†æ—§çš„èŠ‚ç‚¹ï¼Œåˆ›å»ºæ–°çš„èŠ‚ç‚¹æ¥æ›¿æ¢ï¼Œåœ¨ç”¨æ–° vnode æ¥åˆ›å»ºèŠ‚ç‚¹æ—¶ä¼šæ£€æŸ¥å½“å‰ vnode æœ‰æ²¡æœ‰ childrenï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä¹Ÿä¼šéå† children åˆ›å»ºå‡ºæ–°çš„ elementã€‚è¿™æ„å‘³ oldVnode ä»¥åŠåŒ…å«çš„æ‰€æœ‰å­èŠ‚ç‚¹å°†è¢«ä½œä¸ºä¸€ä¸ªæ•´ä½“è¢«æ–°çš„ vnode æ›¿æ¢ã€‚ç¤ºæ„å›¾å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d314eb8360980f79354cff845e8c9083/59a95/replace.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 416px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.605769230769226%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVQoz22Q207jMBCG8/6vwg03oOVQqBYERSAEWu5WidL0SJImwa5P48MwSdoSBL9Glmfm/+yxI0RcdsqybDabpWm6Xq/jOFZKYSdjTJIkZVlOp9OsE9moQoaI2nVdV6025CiKgjGW5zkA9LBzjoqc87Jr00JWqpAhwr2sD9r6Qxr2OlR8IMMgR4x6G+2arVpt+KCFXb0N3xm40uuKW+eH8E5CeSZ0z9BU9PLFYqGk6o+hRerABQxPj8BnFKsqbdSUS13z1g2dhFQSluBT47JVmXCdNII1XO+Ham8+03A1e59zPfkQYll+Te4CgntCPNH1mMVvFv7kbFU0+vARBP9VMObi3rg7sNaA+4I9wS+I1/BxYfKR89cSKtMOvoeVPufyEvHSuJsQ/PBJBNvwAuWRVxdenKr62CHrv3IHz4uYywnB+ieMQfJ/In4IbmSbMUsfwdbf4Ir91zD59WZKNHs1788hjNz2djt/BdgM4U8tLXYbsgjxsAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d314eb8360980f79354cff845e8c9083/cc182/replace.webp 148w,
/static/d314eb8360980f79354cff845e8c9083/f7e40/replace.webp 295w,
/static/d314eb8360980f79354cff845e8c9083/4b6e5/replace.webp 416w&quot;
          sizes=&quot;(max-width: 416px) 100vw, 416px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d314eb8360980f79354cff845e8c9083/cf440/replace.png 148w,
/static/d314eb8360980f79354cff845e8c9083/d2d38/replace.png 295w,
/static/d314eb8360980f79354cff845e8c9083/59a95/replace.png 416w&quot;
          sizes=&quot;(max-width: 416px) 100vw, 416px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/d314eb8360980f79354cff845e8c9083/59a95/replace.png&quot;
          alt=&quot;replace&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœ B ä¸ Bâ€™ä¸ç›¸åŒï¼Œåˆ™ B åœ¨è¢« Bâ€™æ›¿æ¢çš„è¿‡ç¨‹ä¸­ï¼ŒB çš„å­èŠ‚ç‚¹ D ä¹Ÿå°±è¢« Bâ€™çš„å­èŠ‚ç‚¹ Dâ€™å’Œ Eâ€™ä¸€èµ·æ›¿æ¢æ‰äº†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          patchVnode
        &lt;/h3&gt;
      
&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹çœ‹ç¬¬ 2 æ­¥ï¼Œå¦‚æœ oldVnode ä¸ vnode ç›¸åŒï¼Œåˆ™ä¼šå¤ç”¨ä¹‹å‰å·²ç»åˆ›å»ºå¥½çš„ domï¼Œåªæ˜¯æ›´æ–°è¿™ä¸ª dom ä¸Šçš„å·®å¼‚ç‚¹ï¼Œæ¯”å¦‚ textï¼Œclassï¼Œdatalistï¼Œstyle ç­‰ã€‚è¿™ä¸ªæ˜¯åœ¨å‡½æ•°&lt;code class=&quot;language-text&quot;&gt;patchVnode&lt;/code&gt;ä¸­å®ç°çš„ï¼Œä¸‹é¢ä¸ºå®ƒçš„å¤§è‡´é€»è¾‘ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;patchVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; vnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token comment&quot;&gt;// è·å–oldVnodeçš„domå¯¹è±¡&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; elm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm
  &lt;span class=&quot;token comment&quot;&gt;// å°†vnodeçš„elmç›´æ¥æŒ‡å‘elmï¼Œå¤ç”¨oldVnodeçš„domå¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬ç±»å‹ç›¸åŒ&lt;/span&gt;
  vnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; elm
  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœoldVnodeä¸vnodeç›¸ç­‰ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œæ ¹æœ¬ä¸ç”¨æ›´æ–°äº†&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldVnode &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœvnodeæ˜¯åŒ…å«textï¼Œä¸”ä¸ç­‰äºoldVnode.textï¼Œåˆ™ç›´æ¥æ›´æ–°elmçš„textContentä¸ºvnode.text&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isDef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;vnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; oldVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setTextContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; oldCh &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children &lt;span class=&quot;token comment&quot;&gt;// è·å–oldVnodeçš„å­èŠ‚ç‚¹&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children &lt;span class=&quot;token comment&quot;&gt;// è·å–vnodeçš„å­èŠ‚ç‚¹&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœoldVnodeæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè€Œvnodeæœ‰å­èŠ‚ç‚¹,åˆ™æ·»åŠ vnodeçš„å­èŠ‚ç‚¹&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isUndef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldCh&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isDef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœoldVnodeæœ‰textå€¼ï¼Œåˆ™å…ˆå°†elmçš„textContentæ¸…ç©º&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;idDef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setTextContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;addVnodes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ch&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ch&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœoldVnodeæœ‰å­èŠ‚ç‚¹ï¼Œè€Œvnodeæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™åˆ é™¤oldVnodeçš„å­èŠ‚ç‚¹&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isUndef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isDef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldCh&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;reoveVnodes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœå®ƒä»¬éƒ½æœ‰å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”å­èŠ‚ç‚¹ä¸ç›¸åŒï¼Œåˆ™æ›´æ–°å®ƒä»¬çš„å­èŠ‚ç‚¹&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ch &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;updateChildren&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ch&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¦åˆ™å°±æ˜¯å®ƒä»¬éƒ½æœ‰å­èŠ‚ç‚¹ï¼Œä¸”å­èŠ‚ç‚¹ç›¸åŒï¼Œå¦‚æœoldVnodeæœ‰textå€¼ï¼Œåˆ™å°†elmçš„textContentæ¸…ç©º&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ifDef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setTextContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;patchVnode&lt;/code&gt;é€»è¾‘å¯ä»¥ç®€åŒ–ä¸ºä¸‹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›´æ¥å°† vnode çš„ elm è®¾ç½®ä¸º oldVnode çš„ elmï¼Œä»¥è¾¾åˆ°å¤ç”¨å·²æœ‰çš„ dom å¯¹è±¡ï¼Œé¿å…äº†åˆ›å»ºæ–°çš„ dom å¯¹è±¡çš„å¼€é”€&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒ oldVnode === vnodeï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œä¸åŒæ›´æ–°ï¼Œå› ä¸ºå®ƒä»¬å°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡&lt;/li&gt;
&lt;li&gt;å¦‚æœ vnode æœ‰ text å€¼ï¼Œåˆ™è¯´æ˜ elm å°±åªåŒ…å«äº†çº¯ text æ–‡æœ¬ï¼Œæ— å…¶ä»–ç±»å‹å­èŠ‚ç‚¹ï¼Œå¦‚æœå®ƒçš„å€¼ä¸ oldVnode çš„ text ä¸ç›¸åŒï¼Œåˆ™æ›´æ–° elm çš„ textContentï¼Œå¹¶è¿”å›ã€‚&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™ä¸€æ­¥å¼€å§‹ï¼ŒçœŸæ­£æ¯”è¾ƒå®ƒä»¬çš„ children äº†ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœ vnode æœ‰ childrenï¼ŒoldVnode æ²¡æœ‰ childrenï¼Œå…ˆæ¸…ç©º elm çš„ textContextï¼Œå†å°† vnode çš„ children æ·»åŠ è¿›æ¥&lt;/li&gt;
&lt;li&gt;å¦‚æœ vnode æ²¡æœ‰ childrenï¼ŒoldVnode æœ‰ childrenï¼Œåˆ™ç›´æ¥åˆ é™¤ oldVnode çš„ children&lt;/li&gt;
&lt;li&gt;å¦‚æœå®ƒä»¬éƒ½æœ‰ childrenï¼Œä¸”ä¸ç›¸åŒï¼Œåˆ™æ›´æ–°å®ƒä»¬çš„ children&lt;/li&gt;
&lt;li&gt;å¦‚æœå®ƒä»¬éƒ½æœ‰ childrenï¼Œä¸”ç›¸åŒï¼Œåˆ™æ¸…ç©º elm çš„ textContext&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æµç¨‹å›¾å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e80ee100db03233ea070370bf65d67be/60c44/patchVnode.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 106.85249709639955%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAAsTAAALEwEAmpwYAAABzklEQVQ4y42TTU4DMQyF52ywgQ1IXIOrIRYsWaAegxUSLJCKgM5fJoljO7zEbWlRZ8QoijJOnv3Fdpo88wVK3egjcZ7/mpNWVYW4dxFirGERGUb/0Lt75+87dzeFJ9hOi0V0M/p29L3zlIgoO/fSDjcf7cX71/Vndz6425y5mUNilRq4SOFLVUT6nFuRrs7jErYL1DmPGdQsWvUgygezzohz9jGNgTAnFhss22G/SEqzkExsn4SyFCbmWewp0GbwiAzmEpAFa1g6F6wEIaY5cSYWHMLMhp0YIPA4xVQcCnzRInZMC7t/saUQ1sFqkJYw3mVrSUww7M6BGQ0CS2L4AqYW2Jqq02JfqqoLyT8MvhWDE/Zhil/9hLmcOXCBNdKGbvnup25EHsAihlnEKRVOA0Pkws6/EbBFqQDXHJfOgrqquCkFDERIke6LxLEetxRijSC2C9Ga5S2kNUoFMd7sZ+dAazBIb+8CjD4kywK2wOxrt72yXPXTWesuB/8cqIFXCBDaQlknoRmosoECbq1g+HWqK+LHQCvmb7I716seVfv4zkcVrq9se+d/iNWg9g8OlFpVjSW9NsP2rcV6kRBLk6BVULvyPPYPs5YNBmz9AIGp0lKX3ASTAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/e80ee100db03233ea070370bf65d67be/cc182/patchVnode.webp 148w,
/static/e80ee100db03233ea070370bf65d67be/f7e40/patchVnode.webp 295w,
/static/e80ee100db03233ea070370bf65d67be/1a2f4/patchVnode.webp 590w,
/static/e80ee100db03233ea070370bf65d67be/7e6de/patchVnode.webp 861w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/e80ee100db03233ea070370bf65d67be/cf440/patchVnode.png 148w,
/static/e80ee100db03233ea070370bf65d67be/d2d38/patchVnode.png 295w,
/static/e80ee100db03233ea070370bf65d67be/b9e4f/patchVnode.png 590w,
/static/e80ee100db03233ea070370bf65d67be/60c44/patchVnode.png 861w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/e80ee100db03233ea070370bf65d67be/b9e4f/patchVnode.png&quot;
          alt=&quot;patchVnode&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;patchVnode&lt;/code&gt;æ›´æ–°æ—¶ï¼Œvnode ä¼šå…ˆæ˜¯é€šè¿‡è§¦å‘å®šä¹‰åœ¨ data æ•°æ®ä¸Šçš„é’©å­å‡½æ•°æ¥æ›´æ–°è‡ªå·±èŠ‚ç‚¹ä¸Šçš„ä¿¡æ¯ï¼Œæ¯”å¦‚ class æˆ–è€… styles ç­‰ï¼Œç„¶åå†å»æ›´æ–° children èŠ‚ç‚¹ä¿¡æ¯ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          updateChildren
        &lt;/h3&gt;
      
&lt;p&gt;æ›´æ–° vnode.children ä¿¡æ¯æ˜¯é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;updateChildren&lt;/code&gt;å‡½æ•°æ¥å®Œæˆçš„ã€‚åªæœ‰å½“ oldVnode ä¸Šå­˜åœ¨ childrenï¼Œä¸” vnode ä¸Šä¹Ÿå­˜åœ¨ children æ—¶ï¼Œå¹¶ä¸”&lt;code class=&quot;language-text&quot;&gt;oldVnode.children !== vnode.children&lt;/code&gt;æ—¶ï¼Œæ‰ä¼šå»è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;updateChildren&lt;/code&gt;ã€‚ä¸‹é¢æ¥æ¢³ç†ä¸€ä¸‹&lt;code class=&quot;language-text&quot;&gt;updateChildren&lt;/code&gt;çš„å¤§è‡´é€»è¾‘ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateChildren&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;parentElm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newCh&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// æ—§çš„children&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; oldStartIdx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; oldEndIdx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; oldStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;oldStartIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; oldEndVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;oldCh&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldEndIdx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// æ–°çš„children&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; newStartIdx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; newEndIdx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; newStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;newCh&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newStartIdx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; newEndVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;newCh&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newEndIdx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; before &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// å¾ªç¯æ¯”è¾ƒ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldStartIdx &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; oldEndIdx &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; newStartIdx &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; newEndIdx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldStartVnode &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å½“å‰èŠ‚ç‚¹å¯èƒ½è¢«ç§»åŠ¨äº†&lt;/span&gt;
      oldStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;oldStartIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldEndVnode &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      oldEndVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;oldEndIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newStartVnode &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      newStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;newStartIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newEndVnode &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      newEndVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;newEndIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sameVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldStartVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newStartVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;patchVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldStartVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newStartVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æ›´æ–°newStartVnode&lt;/span&gt;
      oldStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;oldStartIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// oldStartIdx å‘å³ç§»åŠ¨&lt;/span&gt;
      newStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;newStartIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// newStartIdx å‘å³ç§»åŠ¨&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sameVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldEndVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newEndVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;patchVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldEndVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newEndVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æ›´æ–°newEndVnode&lt;/span&gt;
      oldEndVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;oldEndIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// oldEndIdx å‘å·¦ç§»åŠ¨&lt;/span&gt;
      newEndVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;newEndIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// newEndIdx å‘å·¦ç§»åŠ¨&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sameVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldStartVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newEndVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;patchVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldStartVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newEndVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//æ›´æ–°newEndVnode&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; oldAfterVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;nextSibling&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldEndVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å°†oldStartVnodeç§»åŠ¨åˆ°å½“å‰oldEndVnodeåé¢&lt;/span&gt;
      api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertBefore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parentElm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldStartVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldAfterVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      oldStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;oldStartIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// oldStartIdx å‘å³ç§»åŠ¨&lt;/span&gt;
      newEndVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;newOldVnode&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// newEndIdx å‘å·¦ç§»åŠ¨&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sameVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldEndVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newStartVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;patchVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldEndVnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newStartVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æ›´æ–°newStartVnode&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å°†oldEndVnodeç§»åŠ¨åˆ°oldStartVnodeå‰é¢&lt;/span&gt;
      api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertBefore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parentElm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldEndVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldStartVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      oldEndVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;oldEndIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// oldEndVnode å‘å³ç§»åŠ¨&lt;/span&gt;
      newStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;newStartIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// newStartVnode å‘å·¦ç§»åŠ¨&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// è·å–å½“å‰æ—§çš„childrençš„èŠ‚ç‚¹çš„keyä¸å…¶indexçš„å¯¹åº”å€¼ï¼Œ&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldKeyIdx &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; undefined&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        oldKeyIdx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createKeyToOldIdx&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldCh&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldStartIdx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldEndIdx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// è·å–å½“å‰newStartVnodeçš„keyæ˜¯å¦å­˜åœ¨æ—§çš„childrenæ•°ç»„é‡Œ&lt;/span&gt;
      idxInOld &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldKeyIdx&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;newStartVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isUndef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;idxInOld&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœå½“å‰newStartVnodeçš„keyä¸å­˜åœ¨æ—§çš„childrenæ•°ç»„é‡Œï¼Œé‚£ä¹ˆè¿™ä¸ªnewStartVnodeå°±æ˜¯æ–°çš„ï¼Œéœ€è¦æ–°å»ºdom&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; newDom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createElm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newStartVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertBefore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parentElm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newDom&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldStartVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        newStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;newStartIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å¦åˆ™ï¼Œå½“å‰newStartVnodeçš„keyå­˜åœ¨æ—§çš„childrené‡Œï¼Œè¯´æ˜å®ƒä»¬ä¹‹å‰æ˜¯åŒä¸€ä¸ªVnode,&lt;/span&gt;
        elmToMove &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;idxInOld&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elmToMove&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sel &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; newStartVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;sel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;// èŠ‚ç‚¹ç±»å‹å˜äº†ï¼Œä¸æ˜¯åŒä¸€ä¸ªç±»å‹çš„domå…ƒç´ äº†,ä¹Ÿæ˜¯éœ€è¦æ–°å»ºçš„&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; newDom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createElm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newStartVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertBefore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parentElm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newDom&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldStartVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token comment&quot;&gt;// å¦åˆ™ï¼Œå®ƒä»¬æ˜¯åŒä¸€ä¸ªVnodeä¸”domå…ƒç´ ä¹Ÿç›¸åŒï¼Œåˆ™ä¸éœ€è¦æ–°å»ºï¼Œåªéœ€è¦æ›´æ–°å³å¯&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;patchVnode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elmToMove&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newStartVnode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          oldCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;idxInOld&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; undefined &lt;span class=&quot;token comment&quot;&gt;// æ ‡å¿—æ—§çš„childrenå½“å‰ä½ç½®çš„å…ƒç´ è¢«ç§»èµ°äº†ï¼Œ&lt;/span&gt;
          api&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertBefore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parentElm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elmToMove&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldStartVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        newStartVnode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;newStartIdx&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœå¾ªç¯ä¹‹åï¼Œè¿˜æœ‰æœªå¤„ç†çš„childrenï¼Œ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldStartIdx &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; oldEndIdx &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; newStartIdx &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; newEndIdx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœæ–°çš„childrenè¿˜æœ‰éƒ¨åˆ†æœªå¤„ç†ï¼Œåˆ™æŠŠå¤šçš„éƒ¨åˆ†å¢åŠ è¿›å»&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldStartIdx &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; oldEndIdx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      before &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;newEndIdx &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;newEndIdx &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;addVnodes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parentElm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; before&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newCh&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newStartIdx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newEndIdx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœæ—§çš„childrenè¿˜æœ‰æœªå¤„ç†ï¼Œåˆ™æŠŠå¤šçš„éƒ¨åˆ†åˆ é™¤æ‰&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;removeVnodes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;parentElm&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldCh&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldStartIdx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oldEndIdx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;updateChildren&lt;/code&gt;å‡½æ•°é€»è¾‘å¯ä»¥ç®€åŒ–ä¸ºï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆå§‹åŒ–å¾ªç¯å˜é‡&lt;/li&gt;
&lt;li&gt;æ ¹æ®å˜é‡å¾ªç¯éå† old children ä¸ new childrenï¼Œå¹¶é€ä¸ªæ¯”è¾ƒæ›´æ–°ï¼Œå½“ç±»å‹ç›¸åŒæ—¶ï¼Œåˆ™è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;patchVnode&lt;/code&gt;æ›´æ–°ï¼Œå½“ç±»å‹ä¸åŒæ—¶ï¼Œåˆ™ç›´æ¥æ–°å»º new vnode çš„ dom å…ƒç´ ï¼Œå¹¶æ’å…¥åˆ°åˆé€‚çš„ä½ç½®&lt;/li&gt;
&lt;li&gt;å¾ªç¯å®Œäº†ä¹‹åï¼Œå¢åŠ æ–°å¢çš„ new vnode èŠ‚ç‚¹å’Œç§»é™¤æ—§çš„å†—ä½™çš„ old vnode&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æµç¨‹å›¾å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9014e691bff7fad272912e7dcd597b1f/afda5/updateChildren.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 109.6728307254623%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCElEQVQ4y5VUS47TQBT0lRDSCFYI9lwAIVhzHljAhiOgWXEEFkhIXAEpyQyM8/GnP+9rqpMY4skkA61W27JdXe9VVbsa7hrmHjNv+hRJ3H04MapTL1QtZFY9iTwHxiDW4ey4A6zmJNpFmt80kTgLHvi/gs0cyFndXi27xbINif8DrKqrTbiq27oJ16tu3Se/H+yDslDmnLmsibo+YqcpUg/nCHZnYNCr2fjA+8TlIuJ2htmMiQG8ZRWs3u+lCuvNheWz6CfRS0zWywI2VCvyt3xwRoJaaHix7CCemAlZH1chP0v0IOSLNlyQPKywq4jKtDDeWtWGjAm3wQ/uGDchv4n5RZ9edfF1ppeVC2RSQ81qhdTKWugHI2GswzCqAArr3NvMa7MGhlaoGWBZN7xupGm5abULu68TTeTxUXkZ816BF7JMT0Um+cb6tUtfsBJ/hxUFjPQYyK3kpmjkB+Cym20bnl0vn87rxz9+PpnXjxb1c9HVFqxoPZFsugQj/IjZt9neZHof8rtf6w8hv0300SzuenbfF7y7VFuf7DgAeMtyu+dhmlNYZVTk9kOfWeGPNH2ADbjfyW8iRwnDU57EC65it1UbZzcN2qMSM4RUj4/HPp5CzEXIoijK6BMtm4DfECYUQoxKQk+eKmSIuRiuBiZ8/6eRcjBU7z2S2wMEkrE8RzEsw+kf4G+egwXRoay62AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/9014e691bff7fad272912e7dcd597b1f/cc182/updateChildren.webp 148w,
/static/9014e691bff7fad272912e7dcd597b1f/f7e40/updateChildren.webp 295w,
/static/9014e691bff7fad272912e7dcd597b1f/1a2f4/updateChildren.webp 590w,
/static/9014e691bff7fad272912e7dcd597b1f/5bf42/updateChildren.webp 703w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/9014e691bff7fad272912e7dcd597b1f/cf440/updateChildren.png 148w,
/static/9014e691bff7fad272912e7dcd597b1f/d2d38/updateChildren.png 295w,
/static/9014e691bff7fad272912e7dcd597b1f/b9e4f/updateChildren.png 590w,
/static/9014e691bff7fad272912e7dcd597b1f/afda5/updateChildren.png 703w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/9014e691bff7fad272912e7dcd597b1f/b9e4f/updateChildren.png&quot;
          alt=&quot;updateChildren&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;updateChildren&lt;/code&gt;å‡½æ•°ä¸­ï¼Œé€ä¸ªæ›´æ–° children ä¸­èŠ‚ç‚¹æ—¶ï¼Œå½“æ¯”è¾ƒçš„ä¸¤ä¸ªèŠ‚ç‚¹ç±»å‹ç›¸åŒæ—¶ï¼Œåˆä¼šåè¿‡æ¥è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;patchVnode&lt;/code&gt;æ¥æ›´æ–°èŠ‚ç‚¹ï¼Œè¿™æ ·ï¼Œå®é™…ä¸Šå­˜åœ¨äº†é—´æ¥çš„é€’å½’è°ƒç”¨ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          life cycle hooks
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨ä½¿ç”¨ React æˆ–è€… Vue æ—¶ï¼Œä½ ä¼šå‘ç°å®ƒä»¬éƒ½åˆ†åˆ«å®šä¹‰äº†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè™½ç„¶åç§°æˆ–è§¦å‘æ—¶æœºä¸å®Œå…¨ç›¸åŒï¼Œä½†æ˜¯åŸºæœ¬çš„é¡ºåºå’Œç›®çš„æ˜¯å·®ä¸å¤šçš„ã€‚Snabbdom ä¹Ÿæä¾›äº†ç›¸åº”çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œä¸åŒçš„æ˜¯å®ƒæä¾›äº† 2 å¥—ï¼Œä¸€å¥—æ˜¯é’ˆå¯¹ virtual dom çš„ï¼Œæ¯”å¦‚ä¸€ä¸ª Vnode çš„&lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;remove&lt;/code&gt;ç­‰ï¼›ä¸€å¥—æ˜¯é’ˆå¯¹ modules çš„ï¼Œé€šè¿‡åœ¨ä¸åŒæ—¶æœºè§¦å‘ä¸åŒ module çš„é’©å­å‡½æ•°å»å®Œæˆå½“å‰ Vnode çš„æ›´æ–°æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;modules çš„ä¸Šçš„é’©å­å‡½æ•°å¦‚ä¸‹,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Module&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  pre&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PreHook
  create&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CreateHook
  update&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; UpdateHook
  destroy&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DestroyHook
  remove&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RemoveHook
  post&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PostHook
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®ƒçš„è§¦å‘æ—¶æœºå›¾å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/49caa1ff4e35f00e776cda82c9004a9f/4f3bc/module_hooks.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 112.9360465116279%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADbUlEQVQ4y4VU329UVRDeP8ekCUFAKEhpayplSyGkGqMPYioPEEAD0lqoUVTQuKgxiKClhoqakNqEBAOaUBMhRH3Ql4ZIBIV0t9uyWdZtd3t37z3z4xvP3nYLFtB7z8s5Z7755pszMwl7yMeiQUilIIyIH2aTeNChmolfjl0lDAGZ25rhv8ESI+s+YCT33mKRi8S/CQ0wwR3Wy4JB0req9Lrah4xzghsKrpvpvWDENB72J+shwSaz1UCL4x2VcI/iKbNVilbW7azfK6QOqTPDK8MAbCWswWyF2XLmrko4Vq5kIjoKLDU0GpYADYJtivRcCIm6tg+InxfpNekzvGraI7KvGvWVg37iHkWvmV99wH7inY63Cf6aZ2YdYlnjKMuwcyGnirNngqgcS5M4xsxN9+1w9fxIkMtGfhu5/YouQTUhSCueIG03yZwy2xmUjuUm95ZnUl4basImczj58fTZ0/mzQ7nBT4qFaR/pO2aPkHyeYP3MiyTtNEn3w044dy3iYce7xZeJB+Pq7zwwKNdvuT9u0rHjfGvcOzxktkzwnAd3mzayJD1zVm2XcxtYtxKPxRHHz4ALo3w4RYdT7scr5A8dve35gGSCZb3lV0nUzpqJH1HL8y9erwxlK0WaM50xCwK/I/bgx4A2z5w0axLZwMhI2arH/3b7iuFwSWLBNdmwSzPfvVHc81HhYDa4UUsYvxmDn/Tg7b4GRDrIxukgygdy05/mgpcLdIp9sv1/0X7onn12cOroian3X5vdW7RQ2SdseRy2fmn2qGonyQTvtui0VseMUkbveWANfgYjL8iOn3hsVH7ZJa9MoWh8xGyJYGtCcUexUaUtst+ia7fDF8cpORH2pl1hgi3LNBlx+gj1dPCyLlo7Sl8Zl0LqN2sgHZkrkgvACtWkYKNPAbmkWIciydIeUbsPz/QZJ+tFNps+LboJWMn6ki/yxFxLsH4BX9K6xtBits50HbTFUWdQ3aJoU3vcrBnWotZktlTUl2dhoTHE40kvCrbUGkA9vpmku+puB6Fz9DWwFtYKW61oYn1XUbrbGAvNrMizDvjSAZoVjY42V0IfZyvQCHSyHhD9FfP9iEXDAPUBEgmuCs6TDlXppNo3gp8Fedw1wwPHEBamRG02qIW06Bb/OwBr9KKczU9fn8gHYRh7xP1G/wBQNsPpLeECLwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/49caa1ff4e35f00e776cda82c9004a9f/cc182/module_hooks.webp 148w,
/static/49caa1ff4e35f00e776cda82c9004a9f/f7e40/module_hooks.webp 295w,
/static/49caa1ff4e35f00e776cda82c9004a9f/1a2f4/module_hooks.webp 590w,
/static/49caa1ff4e35f00e776cda82c9004a9f/99208/module_hooks.webp 688w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/49caa1ff4e35f00e776cda82c9004a9f/cf440/module_hooks.png 148w,
/static/49caa1ff4e35f00e776cda82c9004a9f/d2d38/module_hooks.png 295w,
/static/49caa1ff4e35f00e776cda82c9004a9f/b9e4f/module_hooks.png 590w,
/static/49caa1ff4e35f00e776cda82c9004a9f/4f3bc/module_hooks.png 688w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/49caa1ff4e35f00e776cda82c9004a9f/b9e4f/module_hooks.png&quot;
          alt=&quot;modules_hook&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è§¦å‘ modules çš„ hooks å‡½æ•°æ—¶ï¼Œä¸åŒçš„å‡½æ•°ä¼šæ¥å—ä¸åŒçš„å‚æ•°ï¼Œä¸‹é¢ä¸º modukes ä¸­é’©å­å‡½æ•°æ¥å—å‚æ•°æƒ…å†µï¼Œ&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Triggered when&lt;/th&gt;
&lt;th&gt;Arguments to callback&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;pre&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;patch&lt;/code&gt;å‡½æ•°å¼€å§‹å¤„&lt;/td&gt;
&lt;td&gt;æ— &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;createElm&lt;/code&gt;å‡½æ•°ä¸­åˆ›å»ºä¸€ä¸ª element æ—¶&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;pathVnode&lt;/code&gt;å‡½æ•°ä¸­æ›´æ–° Vnode æ—¶ï¼Œ&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;oldVnode&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;newVnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;destroy&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;removeVnodes&lt;/code&gt;å‡½æ•°ä¸­ç§»é™¤ Vnode æ—¶ï¼Œ&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;remove&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;removeVnodes&lt;/code&gt;å‡½æ•°ä¸­ç§»é™¤ Vnode æ—¶ï¼Œ&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;removeCallback&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;patch&lt;/code&gt;å‡½æ•°æœ€åå¤„ï¼Œ&lt;/td&gt;
&lt;td&gt;æ— &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å¤§éƒ¨åˆ† module ä¸­éƒ½æ²¡æœ‰å®šä¹‰&lt;code class=&quot;language-text&quot;&gt;pre&lt;/code&gt;å‡½æ•°å’Œ&lt;code class=&quot;language-text&quot;&gt;post&lt;/code&gt;å‡½æ•°ï¼Œä¸»è¦æ˜¯åœ¨&lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;ï¼Œ &lt;code class=&quot;language-text&quot;&gt;destory&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;remove&lt;/code&gt;ä¸­å¯¹å½“å‰ Vnode è¿›è¡Œæ“ä½œã€‚æ¯”å¦‚ï¼Œåœ¨ class module ä¸­åœ¨&lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt;å‡½æ•°å†…å¯¹ Vnode ä¸Šçš„æ“ä½œå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// class modules ä¸­åœ¨createé’©å­å‡½æ•°ä¸­å¯¹å½“å‰Vnodeæ“ä½œ&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VNode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; cur&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    elm&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Element &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; Element&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    oldClass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldVnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; VNodeData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æ—§çš„class&lt;/span&gt;
    klass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;vnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; VNodeData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æ–°çš„class&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;oldClass &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;klass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// éƒ½ä¸å­˜åœ¨class,ç›´æ¥è¿”å›&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oldClass &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; klass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç›¸ç­‰ï¼Œç›´æ¥è¿”å›&lt;/span&gt;
  oldClass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; oldClass &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  klass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; klass &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// åˆ é™¤é‚£äº›å­˜åœ¨oldVnodeä¸Šè€Œä¸å­˜åœ¨vnodeä¸Šçš„&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; oldClass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;klass&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      elm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// éå†å½“å‰vnodeä¸Šçš„classï¼Œ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; klass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    cur &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; klass&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœä¸æƒ³ç­‰&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cur &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; oldClass&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœå€¼ä¸ºtrueï¼Œåˆ™æ·»åŠ classï¼Œå¦åˆ™ç§»é™¤class&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;classList &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;cur &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;add&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;remove&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä»– module çš„å…¶ä»– hook å‡½æ•°ä¹Ÿéƒ½ä¼šå¯¹å½“å‰ vnode æ›´æ–°ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹çœ‹å¯¹ Vnode ä¸Šçš„é’©å­å‡½æ•°å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Hooks&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  init&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; InitHook
  create&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CreateHook
  insert&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; InsertHook
  prepatch&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PrePatchHook
  update&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; UpdateHook
  postpatch&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PostPatchHook
  destroy&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DestroyHook
  remove&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RemoveHook
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®ƒçš„è§¦å‘æ—¶æœºä»¥åŠæ¥å—å‚æ•°æƒ…å†µå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Triggered when&lt;/th&gt;
&lt;th&gt;Arguments to callback&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;createElm&lt;/code&gt;æ—¶ä¼šå…ˆè§¦å‘&lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;createElm&lt;/code&gt;æ—¶ï¼Œå·²ç»å»ºå¥½äº† elementï¼Œå·²ç»å¯¹åº”çš„ children éƒ½åˆ›å»ºå®Œæ¯•ï¼Œä¹‹ååœ¨è§¦å‘&lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;emptyVnode&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;insert&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;å½“&lt;code class=&quot;language-text&quot;&gt;vnode.elm&lt;/code&gt;å·²ç»æ›´æ–°åˆ° dom æ–‡æ¡£ä¸Šäº†ï¼Œæœ€ååœ¨&lt;code class=&quot;language-text&quot;&gt;patch&lt;/code&gt;å‡½æ•°ç»“å°¾å¤„è§¦å‘&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;prepatch&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;patchVnode&lt;/code&gt;å¼€å§‹å¤„å°±è§¦å‘äº†&lt;code class=&quot;language-text&quot;&gt;prepatch&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;oldVnode&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;update&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;patchVnode&lt;/code&gt;ä¸­ï¼Œ&lt;code class=&quot;language-text&quot;&gt;vnode.elm=oldVnode.elm&lt;/code&gt;ä¹‹åï¼Œæ›´æ–° children ä¹‹å‰è§¦å‘&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;oldVnode&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;postpatch&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;patchVnode&lt;/code&gt;ä¸­ç»“å°¾å¤„ï¼Œå·²ç»æ›´æ–°ä¸º children åè§¦å‘ï¼Œ&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;oldvnode&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;destroy&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;removeVnodes&lt;/code&gt;ä¸­è§¦å‘ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰è¢«ç§»é™¤&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;remove&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;removeVnodes&lt;/code&gt;ä¸­ï¼Œ&lt;code class=&quot;language-text&quot;&gt;destroy&lt;/code&gt;ä¹‹åè§¦å‘ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰çœŸæ­£è¢«ç§»é™¤ï¼Œéœ€è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;removeCallback&lt;/code&gt;æ‰çœŸæ­£å°† element ç§»é™¤&lt;/td&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;vnode&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;removeCallback&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;Vnode&lt;/code&gt;ä¸Šçš„é’©å­å‡½æ•°å°±æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„äº†ï¼Œå®šä¹‰åœ¨&lt;code class=&quot;language-text&quot;&gt;data.hooks&lt;/code&gt;ä¸­ï¼Œä¾‹å¦‚ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;div.row&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rank&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  hook&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;vnode&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      movie&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elmHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; vnode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;elm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offsetHeight
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-6&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨çœ‹äº†æºç ä¹‹åï¼Œå…¶å®æœ€ä¸ºå¤æ‚çš„åœ°æ–¹å°±æ˜¯&lt;code class=&quot;language-text&quot;&gt;updateChildren&lt;/code&gt;ä¸­æ›´æ–°å­èŠ‚ç‚¹ï¼Œè¿™é‡Œä¸ºäº†é¿å…é‡å¤åˆ›å»º elementï¼Œè€Œåšäº†å¾ˆå¤šçš„åˆ¤æ–­å’Œæ¯”è¾ƒï¼Œä»¥è¾¾åˆ°æœ€å¤§åŒ–çš„å¤ç”¨ä¹‹å‰å·²ç»åˆ›å»ºå¥½çš„ elementã€‚ä¸ React å’Œ Vue ç±»ä¼¼ï¼Œå®ƒåœ¨æ¯”è¾ƒä¸­ä¹Ÿæ·»åŠ äº†&lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;æ¥ä¼˜åŒ–è¿™ä¸€ç‚¹ã€‚åœ¨æ›´æ–° Vnode å¯¹åº”çš„ element æ—¶ï¼Œå®ƒå°†ä¸åŒæ•°æ®åˆ†è§£åˆ°ä¸åŒ module ä¸­å»æ›´æ–°ï¼Œé€šè¿‡é’©å­å‡½æ•°æ¥è§¦å‘ï¼Œè¿™ä¸€ç‚¹éå¸¸çš„ä¼˜é›…ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[HTML5ä¸­Audioä½¿ç”¨è¸©å‘æ±‡æ€»]]></title><description><![CDATA[åŸå› ï¼šåœ¨è°ƒç”¨ play()æ—¶ï¼Œç°ä»£æµè§ˆå™¨è¿”å›çš„æ˜¯ä¸€ä¸ª promiseï¼Œå¯¹äºæ‰§è¡Œå¤±è´¥çš„ï¼Œä¼šè§¦å‘ä¸€ä¸ª Unhandled Promise Rejectionï¼Œä½†æ˜¯å¯¹äºä½ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œè°ƒç”¨ play()å¹¶ä¸ä¼šè¿”å›ä¸€ä¸ª promiseã€‚è§£å†³ï¼šåº”è¯¥åœ¨è°ƒç”¨ playâ€¦]]></description><link>https://snayan.github.io//post/resolve_issue_of_using_audio/</link><guid isPermaLink="false">https://snayan.github.io//post/resolve_issue_of_using_audio/</guid><pubDate>Mon, 17 Dec 2018 21:06:52 GMT</pubDate><content:encoded>
        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          1. Cannot read property â€˜catchâ€™ of undefined
        &lt;/h3&gt;
      
&lt;p&gt;åŸå› ï¼šåœ¨è°ƒç”¨ play()æ—¶ï¼Œç°ä»£æµè§ˆå™¨è¿”å›çš„æ˜¯ä¸€ä¸ª promiseï¼Œå¯¹äºæ‰§è¡Œå¤±è´¥çš„ï¼Œä¼šè§¦å‘ä¸€ä¸ª Unhandled Promise Rejectionï¼Œä½†æ˜¯å¯¹äºä½ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œè°ƒç”¨ play()å¹¶ä¸ä¼šè¿”å›ä¸€ä¸ª promiseã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³ï¼šåº”è¯¥åœ¨è°ƒç”¨ play()æ—¶åšå¦‚ä¸‹å¤„ç†ï¼Œå¢åŠ å¯¹ playPromise çš„åˆ¤æ–­&lt;/p&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™ï¼š&lt;a href=&quot;https://developers.google.com/web/updates/2016/03/play-returns-promise&quot;&gt;HTMLMediaElement.play() Returns a Promise&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; playPromise &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;video&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// In browsers that donâ€™t yet support this functionality,&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// playPromise wonâ€™t be defined.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;playPromise &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  playPromise
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// Automatic playback started!&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// Automatic playback failed.&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// Show a UI element to let the user manually start playback.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          2. InvalidStateError: An attempt was made to use an object that is not, or is no longer, usable
        &lt;/h3&gt;
      
&lt;p&gt;åŸå› ï¼šå¯¹äºè¿˜æ²¡æœ‰è®¾ç½® src çš„ audioï¼Œå°±ç›´æ¥è®¾ç½® currentTime æ˜¯ä¼šè§¦å‘ä¸€ä¸ª INVALID_STATE_ERR å¼‚å¸¸çš„ã€‚å³ä½¿æ˜¯è®¾ç½® currentTime = 0 ä¹Ÿä¼šè§¦å‘è¿™ä¸ªå¼‚å¸¸&lt;/p&gt;
&lt;p&gt;è§£å†³ï¼šåœ¨è®¾ç½® currentTime ä¹‹å‰ï¼Œå¿…é¡»å…ˆè®¾ç½® audio çš„ src&lt;/p&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™ï¼š&lt;a href=&quot;https://www.w3.org/TR/2011/WD-html5-20110113/video.html#offsets-into-the-media-resource&quot;&gt;Offsets into the media resource&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;media . &lt;code class=&quot;language-text&quot;&gt;currentTime&lt;/code&gt; [ = value ]&lt;/p&gt;
&lt;p&gt;Returns the &lt;a href=&quot;https://www.w3.org/TR/2011/WD-html5-20110113/video.html#current-playback-position&quot;&gt;current playback position&lt;/a&gt;, in seconds.&lt;/p&gt;
&lt;p&gt;Can be set, to seek to the given time.&lt;/p&gt;
&lt;p&gt;Will throw an &lt;code class=&quot;language-text&quot;&gt;INVALID_STATE_ERR&lt;/code&gt; exception if there is no selected &lt;a href=&quot;https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-resource&quot;&gt;media resource&lt;/a&gt;. Will throw an &lt;code class=&quot;language-text&quot;&gt;INDEX_SIZE_ERR&lt;/code&gt; exception if the given time is not within the ranges to which the user agent can seek.&lt;/p&gt;
&lt;/blockquote&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          3. NotAllowedError
        &lt;/h3&gt;
      
&lt;p&gt;åŸå› ï¼šåœ¨è°ƒç”¨ play()æ—¶å¯èƒ½ä¼šè§¦å‘ä¸€ä¸ª NotAllowedError çš„ rejectï¼ŒåŸå› æ˜¯å› ä¸ºæµè§ˆå™¨åœ¨æŸäº›æƒ…å†µä¸‹æ’­æ”¾å¤±è´¥ï¼Œå¸¸è§åœºæ™¯æ˜¯ï¼Œæœªé€šè¿‡ç‚¹å‡»çš„æƒ…å†µä¸‹è°ƒç”¨ play() ï¼Œæˆ–è€…ç‚¹å‡»äº‹ä»¶çš„å›è°ƒä¸­æ˜¯åœ¨ä¸‹ä¸€ä¸ª tick é‡Œè°ƒç”¨çš„ playï¼Œä¾‹å¦‚åœ¨ setTimeout é‡Œè°ƒç”¨çš„ playï¼Œå†æˆ–è€…æ–°åˆ›å»ºäº†å¾ˆå¤šä¸ª audio å…ƒç´ ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ¯ä¸ª audio éƒ½æ˜¯é€šè¿‡ç”¨æˆ·ç‚¹å‡»æ¥è°ƒç”¨çš„ play()ç­‰ç­‰ã€‚&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-1&apos; &gt;
          åœºæ™¯ä¸€
        &lt;/h4&gt;
      
&lt;p&gt;æœªé€šè¿‡ç‚¹å‡»ç­‰äº‹ä»¶ç»‘å®šï¼Œç›´æ¥è°ƒç”¨ play()ï¼Œè§¦å‘ NotAllowedErrorã€‚è§£å†³æ–¹æ³•ï¼ŒæŠŠè°ƒç”¨ play()çš„éƒ¨åˆ†æ”¾åœ¨äº‹ä»¶å›è°ƒé‡Œï¼Œå¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;playButton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h4 id=&apos;toc-4-2&apos; &gt;
          åœºæ™¯äºŒ
        &lt;/h4&gt;
      
&lt;p&gt;åœ¨ç‚¹å‡»äº‹ä»¶å›è°ƒä¸­çš„ä¸‹ä¸€ä¸ª tick é‡Œè°ƒç”¨ play()ï¼Œè¿™ç§æƒ…å†µçš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// é”™è¯¯ä»£ç ç¤ºä¾‹&lt;/span&gt;
playButton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™ç§æƒ…å†µï¼ŒæŸäº›ç‰ˆæœ¬ã€Œåœ¨ iOS12.0.1 äº²æµ‹æœ‰å‘ã€ä¹Ÿä¼šè§¦å‘ NotAllowedError å¼‚å¸¸ï¼Œåº”è¯¥é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥è€ƒè™‘å¦‚ä¸‹ hack æ‰‹æ®µè§£å†³&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// hack&lt;/span&gt;
playButton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;muted &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;muted &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
        audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pause&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h4 id=&apos;toc-4-3&apos; &gt;
          åœºæ™¯ä¸‰
        &lt;/h4&gt;
      
&lt;p&gt;åˆ›å»ºäº†å¤šä¸ª audio å…ƒç´ ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ¯ä¸ª audio éƒ½æ˜¯é€šè¿‡ç”¨æˆ·ç‚¹å‡»æ¥è°ƒç”¨çš„ play()çš„ï¼Œè¿™æ—¶å€™æŸäº›ç‰ˆæœ¬ã€Œåœ¨ iOS12.0.1 äº²æµ‹æœ‰å‘ã€ä¹Ÿä¼šè§¦å‘ NotAllowedError å¼‚å¸¸ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯åªåˆ›å»ºä¸€ä¸ª audio å…ƒç´ ï¼Œåé¢é€šè¿‡æ”¹å˜ src æ¥æ’­æ”¾ä¸åŒçš„éŸ³ä¹èµ„æºã€‚åªè¦ audio é€šè¿‡äº†äº‹ä»¶å›è°ƒé‡Œè°ƒç”¨è¿‡ playï¼Œåç»­éƒ½å¯ä»¥ç›´æ¥è°ƒç”¨ play äº†ï¼Œè€Œæ— éœ€å†æ¬¡ç»‘å®šäº‹ä»¶å›è°ƒé‡Œå»æ‰§è¡Œï¼Œå¹¶ä¸”è¿™æ ·ä¹Ÿå¯ä»¥é¿å…åˆ›å»ºå¤šä¸ª audio æ¥å‡å°‘å†…å­˜ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;playButton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://a.mp3&quot;&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// åé¢å…¶ä»–åœ°æ–¹ï¼Œå¯ä»¥æ”¹å˜srcæ¥ç›´æ¥play&lt;/span&gt;
audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://b.mp3&quot;&lt;/span&gt;
audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          4. iOS ä¸­é¡µé¢éšè—å’Œæ˜¾ç¤ºæ—¶ï¼Œæ’­æ”¾ audio è¡Œä¸ºå¼‚å¸¸
        &lt;/h3&gt;
      
&lt;p&gt;åŸå› ï¼šåœ¨æŸäº› iOS ç‰ˆæœ¬ä¸­ã€ŒiOS12.0.1 äº²æµ‹æœ‰å‘ã€ï¼Œå½“æˆ‘ä»¬ç›‘å¬é¡µé¢éšè—å’Œæ˜¾ç¤ºäº‹ä»¶ï¼Œåœ¨éšè—æ—¶è°ƒç”¨ pause() æš‚åœï¼Œæ˜¾ç¤ºæ—¶è°ƒç”¨ play()æ¢å¤æ’­æ”¾ã€‚å½“æŒ‰ä¸‹ home é”®ï¼Œé¡µé¢è¿›å…¥ç³»ç»Ÿåå°æ—¶ï¼Œpause()æ­£å¸¸è°ƒç”¨ï¼Œaudio è¢«æ­£å¸¸æš‚åœï¼Œä½†æ˜¯ä½†å†æ¬¡è¿›å…¥é¡µé¢ï¼Œæ˜¾ç¤ºäº‹ä»¶ä¸­è°ƒç”¨ play()å°±ä¼šå‡ºç°å¼‚å¸¸äº†ï¼Œ&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ç§å¼‚å¸¸ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯å•çº¯çš„è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;audioElem.play()&lt;/code&gt;ï¼Œä¸ä¼šæŠ›å‡ºä»»ä½•é”™è¯¯ï¼Œä½†æ˜¯ audio å®é™…å´æ²¡æœ‰çœŸæ­£æ’­æ”¾ï¼Œæ— ä»»ä½•å£°éŸ³ï¼›&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç§å¼‚å¸¸ï¼Œå¦‚æœæˆ‘ä»¬æ¯æ¬¡åœ¨æ˜¾ç¤ºäº‹ä»¶ä¸­æ‰§è¡Œå¦‚ä¸‹ä»£ç ä¸­ä»»æ„ä¸€ç§åœºæ™¯ï¼Œéƒ½ä¼šåœ¨å¾ˆå¤šæƒ…å†µä¸‹ä¼šæŠ›å‡ºä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;AbortError&lt;/code&gt;å¼‚å¸¸ï¼Œæå°‘æ•°æƒ…å†µæ‰ä¼šæ­£å¸¸æ’­æ”¾ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ç›‘å¬é¡µé¢æ˜¾ç¤ºéšè—äº‹ä»¶&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;addPageVisibilityListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// éšè—æ—¶æš‚åœ&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pause&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// æ˜¾ç¤ºæ—¶æ¢å¤æ’­æ”¾&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// é‡æ–°ç›´æ¥èµ‹å€¼src&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://b.mp3&quot;&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// æˆ–è€…load&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// audioElem.load()&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// audioElem.play()&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è§£å†³ï¼šè¿™ä¸¤ç§å¼‚å¸¸è¡Œä¸ºåº”è¯¥éƒ½æ˜¯ iOS 12.0.1 ç³»ç»Ÿæœ¬èº«çš„ bugã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹ 2 ä¸­æ–¹å¼æ¥é¿å…è¿™ç§ä¸¤ç§å¼‚å¸¸çš„å‘ç”Ÿï¼Œ&lt;/p&gt;
&lt;p&gt;æ–¹å¼ 1ï¼Œ æ˜¾ç¤º load()ï¼Œå¹¶ç›‘å¬ &lt;code class=&quot;language-text&quot;&gt;canplaythrough&lt;/code&gt;ï¼Œæ¨èä½¿ç”¨è¿™ç§æ–¹å¼&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;playAudio&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  audioElem1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;canplaythrough&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; playAudio&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç›‘å¬é¡µé¢æ˜¾ç¤ºéšè—äº‹ä»¶&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;addPageVisibilityListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// éšè—æ—¶æš‚åœ&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pause&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// æ˜¾ç¤ºæ—¶æ¢å¤æ’­æ”¾&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;canplaythrough&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; playAudio&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ–¹å¼ 2ï¼Œé€šè¿‡ &lt;code class=&quot;language-text&quot;&gt;setTimeout&lt;/code&gt; ä»¥åŠ retry æ¥ hack é¿å…è¿™ç§å¼‚å¸¸å‘ç”Ÿ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;playAudio&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;retry&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;play&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;retry&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token function&quot;&gt;playAudio&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç›‘å¬é¡µé¢æ˜¾ç¤ºéšè—äº‹ä»¶&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;addPageVisibilityListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// éšè—æ—¶æš‚åœ&lt;/span&gt;
    audioElem&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pause&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// æ˜¾ç¤ºæ—¶æ¢å¤æ’­æ”¾&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;playAudio&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[çœ‹vueæºç è§£å†³ç»„ä»¶styleæ›´æ–°é—®é¢˜]]></title><description><![CDATA[æœ€è¿‘åœ¨é¡¹ç›®ç¢°åˆ°äº†ä¸€ä¸ª vue ç»„ä»¶æ›´æ–°å¯¼è‡´ style å¼‚å¸¸çš„é—®é¢˜ã€‚ä¸‹é¢è®°å½•ä¸€ä¸‹æˆ‘è‡ªå·±çš„è§£å†³æ€è·¯ã€‚ç”±äºå…¬å¸é¡¹ç›®ä¸šåŠ¡å¤æ‚ï¼Œå°±ä¸å…·ä½“æè¿°äº†ã€‚ç®€å•è¯´ä¸€ä¸‹é—®é¢˜ï¼Œå°±æ˜¯é¡¹ç›®ä½¿ç”¨ vue æ¡†æ¶ï¼Œåœ¨ä¸€ä¸ªé¡µé¢ä¸­æ ¹æ® a å€¼æ¥æ˜¾ç¤ºä¸åŒç»„ä»¶ï¼Œå½“æ—¶æ˜¾ç¤º A ç»„ä»¶ï¼Œå¦åˆ™å°±æ˜¾ç¤º Bâ€¦]]></description><link>https://snayan.github.io//post/resolve_vue_style_update_problem/</link><guid isPermaLink="false">https://snayan.github.io//post/resolve_vue_style_update_problem/</guid><pubDate>Mon, 03 Dec 2018 19:09:22 GMT</pubDate><content:encoded>&lt;p&gt;æœ€è¿‘åœ¨é¡¹ç›®ç¢°åˆ°äº†ä¸€ä¸ª vue ç»„ä»¶æ›´æ–°å¯¼è‡´ style å¼‚å¸¸çš„é—®é¢˜ã€‚ä¸‹é¢è®°å½•ä¸€ä¸‹æˆ‘è‡ªå·±çš„è§£å†³æ€è·¯ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          é—®é¢˜èƒŒæ™¯
        &lt;/h3&gt;
      
&lt;p&gt;ç”±äºå…¬å¸é¡¹ç›®ä¸šåŠ¡å¤æ‚ï¼Œå°±ä¸å…·ä½“æè¿°äº†ã€‚ç®€å•è¯´ä¸€ä¸‹é—®é¢˜ï¼Œå°±æ˜¯é¡¹ç›®ä½¿ç”¨ vue æ¡†æ¶ï¼Œåœ¨ä¸€ä¸ªé¡µé¢ä¸­æ ¹æ® a å€¼æ¥æ˜¾ç¤ºä¸åŒç»„ä»¶ï¼Œå½“&lt;code class=&quot;language-text&quot;&gt;a = true&lt;/code&gt;æ—¶æ˜¾ç¤º A ç»„ä»¶ï¼Œå¦åˆ™å°±æ˜¾ç¤º B ç»„ä»¶ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;vue&quot;&gt;&lt;pre class=&quot;language-vue&quot;&gt;&lt;code class=&quot;language-vue&quot;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div&amp;gt;
      &amp;lt;div v-if=&amp;quot;a&amp;quot; :style=&amp;quot;getBackground(&amp;#39;a&amp;#39;)&amp;quot;&amp;gt;aç»„ä»¶&amp;lt;/div&amp;gt;
      &amp;lt;div v-else :style=&amp;quot;getBackground(&amp;#39;b&amp;#39;)&amp;quot;&amp;gt;bç»„ä»¶&amp;lt;/div&amp;gt;
  &amp;lt;/div&amp;gt;
&amp;lt;/template&amp;gt;

&amp;lt;script&amp;gt;
    export default {
        name:&amp;#39;Example&amp;#39;,
        data: {
            a: false
        },
        computed: {
            getBackground: function(type) {
                return {
                    background: `url(https://${type}.png) no-repeat`,
                    backgroundSize: &amp;#39;100% 100%&amp;#39;,
                }
            }
        }
        mounted() {
            setTimeout(() =&amp;gt; { this.a = true }, 1000)
        }
    }
&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          é—®é¢˜æè¿°
        &lt;/h3&gt;
      
&lt;p&gt;å¦‚ä¸Šä»£ç ï¼Œé¡µé¢åŠ è½½æ—¶ï¼Œæ˜¾ç¤º &lt;em&gt;a ç»„ä»¶&lt;/em&gt;ï¼Œä¸”å®ƒçš„èƒŒæ™¯æ ·å¼æ˜¯è®¾ç½®äº†&lt;code class=&quot;language-text&quot;&gt;backgroundImage&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;ä¸º&lt;code class=&quot;language-text&quot;&gt;100% 100%&lt;/code&gt;ï¼Œä¸€ç§’ä¹‹åï¼Œa å˜ä¸º&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;äº†ï¼Œè¿™æ˜¯æ˜¾ç¤º &lt;em&gt;b ç»„ä»¶&lt;/em&gt;ï¼Œé¢„æœŸä¹‹ä¸­ï¼Œå®ƒä¹Ÿæ˜¯åº”è¯¥è®¾ç½®äº†&lt;code class=&quot;language-text&quot;&gt;backgroundImage&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;ä¸º&lt;code class=&quot;language-text&quot;&gt;100% 100%&lt;/code&gt;ï¼Œä½†æ˜¯å‘¢ï¼Œåœ¨æ˜¾ç¤º &lt;em&gt;b ç»„ä»¶&lt;/em&gt;ï¼Œå®ƒçš„æ ·å¼ï¼Œ&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;å¹¶ä¸æ˜¯&lt;code class=&quot;language-text&quot;&gt;100% 100%&lt;/code&gt;ï¼Œè€Œæ˜¯é»˜è®¤çš„&lt;code class=&quot;language-text&quot;&gt;initial&lt;/code&gt;ï¼Œè¿™æ ·å¯¼è‡´æ ·å¼å¹¶éæˆ‘ä»¬é¢„æœŸæƒ³è¦çš„ã€‚ç©¶ç«Ÿä¸ºä»€ä¹ˆåœ¨æ˜¾ç¤º &lt;em&gt;b ç»„ä»¶&lt;/em&gt; æ—¶ï¼Œè¿™ä¸ª&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;ä¸æ˜¯æˆ‘ä»¬åœ¨&lt;code class=&quot;language-text&quot;&gt;getBackground&lt;/code&gt;ä¸­è¿”å›çš„ 100%å‘¢ï¼Ÿ&lt;/p&gt;
&lt;!--more--&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          åˆ†æé—®é¢˜
        &lt;/h3&gt;
      
&lt;p&gt;ä¸ºä»€ä¹ˆæ˜¾ç¤º &lt;em&gt;b ç»„ä»¶&lt;/em&gt; æ—¶æ ·å¼ä¸æ˜¯æˆ‘ä»¬é¢„æœŸçš„å‘¢ï¼Œè¿™é‡Œï¼Œå¯ä»¥çœ‹åˆ° &lt;em&gt;a ç»„ä»¶&lt;/em&gt; å’Œ &lt;em&gt;b ç»„ä»¶&lt;/em&gt; éƒ½æ˜¯ &lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;æ ‡ç­¾ï¼Œæ ¹æ®&lt;a href=&quot;https://vuejs.org/v2/guide/conditional.html#Controlling-Reusable-Elements-with-key&quot;&gt;vue å®˜æ–¹æ–‡æ¡£æè¿°&lt;/a&gt;ï¼Œå®ƒä»¬åœ¨æ›´æ–°æ—¶ä¼šè¢«å¤ç”¨çš„ï¼Œå°±æ˜¯è¯´åªä¼šåˆ›å»º &lt;em&gt;a ç»„ä»¶&lt;/em&gt; çš„ div å…ƒç´ ï¼Œåœ¨æ›´æ–° b ç»„ä»¶æ—¶ï¼Œä¼šå¤ç”¨ &lt;em&gt;a ç»„ä»¶&lt;/em&gt; åˆ›å»ºå‡ºæ¥çš„ div å…ƒç´ çš„ã€‚å¹¶ä¸”ç¿»çœ‹äº†&lt;a href=&quot;https://github.com/vuejs/vue/blob/dev/src/core/vdom/patch.js#L411-L481&quot;&gt;vue æ›´æ–°ç»„ä»¶éƒ¨åˆ†æºç &lt;/a&gt;ï¼Œä¹Ÿç¡®å®ä¼šå…ˆåˆ¤æ–­æ˜¯å¦æ˜¯ç›¸åŒçš„å…ƒç´ ç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œå°±åªæ˜¯æ›´æ–°ï¼Œè€Œä¸ä¼šé‡æ–°åˆ›å»ºã€‚ä½†æ˜¯ï¼Œå°±ç®—æ˜¯å¤ç”¨ï¼Œé‚£ä¹Ÿä¸åº”è¯¥æŠŠ&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;è¦†ç›–äº†&lt;code class=&quot;language-text&quot;&gt;initial&lt;/code&gt;å‘€ï¼Ÿä½•å†µè¿™ 2 ä¸ªç»„ä»¶éƒ½è®¾ç½®çš„&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;æ˜¯&lt;code class=&quot;language-text&quot;&gt;100% 100%&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼Œæˆ‘åˆç¿»çœ‹äº†&lt;a href=&quot;https://github.com/vuejs/vue/blob/dev/src/platforms/web/runtime/modules/style.js#L74-L87&quot;&gt;æ›´æ–° style éƒ¨åˆ†çš„æºç &lt;/a&gt;æ‰å‘ç°äº†åŸå› å‡ºåœ¨å“ªã€‚ä¸‹é¢è´´å‡º vue æ›´æ–° stye éƒ¨åˆ†çš„æºç å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è·å–å¾…æ›´æ–°vnodeçš„styleç»‘å®šå€¼&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getStyle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;vnode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å¦‚æœåœ¨æ—§çš„vnodeä¸­ä¸”ä¸åœ¨æ–°çš„vnodeçš„styleä¸­ï¼Œåˆ™åˆ é™¤&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; oldStyle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isUndef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newStyle&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setProp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;el&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¦‚æœåœ¨æ–°çš„vnodeä¸­ï¼Œä¸”ä¸ç­‰äºæ—§çš„vnodeä¸­å€¼ï¼Œåˆ™æ›´æ–°ä¸ºæ–°çš„vnodeä¸­styleå€¼&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; newStyle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  cur &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newStyle&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cur &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; oldStyle&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ie9 setting to null has no effect, must use empty string&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setProp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;el&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cur &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cur&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æºç é€»è¾‘å¾ˆç®€å•ï¼Œå°±æ˜¯å…ˆåˆ é™¤äº†åœ¨æ—§çš„ vnode ä¸­ style è€Œä¸åœ¨æ–°çš„ vnode ä¸­ style çš„å€¼ï¼Œæ¥ç€è®¾ç½®åœ¨æ–°çš„ vnode ä¸­ä¸”ä¸ç­‰äºæ—§çš„ vnode ä¸­å€¼çš„ã€‚ç»“åˆä¸Šé¢æˆ‘ä»¬é—®é¢˜ä»£ç ï¼Œé€»è¾‘åº”è¯¥æ˜¯ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;background å­˜åœ¨ &lt;em&gt;a ç»„ä»¶&lt;/em&gt; å’Œ &lt;em&gt;b ç»„ä»¶&lt;/em&gt; ä¸­ï¼Œä½†æ˜¯å€¼ä¸ç›¸ç­‰ï¼Œåº”è¯¥è¢«æ›´æ–°ï¼Œ&lt;/li&gt;
&lt;li&gt;backgroundSize å­˜åœ¨ &lt;em&gt;a ç»„ä»¶&lt;/em&gt; å’Œ &lt;em&gt;b ç»„ä»¶&lt;/em&gt; ä¸­ï¼Œå€¼ç›¸ç­‰ï¼Œä¸æ›´æ–°&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ ·ä¸€æ¥ï¼Œç”±äº &lt;em&gt;a ç»„ä»¶&lt;/em&gt; å’Œ &lt;em&gt;b ç»„ä»¶&lt;/em&gt; æ˜¯å¤ç”¨çš„åŒä¸€ä¸ª div å…ƒç´ ï¼Œæˆ‘ä»¬å†æ¥å…·ä½“çœ‹ä¸€ä¸‹ div å…ƒç´  style è¢«æ›´æ–°çš„è¿‡ç¨‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆæ˜¯åœ¨ &lt;em&gt;a ç»„ä»¶&lt;/em&gt; ä¸­ï¼Œdiv è¢«è®¾ç½®çš„åº”è¯¥æ˜¯å¦‚ä¸‹æ ·å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;scss&quot;&gt;&lt;pre class=&quot;language-scss&quot;&gt;&lt;code class=&quot;language-scss&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;div &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;url(https://a.png) no-repeat&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;backgroundSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;100% 100%&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼Œåªè®¾ç½®&lt;code class=&quot;language-text&quot;&gt;background&lt;/code&gt;çš„è¯ï¼Œå®ƒçš„&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;é»˜è®¤å€¼æ˜¯&lt;code class=&quot;language-text&quot;&gt;initial&lt;/code&gt;ï¼Œä½†æ˜¯åé¢çš„&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;ä¼šè¦†ç›–&lt;code class=&quot;language-text&quot;&gt;background&lt;/code&gt;ä¸­é»˜è®¤å€¼ï¼Œæ‰€ä»¥è¿™æ—¶æ²¡æœ‰æ¯›ç—…ï¼Œæ˜¾ç¤ºæ­£å¸¸&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¥ç€ï¼Œæ›´æ–°ä¸º &lt;em&gt;b ç»„ä»¶&lt;/em&gt; äº†ï¼Œdiv è¢«è®¾ç½®çš„æ ·å¼åº”è¯¥å¦‚ä¸‹&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;scss&quot;&gt;&lt;pre class=&quot;language-scss&quot;&gt;&lt;code class=&quot;language-scss&quot;&gt;&lt;span class=&quot;token selector&quot;&gt;div &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//background: &quot;url(https://a.png) no-repeat&quot;, //aç»„ä»¶ä¸­è®¾ç½®æ ·å¼&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;backgroundSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;100% 100%&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//aç»„ä»¶ä¸­è®¾ç½®æ ·å¼&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;url(https://b.png) no-repeat&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//bç»„ä»¶ä¸­è®¾ç½®æ ·å¼&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå®é™…ä¸Šï¼Œè®¾ç½®çš„&lt;code class=&quot;language-text&quot;&gt;background&lt;/code&gt;ä¼šç”¨é»˜è®¤å€¼&lt;code class=&quot;language-text&quot;&gt;initial&lt;/code&gt;è¦†ç›–æ‰ä¹‹å‰ a ç»„ä»¶ä¸­è®¾ç½®çš„&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;çš„&lt;code class=&quot;language-text&quot;&gt;100% 100%&lt;/code&gt;ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™ï¼Œåœ¨æ˜¾ç¤º &lt;em&gt;b ç»„ä»¶&lt;/em&gt; æ—¶ï¼Œ&lt;code class=&quot;language-text&quot;&gt;backgroundSize&lt;/code&gt;å˜ä¸ºäº†é»˜è®¤å€¼&lt;code class=&quot;language-text&quot;&gt;initial&lt;/code&gt;ã€‚å‘çˆ¹å‘€ï¼ŒğŸ˜¢ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          è§£å†³é—®é¢˜
        &lt;/h3&gt;
      
&lt;p&gt;çŸ¥é“é—®é¢˜æ˜¯å‡ºç°åœ¨ç»„ä»¶å¤ç”¨å’Œ&lt;code class=&quot;language-text&quot;&gt;background&lt;/code&gt;è®¾ç½®é¡ºåºé—®é¢˜ä¸Šï¼Œé‚£ä¹ˆè§£å†³çš„åŠæ³•å°±éå¸¸ç®€å•äº†ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–¹æ³•ä¸€å°±æ˜¯ç»™ &lt;em&gt;a ç»„ä»¶&lt;/em&gt; å’Œ &lt;em&gt;b ç»„ä»¶&lt;/em&gt; è®¾ç½®ä¸åŒçš„ keyï¼Œè¿™æ ·å°±ä¸ä¼šå¤ç”¨ï¼Œä¹Ÿä¸ä¼šå‡ºç°ä¸Šé¢çš„é—®é¢˜äº†ï¼Œä½†æ˜¯å‘¢ï¼Œæ„Ÿè§‰è·Ÿ vue éµå¾ªçš„å¤ç”¨åŸåˆ™ç›¸è¿èƒŒï¼Œæ€§èƒ½ä¹Ÿä¼šæœ‰æ‰€æŸå¤±ï¼ˆæˆ‘ä»¬å°±æ˜¯è¦è¿½æ±‚æè‡´ ğŸ˜‚ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ–¹æ³•äºŒå°±æ˜¯è®¾ç½® background æ—¶ç›´æ¥ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;backgroundImage&lt;/code&gt;è€Œä¸æ˜¯&lt;code class=&quot;language-text&quot;&gt;background&lt;/code&gt;ï¼Œå› ä¸ºè®¾ç½®&lt;code class=&quot;language-text&quot;&gt;background&lt;/code&gt;ä¼šé™„å¸¦è®¾ç½®äº†å…¶ä»–ä¸€äº›èƒŒæ™¯ç›¸å…³çš„ css æ ·å¼å€¼ï¼Œå®é™…ä¸Š&lt;code class=&quot;language-text&quot;&gt;background&lt;/code&gt;æ˜¯ä¸€ç³»åˆ—èƒŒæ™¯æ ·å¼å€¼çš„ç®€å†™ï¼Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;The property is a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/Shorthand_properties&quot;&gt;shorthand&lt;/a&gt; that sets the following properties in a single declaration: &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/background-clip&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;background-clip&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/background-color&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;background-color&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/background-image&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;background-image&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/background-origin&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;background-origin&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/background-position&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;background-position&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/background-repeat&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;background-repeat&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/background-size&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;background-size&lt;/code&gt;&lt;/a&gt;, and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/background-attachment&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;background-attachment&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          æ€»ç»“
        &lt;/h3&gt;
      
&lt;p&gt;å°±ä¸šåŠ¡èƒŒæ™¯è€Œè¨€ï¼Œä¸šåŠ¡ä¸Šæ˜¯ä¸å¯èƒ½å‡ºç°é¡µé¢å†… a ä¼šå˜åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·æ‰“å¼€é¡µé¢ï¼Œé‚£ä¹ˆé¡µé¢æ ¹æ® a æ¥é€‰æ‹©æ˜¾ç¤ºå“ªä¸ªç»„ä»¶ï¼Œä¹‹åæ˜¯ä¸ä¼šå˜çš„ã€‚ä½†æ˜¯å°±æœ‰æŸç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œa åœ¨é¡µé¢æœªåˆ·æ–°æƒ…å†µä¸‹ï¼Œå˜åŒ–äº†ï¼Œå¯¼è‡´æ›´æ–°ä¸ºæ˜¾ç¤ºå¦ä¸€ä¸ªç»„ä»¶äº†ã€‚è‡ªå·±åœ¨åšä¸šåŠ¡éœ€æ±‚æ—¶ï¼Œä»£ç é€»è¾‘ä¸€å®šè¦å¤šåŠ ä¸¥è°¨ï¼ŒåŒæ—¶è¦æ·±å…¥ç†è§£æ¡†æ¶çš„åº•å±‚å®ç°åŸç†ï¼Œæ‰èƒ½æ›´å¥½çš„é¿å…æœªçŸ¥ bugã€‚&lt;/p&gt;
&lt;p&gt;å°±è¿™ä¸ª bug è€Œè¨€ï¼Œåº”è¯¥æœ‰ä¸‰ä¸ªåŸºç¡€çŸ¥è¯†ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;css è§„åˆ™ä¸­ï¼Œåé¢çš„ä¼šè¦†ç›–å‰é¢çš„&lt;/li&gt;
&lt;li&gt;background ç­‰å®é™…ä¸Šæ˜¯ä¸€ç³»åˆ— css è§„åˆ™çš„ç®€å†™&lt;/li&gt;
&lt;li&gt;vue ä¸­ç»„ä»¶å¤ç”¨ä»¥åŠé«˜æ•ˆæ›´æ–° style é€»è¾‘&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[canvas-æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°ç¢°æ’æ£€æµ‹]]></title><description><![CDATA[è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬å…­ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼šcanvas æ ¸å¿ƒæŠ€æœ¯ã€‚åœ¨ä¸Šä¸€ç¯‡canvasâ€¦]]></description><link>https://snayan.github.io//post/how_to_detect_collision/</link><guid isPermaLink="false">https://snayan.github.io//post/how_to_detect_collision/</guid><pubDate>Sun, 26 Aug 2018 19:22:17 GMT</pubDate><content:encoded>&lt;p&gt;è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬å…­ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼š&lt;a href=&quot;/post/core_html5_canvas/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šä¸€ç¯‡&lt;a href=&quot;/post/how_to_implement_complex_animations/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°å¤æ‚çš„åŠ¨ç”»&lt;/a&gt;ç¬”è®°ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†è®¨è®ºäº†åœ¨åˆ¶ä½œå¤æ‚åŠ¨ç”»æ—¶ï¼Œéœ€è¦è€ƒè™‘æ—¶é—´å› ç´ ï¼Œç‰©ç†å› ç´ ç­‰ï¼ŒåŒæ—¶è¿˜å›é¡¾äº†å¦‚ä½•ä½¿ç”¨ç¼“åŠ¨å‡½æ•°æ¥æ‰­æ›²æ—¶é—´è½´å®ç°éçº¿æ€§è¿åŠ¨ï¼Œæ¯”å¦‚å¸¸è§çš„ç¼“å…¥ï¼Œç¼“å‡ºï¼Œç¼“å…¥ç¼“å‡ºç­‰ã€‚åœ¨æ¸¸æˆæˆ–è€…åŠ¨ç”»ä¸­ï¼Œè¿åŠ¨çš„ç‰©ä½“åœ¨å˜åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒä»¬æ˜¯æœ‰å¯èƒ½ç¢°æ’åœ¨ä¸€èµ·çš„ï¼Œé‚£ä¹ˆè¿™ä¸€ç¯‡æˆ‘ä»¬å°±æ¥è¯¦ç»†å­¦ä¹ ä¸‹å¦‚ä½•è¿›è¡Œç¢°æ’æ£€æµ‹ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          è¾¹ç•Œå€¼æ£€æµ‹
        &lt;/h3&gt;
      
&lt;p&gt;æœ€ç®€å•çš„æ£€æµ‹æ‰‹æ®µå°±æ˜¯è¾¹ç•Œå€¼æ£€æµ‹äº†ï¼Œå°±æ˜¯å¯¹ä¸€ä¸ªè¿åŠ¨çš„ç‰©ä½“çš„æŸäº›å±æ€§è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœè¾¾åˆ°äº†è¿™ä¸ªæ¡ä»¶ï¼Œåˆ™è¯´æ˜å‘ç”Ÿäº†ç¢°æ’ã€‚ä¾‹å¦‚åœ¨ä¸Šä¸€ç¯‡ä¸­çš„ç¤ºä¾‹ï¼Œå°çƒè‡ªç”±ä¸‹è½ï¼Œå½“åœ¨æ£€æµ‹å°çƒæ˜¯å¦ä¸åœ°é¢å‘ç”Ÿç¢°æ’æ—¶ï¼Œæˆ‘ä»¬æ˜¯æ£€æµ‹å°çƒä¸‹è½çš„é«˜åº¦ fh æ˜¯å¦è¾¾åˆ°äº†å°çƒæœ¬èº«è·ç¦»åœ°é¢çš„é«˜åº¦ dhï¼Œå¦‚æœ fh &gt; dhï¼Œåˆ™è¯´æ˜å°çƒä¸åœ°é¢å‘ç”Ÿäº†ç¢°æ’ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; distance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; t
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offset &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; distance &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;verticalHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è½åˆ°åœ°é¢äº†ï¼Œå‘ç”Ÿäº†ç¢°æ’&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è¿˜æ²¡æœ‰è½åˆ°åœ°é¢ï¼Œæ²¡æœ‰å‘ç”Ÿç¢°æ’&lt;/span&gt;
  ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offset &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; distance
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;p&gt;&lt;a href=&quot;https://snayan.github.io/canvas-demo/?module=free_fall&quot;&gt;è¿™é‡Œæ˜¯æˆ‘çš„å°çƒè‡ªç”±è½ä½“å®Œæ•´åœ¨çº¿ç¤ºä¾‹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æ£€æµ‹æ–¹å¼éå¸¸çš„ç®€å•ä¸”å‡†ç¡®ï¼Œåœ¨é’ˆå¯¹ç±»ä¼¼ä¸šåŠ¡å¼€å‘æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç®€åŒ–æˆè¾¹ç•Œå€¼æ£€æµ‹ã€‚ä½†æ˜¯å½“æˆ‘ä»¬å¼€å‘è¾ƒä¸ºå¤æ‚æ¸¸æˆæ—¶ï¼Œè¾¹ç•Œå€¼æ£€æµ‹é€šå¸¸ä¸èƒ½å¾ˆå¥½çš„å®ç°ï¼Œä¸ºäº†æ›´åŠ çœŸå®ï¼Œå®ƒé€šå¸¸ä¸å…¶ä»–æ£€æµ‹æ–¹æ³•ä¸€èµ·ä½¿ç”¨ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          å¤–æ¥å›¾å½¢æ£€æµ‹
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨ canvas æ¸¸æˆä¸­ï¼Œå¯¹äºä¸è§„åˆ™çš„ç‰©ä½“ï¼Œæ¯”å¦‚è¿åŠ¨çš„å°äººç­‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŠ½è±¡æˆä¸€ä¸ªçŸ©å½¢ï¼Œä½¿å¾—è¿™ä¸ªçŸ©å½¢æ°å¥½å¯ä»¥åŒ…è£¹è¿™ä¸ªç‰©ä½“ï¼Œåœ¨è¿›è¡Œç¢°æ’æ£€æµ‹æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªçŸ©å½¢æ¥ä»£æ›¿å®é™…çš„ç‰©ä½“ã€‚è¿™ç§æ–¹æ³•ï¼Œå®é™…ä¸Šå°±æ˜¯é€šè¿‡æŠ½è±¡ï¼Œå°†å¤æ‚ç®€å•åŒ–ï¼Œå¯¹äºç²¾ç¡®åº¦ä¸æ˜¯é‚£ä¹ˆé«˜çš„åŠ¨ç”»æˆ–è€…æ¸¸æˆï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨è¿™ç§å¤–æ¥å›¾å½¢æ¥æ£€æµ‹å°±å¯ä»¥äº†ã€‚åœ¨æŠ½è±¡å›¾å½¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦æ ¹æ®å…·ä½“çš„ç‰©ä½“ï¼Œæ¯”å¦‚å°äººå¯ä»¥æŠ½è±¡æˆçŸ©å½¢ï¼Œå¤ªé˜³å°±è¦æŠ½è±¡æˆåœ†äº†ï¼ŒæŠŠå…·ä½“çš„ç‰©ä½“æŠ½è±¡çš„è·Ÿå®ƒç›¸ä¼¼çš„å½¢çŠ¶ï¼Œè¿™æ ·åœ¨æ£€æµ‹æ—¶å°±ä¼šæ›´åŠ å‡†ç¡®ã€‚&lt;/p&gt;
&lt;p&gt;è¿›è¡Œäº†å›¾å½¢æŠ½è±¡ä¹‹åï¼Œæˆ‘ä»¬åœ¨æ£€æµ‹å°±åªéœ€å¯¹å›¾å½¢è¿›è¡Œæ£€æµ‹äº†ã€‚å¯¹äºä¸¤ä¸ªå›¾å½¢æ˜¯å¦å‘ç”Ÿç¢°æ’ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­å®ƒä»¬æ˜¯å¦å­˜åœ¨ç›¸äº¤çš„éƒ¨åˆ†ï¼Œå¦‚æœå­˜åœ¨ç›¸äº¤çš„éƒ¨åˆ†ï¼Œé‚£ä¹ˆåˆ™å¯ä»¥è®¤ä¸ºæ˜¯å‘ç”Ÿäº†ç¢°æ’ï¼Œå¦åˆ™å°±æ²¡æœ‰ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥å­¦ä¹ çŸ©å½¢å’ŒçŸ©å½¢çš„ç¢°æ’æ£€æµ‹ï¼Œåœ†å’Œåœ†çš„ç¢°æ’æ£€æµ‹ï¼ŒçŸ©å½¢å’Œåœ†çš„ç¢°æ’æ£€æµ‹ã€‚&lt;/p&gt;
&lt;p&gt;çŸ©å½¢ä¸çŸ©å½¢ç¢°æ’æƒ…å†µï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/021a715ec6d28ef7020269ad140b05c4/44e11/rect_rect.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 46.128500823723236%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAACvElEQVQoz2No2OirWX9BTr31OpdSxyozkWWpURzh3Yc0vbqeqju1/VNiQAKn/zMwt95lUWq4IKdae15VEiZuU/9f1KXth6J/3zU1hoYbosp5a3LlY1bNMEtYNd0us+k/p1vvS9Ws5bWKyRubPEpP2GvM/snAKhv2ny1q6RKTpPXtzunzuiQarkiqgQxrvC4ikbKpwbtwb4hGUs12XobWO6wKsUDD8vZFaaZvL9Jw7/gi5dLxXSF7T4pF8Jy9JgVH/CU67jNIWVT+l8nbHymRtTvDKnrFfO32+wwKwbMOMTVeE1UNnHVML/9guIXn1DsCDIv/M7DHr55sm7ktTzNu6iol74m3lRQi/7NmbM93ils2U61il6tiy20OGbum/wqxCxcIpq1osU5c12W++T8Dq3Xxf8aG6+IaqYt65HN2pHl4T7oDC4b/TJaV/yWcm/7JO7X+5QeJbPvPwNH7lEGy9Qan/Px/DOzO7b/4PXpfKJqX/JeWDvvPDgu/mosqcp33GOSnvGcQAwvUXVSQqT+rpFN/RVax7R6T0qyfDLwurb9kfXvu6Hr0PVewb/6v4NL5VQBs7X8GhvbrrLpTXjDwgPhZW3MYQbR16X8J1/q/6hAbzmlqJCyZbuU95ZYW0OsmE98ySPj039HJ255oXX1RUz11U60R0HXSQl7/mWKWzVfN3x3jm7yxUU879z8HSH/TLX6huOXTHWKWzHetvS4nzFB20kbVb/oFXcuc/2LBMw6azP/PIBAyb6d29UUNrVnPGYSLDvkZm1X8FwR6VyFw5nG32FUzgyJmbw4DJis9sA8vKdrl7o8JydmdFFRz1NCRoe6ygmrKpkajiFlbjdM3VRhNeMsg7tb1US19a5lJyV4/w7gVM/SBXpYGaS467CdQfUHLquKEpQyIn3ciEOxl3ylXtX0nXzOq2eTCAgAu6BLSdwABiAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/021a715ec6d28ef7020269ad140b05c4/cc182/rect_rect.webp 148w,
/static/021a715ec6d28ef7020269ad140b05c4/f7e40/rect_rect.webp 295w,
/static/021a715ec6d28ef7020269ad140b05c4/1a2f4/rect_rect.webp 590w,
/static/021a715ec6d28ef7020269ad140b05c4/4837b/rect_rect.webp 885w,
/static/021a715ec6d28ef7020269ad140b05c4/2f819/rect_rect.webp 1180w,
/static/021a715ec6d28ef7020269ad140b05c4/72f47/rect_rect.webp 1214w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/021a715ec6d28ef7020269ad140b05c4/cf440/rect_rect.png 148w,
/static/021a715ec6d28ef7020269ad140b05c4/d2d38/rect_rect.png 295w,
/static/021a715ec6d28ef7020269ad140b05c4/b9e4f/rect_rect.png 590w,
/static/021a715ec6d28ef7020269ad140b05c4/f9b6a/rect_rect.png 885w,
/static/021a715ec6d28ef7020269ad140b05c4/2d849/rect_rect.png 1180w,
/static/021a715ec6d28ef7020269ad140b05c4/44e11/rect_rect.png 1214w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/021a715ec6d28ef7020269ad140b05c4/b9e4f/rect_rect.png&quot;
          alt=&quot;rect_rect&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œåˆ—ä¸¾ä¸¤ä¸ªçŸ©å½¢å‘ç”Ÿç¢°æ’çš„æ‰€æœ‰æƒ…å†µï¼Œåœ¨ canvas ä¸­å…·ä½“ä»£ç å®ç°å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªçŸ©å½¢å‘ç”Ÿç¢°æ’ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;didRectCollide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;sprite&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RectSprite&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RectSprite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; horizontal &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; vertical &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; horizontal &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; vertical&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶å®å°±æ˜¯åˆ†åˆ«åœ¨æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘åˆ¤æ–­è¿™ä¸¤ä¸ªçŸ©å½¢æ˜¯å¦å‘ç”Ÿé‡å ã€‚&lt;/p&gt;
&lt;p&gt;åœ†å’Œåœ†ç¢°æ’æƒ…å†µï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b27fa0837a69a17b2ef1367bafc49b05/59a95/circle_circle.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 416px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 63.22115384615385%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAADM0lEQVQ4y12SaUxTQRDHFwoCMRIVIRWicsgVxKiJBhSLUNLy1koBkdZiCIJRI0jwKMghogLKTRWNGCMiJhA+qPGDX4zhg+IdoiJ4IKVUgbTSvqZgrS3tuO9RTMMk/8zszM5vdt9bBABxdrt9bnp62jo5OWFVjY9b9XqdVaPRWHQ6nUWlGrN8H1VaaJq2KJVKC5Nn9mq02jmNRmuemJgAm832FBGbnZ11RQSY+MdsArCTyArwU61lYzvYYHbGCOa/f8E4MwOM0Xo9GI3zsWmGBlqnBYd9YIDEs0B/0y848oMerv1q6Ot4P/X4jtowWE/yR/VafdFvs0lO4lNzNigGM32Upg2nB5TGG/1f6M7nQ5rrZHYZqYscQMRa7gDCh96hrKyXSJj9BgnzXiNZ9guUhhZbxnBgRPlozjr5t1TuiZGk4FKVOLhkJBsdHAphyjE1Yy7o3GCIvObTRsHiXoUuekvNaGjJFNR5MWvJ3T+81HZ94W0AT+d9FQ+0y8VXfxRTLepdbKJyMEjI+BMPoziM35ubuDolUxDhgi5653dtkuR3RFUnJhyW4aonCsyPW4u3hwfgtKxwfLLTAxvAZQGMW9UlRL7sIq9pqyvjk3akrBMkiE4J+SIBRWExL0rCP6yIrE8tq69PlsrzMS+aj5OFu7GAn4mTdh5gQZcG3BzAGCIpCyzuC3N3gDcc74nmMXEvIG/mGzcZUaqs91Hztg7gSgHcKQN4UQBLcNEtCZVT4XxCH6JmdlGr8SdT2l1K+0N9Sl+ERpLrryl/G7K+4EHSiguflx6Qdva28cohXNT4KgDXfQzGZ+4H4SuTYVi0xwPnnWdvh1vG/QjwMirsjWaniDMFK/kx4tVxYfsCtvnKPBYmV4945qXffCYTNOhi2cZ0GQfHb1mDY9evxZgKwgXXvBzAeAJMZ35KBpPoIm+yweTHaZpbxWm0rGKnnv0Yklw1zJWQF+a6W6GsxK0q9ntR3eBGtencqB7gzMPG3AisjGgZAzy2AHU2kkuuHAw8KbvXPd/UqtpEGsqJuM77yMm4jvxm52YxUSvRGSI5kYJIulDf/x+qDiQ6S9RAVODwlUzeUXf9B3IPv0bauQfzAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b27fa0837a69a17b2ef1367bafc49b05/cc182/circle_circle.webp 148w,
/static/b27fa0837a69a17b2ef1367bafc49b05/f7e40/circle_circle.webp 295w,
/static/b27fa0837a69a17b2ef1367bafc49b05/4b6e5/circle_circle.webp 416w&quot;
          sizes=&quot;(max-width: 416px) 100vw, 416px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b27fa0837a69a17b2ef1367bafc49b05/cf440/circle_circle.png 148w,
/static/b27fa0837a69a17b2ef1367bafc49b05/d2d38/circle_circle.png 295w,
/static/b27fa0837a69a17b2ef1367bafc49b05/59a95/circle_circle.png 416w&quot;
          sizes=&quot;(max-width: 416px) 100vw, 416px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/b27fa0837a69a17b2ef1367bafc49b05/59a95/circle_circle.png&quot;
          alt=&quot;circle_circle&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åˆ¤æ–­ä¸¤ä¸ªåœ†æ˜¯å¦å‘ç”Ÿç¢°æ’ï¼Œå°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªåœ†çš„åœ†å¿ƒä¹‹é—´çš„è·ç¦»æ˜¯å¦å°äºå®ƒä»¬çš„åŠå¾„ä¹‹å’Œï¼Œå¦‚æœå°äºåŠå¾„ä¹‹å’Œï¼Œåˆ™å‘ç”Ÿç¢°æ’ï¼Œå¦åˆ™å°±æ²¡æœ‰å‘ç”Ÿç¢°æ’ã€‚ä¸»è¦å°±æ˜¯è®¡ç®—ä¸¤ä¸ªåœ†å¿ƒä¹‹é—´çš„è·ç¦»ï¼Œå¯ä»¥æ ¹æ®åæ ‡ç³»ä¸­ä¸¤ç‚¹ä¹‹é—´è·ç¦»å…¬å¼å¾—åˆ°ï¼Œ&lt;/p&gt;
&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;âˆ£&lt;/mi&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;âˆ£&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msqrt&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;/msqrt&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;|AB| = \sqrt{(x_1-x_2)^2 + (y_1-y2)^2}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;âˆ£&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05017em;&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;âˆ£&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.24em;vertical-align:-0.25612499999999994em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord sqrt&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.983875em;&quot;&gt;&lt;span class=&quot;svg-align&quot; style=&quot;top:-3.2em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.2em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot; style=&quot;padding-left:1em;&quot;&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.30110799999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ’&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.30110799999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.740108em;&quot;&gt;&lt;span style=&quot;top:-2.9890000000000003em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.30110799999999993em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ’&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.740108em;&quot;&gt;&lt;span style=&quot;top:-2.9890000000000003em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-2.9438750000000002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.2em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hide-tail&quot; style=&quot;min-width:1.02em;height:1.28em;&quot;&gt;&lt;svg width=&apos;400em&apos; height=&apos;1.28em&apos; viewBox=&apos;0 0 400000 1296&apos; preserveAspectRatio=&apos;xMinYMin slice&apos;&gt;&lt;path d=&apos;M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z&apos;/&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.25612499999999994em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;åœ¨ canvas ä¸­å…·ä½“ä»£ç å®ç°å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* åˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªåœ†å‘ç”Ÿç¢°æ’ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;didCircleCollide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;sprite&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CircleSprite&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CircleSprite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;distance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;radius &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;radius&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;çŸ©å½¢å’Œåœ†ç¢°æ’æƒ…å†µï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d85889d3d0b988f032d5297b8cea1e7f/75624/rect_circle.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 260px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 101.15384615384615%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD9klEQVQ4y51UUUxbVRj+T6HNEJmZbIXS2dGVdhRcQ7Wt3VBBN+MeTHjRxOAWHnQmhMjDZLK6tljoPedeUDe3iXGQLC5MrbS01A2cZeDmyEIIlHYUhclW4Jb4oDGaLFn24PXc261pmDNuJ/lzTs/9znf+//zfV4A1Awd5JM7MAF9CQvxL3CD/AhPkrXe+wQMN8QAeWJHWlMj+du/KRtibXNcV5iu9A/zm7AvvO14RAMbadKi/V4lciwpELu2ViftsOGlz9s3qGz8ZV9G1lQnNbZIIL9fLSBwQiQFiZgF9fCUXXXYYpN/tP/3HRcQjKJjQbVvH2Zs7cZ+w+X+XuVWAnKkWMJz9HLa4kqBhozItG5Vrnaug/uqLDYbvGHNV659QzE0ptDSzUhxLB82olLkq1x6ZAM1MM+jJLKjax1sQuBPmyt7TBxzdX3tfa1tYZ2BjoKOkemcSdL5TxdsvusqePpQCHTeN9JSkTIo4jRm53nsNtnw0Vm31c+0NeErzOk5CHpDvu/cfHj1mcfgEDfnm76oHamKP8AgO3HzWOSQU4cjJBhw5UgLsGNP0ZuBlI2wX5Gx4seb94fdkbALAuQTId6oI/eDWIcdKLiIjHhkedclwTIbwSKfUOBK6YfIEZrZaGinhxI5deGh4N+BIdwMZOfoM9t+uxMGlqrvyIcFURkpslv6IKK070qGzhgkmd9YdEOR4pKseDwfLAUcLjThyvBbTkrP1uFbIdF1GQ3sPZnBeR/oFM/5x36vkuviGcaggK7BB+njlRbSG5O5so64x0tlEI1NFNpYkoArHFOsBx1AFjhaopc2ZfFgL9vj5gg/D/FO7mBvKTY2LeZ1h3tIR4NdncKPuHOlsHCx4WvlYOsM4qKTNGNyTnavnIuDQanX7lwlDh++aHodSdktRGkP9nrEhntxWy94CBWBK2DklkzL0zANio9RW8XRQm0kHPEMLj3b1J6q5wLzdM3w1TyIY6ZI67f12spDz37Jxo+59zLnzO4CN5lQ0/yUvhIccXOAP2+5OIf+dCftz3LlIHbRdB2OoB2yXONjoWgIVvUBNs1PT8tXUYmox+4O/QfEQtpsGTpjKHasiBomYEhLNfcI7eqbuxHH3k8fOmJs6LkT2QMvCW8rTJw81f+ZrfaNtIb+CWq+cNspICaWgljM6UmA4z2ms/p4iMxX8NvosRhyTG9lZMHwwWW/51Hd0f19va5Mr8osVSOD32ncHhFJnUNATn2B62NKty4Ii/Qbh5RrLwcnH9+DpAm4w+bxoPfKzJAOpMdwUQq2/AoowWhTsVqHDy2LjEMKxXMTOAfKMuzKddl2YQ6I8arjBlJIK13A/0f7r/2UWJhv/DwmE4i8WE7XcAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d85889d3d0b988f032d5297b8cea1e7f/cc182/rect_circle.webp 148w,
/static/d85889d3d0b988f032d5297b8cea1e7f/45b18/rect_circle.webp 260w&quot;
          sizes=&quot;(max-width: 260px) 100vw, 260px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d85889d3d0b988f032d5297b8cea1e7f/cf440/rect_circle.png 148w,
/static/d85889d3d0b988f032d5297b8cea1e7f/75624/rect_circle.png 260w&quot;
          sizes=&quot;(max-width: 260px) 100vw, 260px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/d85889d3d0b988f032d5297b8cea1e7f/75624/rect_circle.png&quot;
          alt=&quot;rect_circle&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æƒ…å†µï¼Œå°±æ˜¯åˆ¤æ–­åœ†å½¢åˆ°çŸ©å½¢ä¸Šæœ€è¿‘çš„ä¸€ç‚¹çš„è·ç¦»æ˜¯å¦å°äºåœ†çš„åŠå¾„ï¼Œå¦‚æœå°äºåœ†çš„åŠå¾„ï¼Œåˆ™å‘ç”Ÿç¢°æ’ï¼Œå¦åˆ™å°±æ²¡æœ‰å‘ç”Ÿç¢°æ’ã€‚æˆ‘ä»¬é¦–å…ˆè¦æ‰¾åˆ°åœ†è·ç¦»çŸ©å½¢ä¸Šæœ€è¿‘çš„ç‚¹çš„åæ ‡ï¼Œè¿™ç§å°±è¦è€ƒè™‘åœ†å¿ƒåœ¨çŸ©å½¢å·¦ä¾§ï¼Œåœ†å¿ƒåœ¨çŸ©å½¢ä¸Šé¢ï¼Œåœ†å¿ƒåœ¨çŸ©å½¢å³ä¾§ï¼Œåœ†å¿ƒåœ¨çŸ©å½¢ä¸‹é¢ï¼Œåœ†å¿ƒåœ¨çŸ©å½¢é‡Œé¢è¿™äº”ç§æƒ…å†µã€‚å¦‚æœåœ†å¿ƒåœ¨çŸ©å½¢é‡Œé¢ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ç¢°æ’çš„ã€‚å…¶ä»–å››ç§æƒ…å†µæ ¹æ®æ¯ä¸€ç§æƒ…å†µæ¥è®¡ç®—å¾—åˆ°çŸ©å½¢ä¸Šç¦»åœ†å¿ƒæœ€è¿‘çš„ä¸€ç‚¹ï¼Œä¸‹é¢ä¸¾ä¾‹å…¶ä¸­ä¸€ç§æƒ…å†µï¼Œå…¶ä»–æƒ…å†µåŸç†ç±»ä¼¼ï¼Œæ¯”å¦‚åœ†å¿ƒåœ¨çŸ©å½¢å·¦ä¾§ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/439ef263b5a5e41bf8685b5f1b0dfb91/10448/rect_circle_left.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 313px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 74.4408945686901%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAAB+0lEQVQ4y2NgAILW9U8429Y/sW7f8NSmbf1TdZBY8/E4po7zrIztlxgI44sINkgvQ8eGJ8q1q57KAZmMHetvWWRv/8/JQAkAuk6gbd1j0/qNL9SnzL9otHaqjkbdPQa5jvNM8m0XGeTbLhHG7RCsADIM4sr1d/iaNv2Xmr24SGbuZma72ocMYkAD5YCKZIjAskBviwNpI4b2jY8Y2jdADV39Ra1lz26buhNt7mT59CKDMMiFTBAXPlCu2vhfsS1XU2zuwuoMpwf/WcGKThkQEzFgM4C0FNz0jvXXOVrWfTZoW7/MoGdbaxRIbNUtBniQ4AOw2AV6WxKUZEQ6Njw1aN34RLxz5n/W5n2r9OuuK+mAFNRfdGQkxqsoBgLDzzZt2nWB9tU3zdtXfhU9MoGBa+EaXgOQgkVrmBhJdiHIQKOKGxxta+4aNK//I7V5CoPA8kVSRiAFC1cLMQEDGqSBEGaEGiwJCiMZYMI2atvwWAUkWPSPgbP2HoMGObEMdKEYmJG34AGYbl7zX6h/c4XihOMMRhUPxVg7LjDwAm3lJgKD1LECsSrIhRDnrnuoXL/lvdbMWfvs5y4LCap7zKAMzMvaQFu1COJLYKwJZOvDk0XnxicmEsln2crmXZBsX/dZn5J8DKNVgUnIDEhbtm+4C06gbfsaQSUJAykYAMJ0RLxDjoiyAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/439ef263b5a5e41bf8685b5f1b0dfb91/cc182/rect_circle_left.webp 148w,
/static/439ef263b5a5e41bf8685b5f1b0dfb91/f7e40/rect_circle_left.webp 295w,
/static/439ef263b5a5e41bf8685b5f1b0dfb91/53319/rect_circle_left.webp 313w&quot;
          sizes=&quot;(max-width: 313px) 100vw, 313px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/439ef263b5a5e41bf8685b5f1b0dfb91/cf440/rect_circle_left.png 148w,
/static/439ef263b5a5e41bf8685b5f1b0dfb91/d2d38/rect_circle_left.png 295w,
/static/439ef263b5a5e41bf8685b5f1b0dfb91/10448/rect_circle_left.png 313w&quot;
          sizes=&quot;(max-width: 313px) 100vw, 313px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/439ef263b5a5e41bf8685b5f1b0dfb91/10448/rect_circle_left.png&quot;
          alt=&quot;rect_circle_left&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€è¿‘ä¸€ç‚¹çš„ X è½´åæ ‡è·ŸçŸ©å½¢å·¦ä¸Šè§’åæ ‡çš„ X è½´åæ ‡ç›¸ç­‰ï¼Œè·Ÿåœ†å¿ƒ Y è½´åæ ‡ç›¸ç­‰ï¼Œè¿™æ ·å°±å¯ä»¥å¾—å‡ºæ¥äº†ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/msub&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(rect_x,circle_y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.036108em;vertical-align:-0.286108em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.151392em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.01968em;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15139200000000003em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.286108em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚åœ¨ canvas ä¸­å…·ä½“ä»£ç å®ç°å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* åˆ¤æ–­æ˜¯å¦çŸ©å½¢å’Œåœ†å½¢å‘ç”Ÿç¢°æ’ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;didRectWidthCircleCollide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;rectSprite&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; RectSprite&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; circleSprite&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CircleSprite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; closePoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;circleSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    closePoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;circleSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    closePoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; circleSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    closePoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;left &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;circleSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    closePoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;circleSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    closePoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; circleSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    closePoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;top &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; rectSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;distance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;circleSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; circleSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; closePoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; closePoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; circleSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;radius&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://snayan.github.io/canvas-demo/?module=collide_01&quot;&gt;è¿™é‡Œæ˜¯æˆ‘çš„å¤–æ¥å›¾å½¢ç¢°æ’æ£€æµ‹åœ¨çº¿ç¤ºä¾‹&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          å…‰çº¿æŠ•å°„æ£€æµ‹
        &lt;/h3&gt;
      
&lt;blockquote&gt;
&lt;p&gt;å…‰çº¿æŠ•å°„æ³•ï¼šç”»ä¸€æ¡ä¸ç‰©ä½“çš„é€Ÿåº¦å‘é‡ç›¸é‡åˆçš„çº¿ï¼Œç„¶åå†ä»å¦å¤–ä¸€ä¸ªå¾…æ£€æµ‹ç‰©ä½“å‡ºå‘ï¼Œç»˜åˆ¶ç¬¬äºŒæ¡çº¿ï¼Œæ ¹æ®ä¸¤æ¡çº¿çš„äº¤ç‚¹ä½ç½®æ¥åˆ¤å®šæ˜¯å¦å‘ç”Ÿç¢°æ’ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ee3929ae6a4c3a0fc9ec566974c52cd9/156be/light_collide.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 97.96557120500783%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD2UlEQVQ4y41TbUybVRS+0NIhmWYx+sPE/fGf2cx+qIkJy+KP1YyB8YfizDQmxiVGozPRxBkyfsh0yrIZWb9oIVPgjYk6oySGsMUFs5XS0mJLocDGVwUK/XgLvP1uL5zjuS8tH9tknuTJOffcc+99nvOelzGy5uZmZrVaRcia7C+UCf/lyMGnm7wHWjq7v9vXZul43Nh2SSfytjYbq6+vZ3q9ntXW1qpnao4d24wZIrKSmc1mbdsVi+7ce12ak6ePPvHB5cOHTrz+xv6GhoaHu6ROncFg0LC77J23392Z0P/Myi98c1HX2tr6qMlsKv+94y81f6DsZLnw1dXVFaVak8mou9L+fcXR2sPaU+aD2ppXj2hF/pXXarYYCjv31RdPdnZ2VbH/Yd39bWUfn2p4RMRvvfRp1aUtgex47XHqmfvZz5Fh2YXeE+Vmq0FrsVg0BK3RaNS0t7dXUFxhMpk0pEBr/OFrlW1L9+mnmlzP/3Tx+puHxPrlev3eurq6DSVn7c+8L/y35vNVVptFZ2i5vMdkMlf29fVpbTbbfkmS9gUCAW1vb2/lH9d+q1RuosZ67cxj5x0vfmj65exzeB01n3z20d7GxsaH6HuUPUjhnt23yyvvSflH/JLD4ZCuXv1Vcg+6pRt/3pAGBpxSaHFRohe7CNJ/4EdCR2kNAKpn4XAYFxYWcHZ2FsfHxnHQNYhOpwvX1wHTmTQqioJzc3PIOcdoRNSGMJVMYTaXw1wuj/Pz8wi4ZSwY/IcvLi7ypaUlPj4+zoeH/Xzi9m0eDAYp9nG3283tdjunB7nf5+U+n49PT03zmZkZTpfRvkc9S3dxYsmZYDc1OUks5lGOy7iysoK5fB6GhjwQXgoTmyTG43FUEgnc3UAlygqFAqytrYHwvMCRFwqYz+eLJUDS14VcEJbNZlEgk8lALpcDkU+n0yIPok7UMJID9v5+6Onpgb+HhsDv98Pw8DCQHIhGIxCTZfRSfikcAdeAE71eL96iMy6nE6amp2FsbAwGB90QiUY3LlxZXcFINIKhUAhjsRhQC1S2wujVkscioGhIqtTcNiVqnvX3O4B6CHmSurEH921QEXevoXhgc495fT6Yn5uDcCSC0WgUUqkULi8vEwMO220bu02WRexYM8GMr3HMZDOYSCbUhq+urgI+8JveXwpLJBIgx2SIEURMDNXnaHxAlmWgwaZ4GajHQOOjrksyt8ndBBsNBNDj8ah/Bw02TtJMxmkeR0ZHcZQweecOTkxMoP3mLaQvSvtTuzJn1C+FXldo2hVioAgT62gspiSTSUWWNzzV7gCRuycn8C+G9FsqdBty4wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ee3929ae6a4c3a0fc9ec566974c52cd9/cc182/light_collide.webp 148w,
/static/ee3929ae6a4c3a0fc9ec566974c52cd9/f7e40/light_collide.webp 295w,
/static/ee3929ae6a4c3a0fc9ec566974c52cd9/1a2f4/light_collide.webp 590w,
/static/ee3929ae6a4c3a0fc9ec566974c52cd9/32884/light_collide.webp 639w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ee3929ae6a4c3a0fc9ec566974c52cd9/cf440/light_collide.png 148w,
/static/ee3929ae6a4c3a0fc9ec566974c52cd9/d2d38/light_collide.png 295w,
/static/ee3929ae6a4c3a0fc9ec566974c52cd9/b9e4f/light_collide.png 590w,
/static/ee3929ae6a4c3a0fc9ec566974c52cd9/156be/light_collide.png 639w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ee3929ae6a4c3a0fc9ec566974c52cd9/b9e4f/light_collide.png&quot;
          alt=&quot;light_collide&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…‰çº¿æŠ•å°„æ³•ä¸€èˆ¬è¿˜ä¼šç»“åˆè¾¹ç•Œå€¼æ£€æµ‹æ¥è¿›è¡Œä¸¥æ ¼å‡†ç¡®çš„åˆ¤æ–­ï¼Œè¿™ç§æ–¹æ³•è¦æ±‚æˆ‘ä»¬åœ¨åŠ¨ç”»æ›´æ–°ä¸­ï¼Œä¸æ–­è®¡ç®—å‡ºä¸¤ä¸ªé€Ÿåº¦å‘é‡çš„äº¤ç‚¹åæ ‡ï¼Œæ ¹æ®äº¤ç‚¹åæ ‡åˆ¤æ–­æ˜¯å¦æ»¡è¶³ç¢°æ’æ¡ä»¶ï¼Œäº¤ç‚¹æ»¡è¶³äº†æ¡ä»¶ï¼Œæˆ‘ä»¬è¿˜è¦è¿ç”¨è¾¹ç•Œå€¼æ£€æµ‹æ–¹æ³•æ¥æ£€æµ‹è¿åŠ¨ç‰©ä½“æ˜¯å¦æ»¡è¶³è¾¹ç•Œå€¼æ¡ä»¶ï¼Œåªæœ‰åŒæ—¶æ»¡è¶³æ‰åˆ¤æ–­ä¸ºå‘ç”Ÿç¢°æ’ã€‚è¿™ç§æ£€æµ‹ï¼Œå‡†ç¡®åº¦ä¸€èˆ¬æ¯”è¾ƒé«˜ï¼Œç‰¹åˆ«æ˜¯é€‚ç”¨äºè¿åŠ¨é€Ÿåº¦å¿«çš„ç‰©ä½“ã€‚ä»¥å°çƒæŠ•æ¡¶ç¤ºä¾‹ï¼Œæ£€æµ‹ä»£ç å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* æ˜¯å¦å‘ç”Ÿç¢°æ’ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;didCollide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CircleSprite&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ImageSprite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; k1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;verticalVelocity &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;horizontalVelocity&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; b1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; k1 &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; inertSectionY &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockTop&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//è®¡ç®—äº¤ç‚¹Yåæ ‡&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; insertSectionX &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inertSectionY &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; k1&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//è®¡ç®—äº¤ç‚¹Xåæ ‡&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    insertSectionX &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockLeft &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    insertSectionX &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockLeft &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockWidth &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockLeft &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockLeft &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockWidth &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockTop &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockTop &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; bucket&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockHeight
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://snayan.github.io/canvas-demo/?module=collide_02&quot;&gt;è¿™é‡Œæ˜¯æˆ‘çš„å…‰çº¿æŠ•å°„æ£€æµ‹åœ¨çº¿ç¤ºä¾‹&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          åˆ†ç¦»è½´æ£€æµ‹
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨åˆ¤æ–­å‡¸å¤šè¾¹å½¢çš„ç¢°æ’æ£€æµ‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†ç¦»è½´æ–¹æ³•ã€‚åœ¨å­¦ä¹ åˆ†ç¦»è½´æ£€æµ‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆç†Ÿæ‚‰å‘é‡çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;p&gt;å‘é‡åŸºç¡€çŸ¥è¯†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å¹³é¢äºŒç»´åæ ‡ç³»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘é‡æ¥è¡¨ç¤ºæŸä¸ªç‚¹çš„ä½ç½®ã€‚å‘é‡è¡¨ç¤ºæ³•å°±æ˜¯ä»åæ ‡åŸç‚¹ï¼ˆ0ï¼Œ0ï¼‰æŒ‡å‘ç›®æ ‡ç‚¹ï¼ˆxï¼Œyï¼‰ ã€‚&lt;/li&gt;
&lt;li&gt;ä¸¤ä¸ªå‘é‡ç›¸å‡ï¼Œç»“æœæ˜¯å¦å¤–ä¸€æ¡æ–°çš„å‘é‡ã€‚&lt;/li&gt;
&lt;li&gt;ä¸¤ä¸ªå‘é‡åšç‚¹ç§¯ï¼Œå¯ä»¥å¾—åˆ°æŠ•å½±çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å•ä½å‘é‡ï¼Œå°±æ˜¯é•¿åº¦ä¸º 1 çš„å‘é‡ï¼Œå…¶å®é™…ä½œç”¨æ˜¯è¡¨ç¤ºæ–¹å‘ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå‘é‡å‚ç›´äºå¦å¤–ä¸€ä¸ªå‘é‡ï¼Œæˆ‘ä»¬å«åšæ³•å‘é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/423cbfbd7588a0c331062f0086befa24/bb59d/system.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 64.1566265060241%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA80lEQVQoz5WS22qEMBCGff+3KwixFMGSVcz5OInizf5doV0LW+13NSHzmZlxmvwgpVRKMcZIKRHgmC/QfMvruvZ937bttm3/kwERWWuVUniZfrj2MhyYQghl9CyUdzGGFHyiTFdlKaSyEkEIySg3fQzOWCp0Lmutp2kMyRMVb3Q0inL8o/+jrDS/8Zhics5KEULImU56xlhgLsvivee3zxJ9Dr7UWl5Ta0V+sw8Zc0LN3Ttj7ZuWX43LJ8QTOCJzGIau6w4yYwy/GquyJ70C4xzHkXP+u2xcIChnLA8OA8NX53m+uJ7IOWyYcw41Qz4199W7A+Fr3wFYGbujAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/423cbfbd7588a0c331062f0086befa24/cc182/system.webp 148w,
/static/423cbfbd7588a0c331062f0086befa24/f7e40/system.webp 295w,
/static/423cbfbd7588a0c331062f0086befa24/1a2f4/system.webp 590w,
/static/423cbfbd7588a0c331062f0086befa24/4837b/system.webp 885w,
/static/423cbfbd7588a0c331062f0086befa24/2f819/system.webp 1180w,
/static/423cbfbd7588a0c331062f0086befa24/e01b7/system.webp 1328w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/423cbfbd7588a0c331062f0086befa24/cf440/system.png 148w,
/static/423cbfbd7588a0c331062f0086befa24/d2d38/system.png 295w,
/static/423cbfbd7588a0c331062f0086befa24/b9e4f/system.png 590w,
/static/423cbfbd7588a0c331062f0086befa24/f9b6a/system.png 885w,
/static/423cbfbd7588a0c331062f0086befa24/2d849/system.png 1180w,
/static/423cbfbd7588a0c331062f0086befa24/bb59d/system.png 1328w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/423cbfbd7588a0c331062f0086befa24/b9e4f/system.png&quot;
          alt=&quot;system&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mover accent=&quot;true&quot;&gt;&lt;mrow&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;true&quot;&gt;â†’&lt;/mo&gt;&lt;/mover&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mover accent=&quot;true&quot;&gt;&lt;mrow&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;true&quot;&gt;â†’&lt;/mo&gt;&lt;/mover&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mover accent=&quot;true&quot;&gt;&lt;mrow&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;true&quot;&gt;â†’&lt;/mo&gt;&lt;/mover&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\overrightarrow{oa} -\overrightarrow{ob} = \overrightarrow{ba}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.03589em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord accent&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.9525600000000001em;&quot;&gt;&lt;span style=&quot;top:-3em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;svg-align&quot; style=&quot;top:-3.43056em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hide-tail&quot; style=&quot;height:0.522em;min-width:0.888em;&quot;&gt;&lt;svg width=&apos;400em&apos; height=&apos;0.522em&apos; viewBox=&apos;0 0 400000 522&apos; preserveAspectRatio=&apos;xMaxYMin slice&apos;&gt;&lt;path d=&apos;M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z&apos;/&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ’&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.21644em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord accent&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.21644em;&quot;&gt;&lt;span style=&quot;top:-3em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;svg-align&quot; style=&quot;top:-3.69444em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hide-tail&quot; style=&quot;height:0.522em;min-width:0.888em;&quot;&gt;&lt;svg width=&apos;400em&apos; height=&apos;0.522em&apos; viewBox=&apos;0 0 400000 522&apos; preserveAspectRatio=&apos;xMaxYMin slice&apos;&gt;&lt;path d=&apos;M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z&apos;/&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.21644em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord accent&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.21644em;&quot;&gt;&lt;span style=&quot;top:-3em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;svg-align&quot; style=&quot;top:-3.69444em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hide-tail&quot; style=&quot;height:0.522em;min-width:0.888em;&quot;&gt;&lt;svg width=&apos;400em&apos; height=&apos;0.522em&apos; viewBox=&apos;0 0 400000 522&apos; preserveAspectRatio=&apos;xMaxYMin slice&apos;&gt;&lt;path d=&apos;M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z&apos;/&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mover accent=&quot;true&quot;&gt;&lt;mrow&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;true&quot;&gt;â†’&lt;/mo&gt;&lt;/mover&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mover accent=&quot;true&quot;&gt;&lt;mrow&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mrow&gt;&lt;mo stretchy=&quot;true&quot;&gt;â†’&lt;/mo&gt;&lt;/mover&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;âˆ£&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;âˆ£&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\overrightarrow{oa} * \overrightarrow{ob} = |od|&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.9525600000000001em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord accent&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.9525600000000001em;&quot;&gt;&lt;span style=&quot;top:-3em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;svg-align&quot; style=&quot;top:-3.43056em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hide-tail&quot; style=&quot;height:0.522em;min-width:0.888em;&quot;&gt;&lt;svg width=&apos;400em&apos; height=&apos;0.522em&apos; viewBox=&apos;0 0 400000 522&apos; preserveAspectRatio=&apos;xMaxYMin slice&apos;&gt;&lt;path d=&apos;M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z&apos;/&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.21644em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord accent&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.21644em;&quot;&gt;&lt;span style=&quot;top:-3em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;svg-align&quot; style=&quot;top:-3.69444em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hide-tail&quot; style=&quot;height:0.522em;min-width:0.888em;&quot;&gt;&lt;svg width=&apos;400em&apos; height=&apos;0.522em&apos; viewBox=&apos;0 0 400000 522&apos; preserveAspectRatio=&apos;xMaxYMin slice&apos;&gt;&lt;path d=&apos;M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z&apos;/&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;âˆ£&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;âˆ£&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚å¤šä½™å‡¸å¤šè¾¹å½¢çš„æ¯ä¸ªé¡¶ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å‘é‡æ¥è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;åˆ†ç¦»è½´æ£€æµ‹æ€è·¯ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè·å–è¢«æ£€æµ‹å¤šè¾¹å½¢çš„æ‰€æœ‰çš„æŠ•å½±è½´ï¼Œä¸€èˆ¬åªéœ€è¦è®¡ç®—å‡ºå¤šè¾¹å½¢å¯¹åº”è¾¹çš„æŠ•å½±è½´å³å¯&lt;/li&gt;
&lt;li&gt;è®¡ç®—å‡ºè¢«æ£€æµ‹å¤šè¾¹å½¢åœ¨æ¯ä¸€æ¡æŠ•å½±è½´ä¸Šçš„æŠ•å½±&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­å®ƒä»¬çš„æŠ•å½±æ˜¯å¦é‡å ï¼Œå¦‚æœå­˜åœ¨åœ¨ä»»æ„ä¸€æ¡æŠ•å½±è½´çš„æŠ•å½±ä¸é‡å ï¼Œåˆ™è¯´æ˜å®ƒä»¬æ²¡æœ‰å‘ç”Ÿç¢°æ’ï¼Œå¦åˆ™å°±å‘ç”Ÿäº†ç¢°æ’&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* åˆ¤æ–­æ˜¯å¦å‘ç”Ÿç¢°æ’ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;didCollide&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;sprite&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Sprite&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Sprite&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; axes1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;circle&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sprite &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAxes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;otherSprite &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; Polygon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sprite &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; Polygon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAxes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; axes2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;circle&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;otherSprite &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; Circle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAxes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sprite &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; Polygon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;otherSprite &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; Polygon&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAxes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ç¬¬ä¸€æ­¥ï¼šè·å–æ‰€æœ‰çš„æŠ•å½±è½´&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ç¬¬äºŒæ­¥ï¼šè·å–å¤šè¾¹å½¢åœ¨å„ä¸ªæŠ•å½±è½´çš„æŠ•å½±&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ç¬¬ä¸‰æ­¥ï¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸€æ¡æŠ•å½±è½´ä¸Šï¼Œå¤šè¾¹å½¢çš„æŠ•å½±ä¸ç›¸äº¤ï¼Œå¦‚æœå­˜åœ¨ä¸ç›¸äº¤çš„æŠ•å½±åˆ™ç›´æ¥è¿”å›falseï¼Œå¦‚æœæœ‰æ‰€çš„æŠ•å½±è½´ä¸Šçš„æŠ•å½±éƒ½å­˜åœ¨ç›¸äº¤ï¼Œåˆ™è¯´æ˜ç›¸ç¢°äº†ã€‚&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; axes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;axes1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;axes2&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; axis &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; axes&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; projections1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getProjection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;axis&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; projections2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; otherSprite&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getProjection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;axis&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;projections1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;overlaps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;projections2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬å°±æŒ‰ç…§è¿™ä¸‰ä¸ªæ­¥éª¤æ¥ï¼Œä¸€æ­¥ä¸€æ­¥å®ç°åˆ†ç¦»è½´æ£€æµ‹æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;è·å–æŠ•å½±è½´&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5fafe9f889de95c487257a33aa9a0957/3a666/projection.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 434px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 118.20276497695855%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsSAAALEgHS3X78AAADxUlEQVQ4y5VVWUgdSRTtfk/Me2rGrPJkYkbGgHE+xgQSUVFn9EdxQRRBXPBLcUPc8UNEXBBiHAX3DcUdlRH1ZxjBffsQ9xk1iqLign/6Fchi59xKV9PtM4RcKO6tqlunz71167YgfEcGBweZDggIcAoKCvIKDAz8nebQovCjUl9fz3RDQ8Oj4uJiA9nh4eE6GfDHwKampoTm5mZmNzU1ObS3t9uTnZycLKoB8TGhsbFRsc2kq6tLmJ2dVeYzMzN60m5ubrb+/v5O0dHRbB4aGspBRA5kBjgyMiIsLy8ze2JiQtzf32eHh4aGrBYXF9+Mj48/ofno6KjY2tqqOZufny94eHh8nbS1tQnz8/PKJkD13F5YWPhjc3Pz/8vLS2lpaSmD1i4uLnR8H8AO/f39dzXo09PTTA8MDAh7e3sMrLCw0HJlZeWv3d1d6eDgQAJbaWNj411CQoK+o6NDRF4fIsTHpaWljvHx8Y+8vb0NwcHBtupcKTbYeuHwf2dnZ9LOzs719vb2J+hPh4eHEj6egoPWfX19NuTr4+PjiJJ6gZJyxkW90oDB6QFYvd3a2pKOjo4I7APArqElAqU17C/zD9PlSZJkfrN0AaSRi1/W19dPTk9PCeA9AckMr2Xgz5QCRPCnXPQWpMGOlRFpRRAeA+3u7v4Z4a6fnJwwhhxUZvnx+PhYWltb+9doNN6Pi4uz4TXJBxNO++rqSpS//BigG2pQmeGH8/NzCvufyMhIK/KdnJwUfH19tSHTi+js7GT28PCwQdb3OCjACPQjXRLY/e3i4qKvq6u7gzVGAG7Ka2HCJ/RK5LBt5YJ+wMOnsbq62s3PoHatCFR93gyUL9TW1lr29vayYh0bG7sL0E0wa+e+c3NzuoyMDKpFG74GWxv2zfcIcOvq6mpLmDowIXBRTo/yirBvqKmpsQfYPXQmvQYQr0HTORCiHrdoHxIS4uXu7m6l9g0LC9OlpqbaZWVlPauqqjIhRXqzkG+2opaWFuoi1nzP09PTAHDnqKgo3+zsbKfc3FxTUVGRwsqswAkIuWM28sc0QjX09PToY2Ji7qSlpTkib86ZmZl26sMVFRWsS93KkAR1JqiSb1FWVuYKRs/Qnn5S++Xk5CgE8vLyqJl83eAVTs+mpKSE0xdTUlKeFxQU2ONZWnCQ2NhYBsSlsrJSKC8v1zIiIP4WExMTebM0RkREuJpMJpYj5E1MT09ne0lJSQzk1nZ/U9Dimfbz8zN+y0fTAG4TMHuJ4YPxK5wdoH+DforhCvs1hgsG/T7t1J3lW/IF8wwwtBPCeowAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/5fafe9f889de95c487257a33aa9a0957/cc182/projection.webp 148w,
/static/5fafe9f889de95c487257a33aa9a0957/f7e40/projection.webp 295w,
/static/5fafe9f889de95c487257a33aa9a0957/250f3/projection.webp 434w&quot;
          sizes=&quot;(max-width: 434px) 100vw, 434px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/5fafe9f889de95c487257a33aa9a0957/cf440/projection.png 148w,
/static/5fafe9f889de95c487257a33aa9a0957/d2d38/projection.png 295w,
/static/5fafe9f889de95c487257a33aa9a0957/3a666/projection.png 434w&quot;
          sizes=&quot;(max-width: 434px) 100vw, 434px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/5fafe9f889de95c487257a33aa9a0957/3a666/projection.png&quot;
          alt=&quot;projection&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å¤šè¾¹å½¢ä¸­ï¼Œæˆ‘ä»¬æ˜¯ä»¥è¾¹æ¥å»ºç«‹è¾¹å‘é‡çš„ï¼Œè¾¹å‘é‡çš„æ³•å‘é‡ï¼Œå°±æ˜¯è¿™æ¡è¾¹çš„æŠ•å½±è½´äº†ã€‚å¯¹äºæŠ•å½±è½´ï¼Œæˆ‘ä»¬åªéœ€å®ƒçš„æ–¹å‘ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠå®ƒæ ¼å¼åŒ–ä¸ºå•ä½å‘é‡ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è·å–å‡¸å¤šè¾¹å½¢çš„æŠ•å½±è½´&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAxes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; points &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; axes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; j &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; j&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; v1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Vector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; v2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Vector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      axes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          v1
          &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subtract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;perpendicular&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;normalize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; firstPoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lastPoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; v1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Vector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lastPoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lastPoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; v2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Vector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;firstPoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; firstPoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  axes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      v1
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subtract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;perpendicular&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;normalize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; axes&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è·å–äº†å¾…æ£€æµ‹å›¾å½¢çš„æŠ•å½±è½´ä¹‹åï¼Œæˆ‘ä»¬å°±éœ€è¦è®¡ç®—å›¾å½¢åœ¨æ¯æ¡æŠ•å½±è½´ä¸Šçš„æŠ•å½±&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getProjection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Vector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; min &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Number&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MAX_SAFE_INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; max &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Number&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MIN_SAFE_INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Vector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; dotProduct &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dotProduct&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    min &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;min&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dotProduct&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    max &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dotProduct&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Projection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;min&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; max&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœ€ååˆ¤æ–­æŠ•å½±æ˜¯å¦é‡å &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* æŠ•å½±æ˜¯å¦é‡å  */&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;overlaps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;p&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Projection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;max &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;min &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;max &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;min&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä¸­ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªåœ†å½¢ä¸ä¸€ä¸ªå‡¸å¤šè¾¹å½¢çš„æ£€æµ‹æ—¶ï¼Œåœ¨è®¡ç®—åœ†å¯¹åº”çš„æŠ•å½±è½´æ—¶æ¯”è¾ƒç‰¹æ®Šï¼Œåœ†åªæœ‰ä¸€æ¡æŠ•å½±è½´ï¼Œå°±æ˜¯åœ†å¿ƒä¸å®ƒè·ç¦»å¤šè¾¹å½¢æœ€è¿‘é¡¶ç‚¹çš„å‘é‡ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è·å–åœ†çš„æŠ•å½±è½´&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAxes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;polygon&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Polygon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¯¹äºåœ†æ¥è¯´ï¼Œè·å–å…¶æŠ•å½±è½´å°±æ˜¯å°†åœ†å¿ƒä¸ä»–è·ç¦»å¤šè¾¹å½¢æœ€è¿‘é¡¶ç‚¹çš„è¿çº¿&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; nearestPoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; nearestDistance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Number&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;MAX_SAFE_INTEGER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; polygon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; d &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;distance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;d &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; nearestDistance&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      nearestDistance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      nearestPoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; v1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Vector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; v2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Vector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nearestPoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nearestPoint&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;v1&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subtract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;normalize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://snayan.github.io/canvas-demo/?module=collide_03&quot;&gt;è¿™é‡Œæ˜¯æˆ‘çš„åˆ†ç¦»è½´æ£€æµ‹åœ¨çº¿ç¤ºä¾‹&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;è¿™ç¯‡ç¬”è®°è¯¦ç»†è®°å½•äº† 2d å›¾å½¢ä¸­ç¢°æ’æ£€æµ‹çš„æ–¹æ³•ï¼Œæ¯”è¾ƒç®€å•çš„æ–¹æ³•æ˜¯å¤–æ¥å›¾å½¢æ³•å’Œè¾¹ç•Œå€¼æ£€æµ‹æ³•ï¼Œå®ƒä»¬ç›¸å¯¹ä¸æ˜¯é‚£ä¹ˆç²¾ç¡®ï¼Œæ¯”è¾ƒå¤æ‚å’Œç²¾ç¡®çš„æ–¹æ³•æœ‰å…‰çº¿æŠ•å°„æ³•å’Œåˆ†ç¦»è½´æ³•ã€‚æ ¹æ®ä¸åŒçš„åœºæ™¯å’Œç²¾ç¡®åº¦è¦æ±‚ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸åŒçš„æ–¹æ³•ã€‚å…¶ä»–ï¼Œé™¤äº†ä¸Šé¢å‡ ç§ï¼Œè¿˜æœ‰åƒç´ æ£€æµ‹ç­‰æ–¹æ³•ä¹Ÿå¯ä»¥å®ç°ç¢°æ’æ£€æµ‹ï¼Œåƒç´ æ£€æµ‹æ˜¯ä»¥åƒç´ ä¸ºå•ä½æ¥æ£€æµ‹ï¼Œå¦‚æœå­˜åœ¨ä¸é€æ˜çš„åƒç´ åœ¨åŒä¸€ä¸ªåæ ‡ä¸Šé‡å ï¼Œåˆ™è¯´æ˜å‘ç”Ÿäº†ç¢°æ’ï¼Œå…·ä½“å®ç°å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://benjaminhorn.io/code/pixel-accurate-collision-detection-with-javascript-and-canvas/&quot;&gt;Pixel accurate collision detection with Javascript and Canvas&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿™å‡ ç§æ£€æµ‹æ–¹æ³•ï¼Œå¼ºåŠ›å»ºè®®ç†Ÿæ‚‰æŒæ¡åˆ†ç¦»è½´æ³•ï¼Œå› ä¸ºå®ƒä½¿ç”¨çš„èŒƒå›´æœ€ä¸ºå¹¿æ³›ï¼Œå¯¹äºä»»æ„çš„å‡¸å¤šè¾¹å½¢ï¼Œå®ƒéƒ½å¯ä»¥è¾ƒç²¾ç¡®çš„æ£€æµ‹å‡ºæ¥ã€‚ç”±äºåˆ†ç¦»è½´æ£€æµ‹æ³•è®¡ç®—é‡ä¸€èˆ¬æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥åœ¨æ£€æµ‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¿‡æ»¤æ‰é‚£äº›æ ¹æœ¬ä¸å¯èƒ½å‘ç”Ÿç¢°æ’çš„å›¾å½¢ï¼Œä¸€èˆ¬æ–¹æ³•æ˜¯ç©ºé—´åˆ†éš”æ³•ï¼Œæˆ–è€…è¿‡æ»¤å¯è§†åŒºé—´ä¸å¯è§çš„å›¾å½¢ç­‰ï¼Œç„¶åå†å¯¹è¾ƒå°çš„ä¸€éƒ¨åˆ†å¯èƒ½å‘ç”Ÿç¢°æ’çš„å›¾å½¢æ¥è¿›è¡Œè®¡ç®—æ£€æµ‹ï¼Œè¿™æ ·å¯ä»¥æå‡æ£€æµ‹çš„é€Ÿåº¦ã€‚&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-1&apos; &gt;
          å‚è€ƒ
        &lt;/h4&gt;
      
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/JChehe/blog/issues/8&quot;&gt;â€œç­‰ä¸€ä¸‹ï¼Œæˆ‘ç¢°ï¼â€â€”â€”å¸¸è§çš„ 2D ç¢°æ’æ£€æµ‹&lt;/a&gt; ã€Œéƒ¨åˆ†å›¾ç‰‡å¼•ç”¨è¿™ç¯‡æ–‡ç« çš„ï¼Œè¿™ç¯‡æ–‡ç« å†™çš„è¾ƒå¥½ï¼Œå»ºè®®è¯»è€…çœ‹çœ‹ã€&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://book.douban.com/subject/24533314/&quot;&gt;ã€ŠHTML5 Canvas æ ¸å¿ƒæŠ€æœ¯ï¼šå›¾å½¢ã€åŠ¨ç”»ä¸æ¸¸æˆå¼€å‘ã€‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[canavsæ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°å¤æ‚çš„åŠ¨ç”»]]></title><description><![CDATA[è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬äº”ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼šcanvas æ ¸å¿ƒæŠ€æœ¯ã€‚åœ¨ä¸Šä¸€ç¯‡canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°ç®€å•çš„åŠ¨ç”»ç¬”è®°ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†å­¦ä¹ äº†å¦‚ä½•è¿›è¡Œ canvasâ€¦]]></description><link>https://snayan.github.io//post/how_to_implement_complex_animations/</link><guid isPermaLink="false">https://snayan.github.io//post/how_to_implement_complex_animations/</guid><pubDate>Sun, 19 Aug 2018 18:20:34 GMT</pubDate><content:encoded>&lt;p&gt;è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬äº”ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼š&lt;a href=&quot;/post/core_html5_canvas/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸Šä¸€ç¯‡&lt;a href=&quot;/post/how_to_implement_simple_animations/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°ç®€å•çš„åŠ¨ç”»&lt;/a&gt;ç¬”è®°ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†å­¦ä¹ äº†å¦‚ä½•è¿›è¡Œ canvas åæ ‡ç³»çš„å¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬ç­‰æ“ä½œæ¥å®ç°ä¸€äº›æ¯”è¾ƒç®€å•å’Œå•ä¸€çš„åŠ¨ç”»ã€‚ä½†æ˜¯åœ¨å®é™…åŠ¨ç”»ä¸­ï¼Œå½±å“ä¸€ä¸ªåŠ¨ç”»çš„å› ç´ æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”å¦‚ä¸€ä¸ªå°çƒè‡ªç”±è½ä½“è¿åŠ¨ï¼Œæˆ‘ä»¬ä¸ä»…è¦è€ƒè™‘å°çƒçš„åˆå§‹é€Ÿåº¦å’Œåˆå§‹æ–¹å‘ï¼Œè¿˜è¦è€ƒè™‘é‡åŠ›åŠ é€Ÿåº¦ï¼Œç©ºæ°”é˜»åŠ›ç­‰å¤–ç•Œå› ç´ ã€‚è¿™ä¸€ç¯‡ç¬”è®°ï¼Œæˆ‘ä»¬ä¼šè¯¦ç»†å­¦ä¹ å¤æ‚åŠ¨ç”»çš„ç›¸å…³çŸ¥è¯†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          æ ¸å¿ƒé€»è¾‘
        &lt;/h3&gt;
      
&lt;p&gt;æˆ‘ä»¬ç†è§£çš„åŠ¨ç”»ï¼Œåº”è¯¥æ˜¯åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œç‰©ä½“çš„æŸäº›å±æ€§ï¼Œæ¯”å¦‚é¢œè‰²ï¼Œå¤§å°ï¼Œä½ç½®ï¼Œé€æ˜åº¦ç­‰ï¼Œå‘ç”Ÿæ”¹å˜ã€‚åˆ¤æ–­åŠ¨ç”»æµç¨‹åº¦çš„å•ä½æ˜¯åŠ¨ç”»åˆ·æ–°çš„é€Ÿç‡ï¼Œåœ¨æµè§ˆå™¨ä¸­ä¸€èˆ¬æ˜¯æµè§ˆå™¨çš„å¸§é€Ÿç‡ã€‚å¸§é€Ÿç‡è¶Šå¤§ï¼ŒåŠ¨ç”»å°±è¶Šæµç•…ã€‚åœ¨ç°ä»£æµè§ˆå™¨ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬æ˜¯ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame&lt;/code&gt;æ¥æ‰§è¡ŒåŠ¨ç”»ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; raf &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lastFrame &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// åŠ¨ç”»&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// todo:è¿™é‡Œå¯ä»¥æ‰§è¡Œä¸€äº›åŠ¨ç”»æ›´æ–°&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;frame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  raf &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  lastFrame &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; frame
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ä¸€äº›åˆå§‹åŒ–çš„æ“ä½œ&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// æ‰§è¡ŒåŠ¨ç”»&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;cancelAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;raf&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;p&gt;ä¸€èˆ¬å¤§è‡´çš„ç»“æ„å°±æ˜¯è¿™æ ·çš„ï¼Œé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame&lt;/code&gt;ä¸æ–­åœ°åœ¨æµè§ˆå™¨ä¸‹ä¸€å¸§ä¸­æ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;animate&lt;/code&gt;ï¼Œä¸”&lt;code class=&quot;language-text&quot;&gt;animate&lt;/code&gt;å‡½æ•°ä¼šæ¥å—ä¸€ä¸ªå½“å‰å¸§å¼€å§‹æ‰§è¡Œçš„æ—¶é—´æˆ³çš„å‚æ•°ã€‚å¦‚æœæƒ³ä¸­æ–­å½“å‰è¿›è¡Œçš„åŠ¨ç”»ï¼Œåªéœ€è¦è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;cancelAnimationFrame&lt;/code&gt;ï¼Œé‚£ä¹ˆåœ¨ä¸‹ä¸€å¸§ä¸­å°±ä¸ä¼šæ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;animate&lt;/code&gt;å‡½æ•°äº†ã€‚ä¸Šä¸€å¸§æ‰§è¡Œçš„æ—¶é—´ï¼Œå¯ä»¥ç”¨&lt;code class=&quot;language-text&quot;&gt;frame - lastFrame&lt;/code&gt;ï¼Œç„¶åå†æ ¹æ®è¿™ä¸ªå·®å€¼å°±å¯ä»¥è®¡ç®—å‡ºå½“å‰åŠ¨ç”»çš„å¸§é€Ÿç‡äº†ï¼Œå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; fps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lastCalculateFpsTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;calculateFps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lastFrame &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fps &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; frame &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; lastCalculateFpsTime &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;frame &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; lastFrame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    lastCalculateFpsTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; frame
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//åŠ¨ç”»&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// todo:è¿™é‡Œå¯ä»¥æ‰§è¡Œä¸€äº›åŠ¨ç”»æ›´æ–°&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;calculateFps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;frame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  raf &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  lastFrame &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; frame
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨è®¡ç®— fps æ—¶ï¼Œæˆ‘ä»¬æ˜¯ç”¨ 1s é™¤ä»¥ä¸Šä¸€å¸§æ‰§è¡Œçš„æ—¶é—´ï¼Œç”±äº frame çš„å•ä½æ˜¯æ¯«ç§’ï¼Œæ‰€ä»¥æ˜¯ç”¨ 1000 é™¤çš„ã€‚ä¸Šé¢æˆ‘ä»¬è¿˜åšäº†ä¸€ä¸ªä¼˜åŒ–ï¼Œå°±æ˜¯æ¯ 1s æ‰ä¼šå»è®¡ç®—ä¸€æ¬¡ fpsï¼Œè€Œä¸æ˜¯æ¯å¸§éƒ½å»è®¡ç®—ï¼Œå› ä¸ºæ¯å¸§éƒ½å»è®¡ç®—ï¼Œæ„ä¹‰ä¸å¤§ï¼Œä¸”å¢åŠ äº†é¢å¤–çš„è®¡ç®—ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          æ—¶é—´å› ç´ 
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨ç»˜åˆ¶åŠ¨ç”»æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»æŒ‰ç…§åŸºäºæ—¶é—´çš„æ–¹å¼æ¥è®¾è®¡ï¼Œè€Œä¸æ˜¯å½“å‰æµè§ˆå™¨çš„å¸§é€Ÿç‡ã€‚å› ä¸ºï¼Œä¸åŒæµè§ˆå™¨ä¼šæœ‰ä¸åŒçš„å¸§é€Ÿç‡ï¼ŒåŒä¸€æµè§ˆå™¨åœ¨ä¸åŒçš„ GPU è´Ÿè½½ä¸‹å¸§é€Ÿç‡ä¹Ÿå¯èƒ½ä¼šä¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬çš„åŠ¨ç”»å¿…é¡»æ˜¯åŸºäºæ—¶é—´çš„ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯åŒæ ·çš„é€Ÿåº¦åœ¨ç›¸åŒçš„æ—¶é—´å†…ï¼ŒåŠ¨ç”»å˜åŒ–çš„æ˜¯ä¸€è‡´çš„ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬åœ¨è€ƒè™‘å°çƒå‚ç›´ä¸‹è½æ—¶ï¼Œå¿…é¡»è®¾ç½®å°çƒçš„ä¸‹è½çš„é€Ÿåº¦ vï¼Œç„¶åå†æ ¹æ®å…¬å¼&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;s = v * t&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.46528em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.61508em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå¾—å‡ºå°çƒåœ¨å½“å‰æ—¶é—´æ®µå†…çš„ç§»åŠ¨è·ç¦»ï¼Œè®¡ç®—å‡ºå½“å‰å¸§å†…çš„åæ ‡ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* åˆå§‹åŒ– */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lastFrameTime &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;speed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å°çƒåˆé€Ÿé€Ÿåº¦ä¸º:5m/s&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;distance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å°çƒè·ç¦»åœ°é¢é«˜åº¦ä¸º:50m&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pixel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;padding &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;distance &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pixelPerMiter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pixelPerMiter &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;padding &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;distance&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œè®¾å®šäº†å°çƒçš„åˆå§‹é€Ÿåº¦ä¸º&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;5m/s&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå°çƒè·ç¦»åœ°é¢çš„é«˜åº¦ä¸º&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;50&lt;/mn&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;50m&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;m&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œä»¥åŠè®¡ç®—å‡ºäº†ç‰©ç†é«˜åº¦ä¸åƒç´ é«˜åº¦çš„æ¯”å€¼ pixelPerMiterï¼Œè¿™ä¸ªå€¼åœ¨åé¢è®¡ç®—å°çƒçš„åæ ‡æ—¶æ˜¯æœ‰ç”¨åˆ°çš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* æ›´æ–° */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æ›´æ–°å°çƒ&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç„¶åï¼Œåœ¨æ¯å¸§æ›´æ–°å°çƒä½ç½®æ—¶ï¼Œæˆ‘ä»¬å°†ä¸Šä¸€å¸§è¿›è¿‡çš„æ—¶é—´å€¼ä¼ é€’ç»™&lt;code class=&quot;language-text&quot;&gt;ball.update&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* ç§»åŠ¨ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Ball&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elapsed&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å°çƒæ˜¯é™æ­¢çŠ¶æ€ï¼Œä¸æ›´æ–°&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isStill&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; currentSpeed &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; t &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; elapsed &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// elapsedæ˜¯æ¯«ç§’, è€Œé€Ÿåº¦å•ä½æ˜¯m/sï¼Œæ‰€ä»¥è¦é™¤1000&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; distance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offset &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; distance &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;verticalHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœå°çƒæ˜¯å¦å·²ç»è¶…è¿‡å®é™…é«˜åº¦,åˆ™è½åˆ°åœ°é¢äº†&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isStill &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offset &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;verticalHeight&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offset &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; distance&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å†æ ¹æ®å…¬å¼è®¡ç®—å‡ºä¸Šä¸€å¸§æ—¶é—´é‡Œï¼Œå°çƒä¸‹è½çš„è·ç¦» distanceï¼Œç´¯åŠ æ¯ä¸€å¸§ä¸‹è½çš„è·ç¦»ï¼Œåˆ™å¯ä»¥å¾—åˆ°å½“å‰å°çƒä¸‹è½çš„æ€»è·ç¦»ï¼Œå¦‚æœå°çƒä¸‹è½çš„æ€»è·ç¦»å¤§äºäº†å°çƒè·ç¦»åœ°é¢çš„å®é™…é«˜åº¦ï¼Œåˆ™è¡¨ç¤ºå°çƒè½åˆ°åœ°é¢äº†ï¼Œå°±åœæ­¢å°çƒä¸‹è½ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* ç»˜åˆ¶å°çƒ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; CanvasRenderingContext2D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; offset&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pixelPerMiter &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;translate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; offset &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; pixelPerMiter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// offset * pixelPerMiterå¾—åˆ°ä¸‹è½çš„åƒç´ &lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;arc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;restore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœ€ååœ¨ç»˜åˆ¶å°çƒæ—¶ï¼Œå…ˆè¦æ ¹æ®ä¸‹è½çš„å®é™…é«˜åº¦ offset å’Œå‰é¢è®¡ç®—å¾—åˆ°çš„å®é™…é«˜åº¦ä¸åƒç´ é«˜åº¦çš„æ¯”å€¼ï¼Œæ¥å¾—åˆ°å°çƒåœ¨å±å¹•ä¸Šä¸‹è½çš„åƒç´ å€¼ï¼ˆ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;M&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;offset * pixelPerMiter&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.01968em;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.13889em;&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10903em;&quot;&gt;M&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢å°±æ˜¯æˆ‘ä»¬åœ¨å†™å°çƒè‡ªç”±è½ä½“æ—¶çš„å¤§è‡´æ€è·¯ï¼Œé‡ç‚¹æ˜¯è®¾ç½®å°çƒçš„åˆå§‹ä¸‹è½é€Ÿåº¦ï¼Œä»¥åŠåœ¨æ¯ä¸€å¸§é‡Œè®¡ç®—å‡ºå°çƒä¸‹è½çš„è·ç¦»ï¼Œæœ€åæ ¹æ®å®é™…é«˜åº¦ä¸åƒç´ é«˜åº¦æ¯”ï¼Œè®¡ç®—å‡ºå°çƒåœ¨å±å¹•ä¸Šä¸‹è½çš„åƒç´ é«˜åº¦ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰è€ƒè™‘é‡åŠ›åŠ é€Ÿåº¦å’Œç©ºæ°”é˜»åŠ›ç­‰ç‰©ç†å› ç´ ï¼Œä¸‹é¢ï¼Œæˆ‘ä»¬å°±æ¥è€ƒè™‘ç‰©ç†å› ç´ å¯¹åŠ¨ç”»çš„å½±å“ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          ç‰©ç†å› ç´ 
        &lt;/h3&gt;
      
&lt;p&gt;ä¸ºäº†ä½¿åŠ¨ç”»æˆ–è€…æ¸¸æˆè¡¨ç°çš„æ›´åŠ çœŸå®ï¼Œé€šå¸¸éœ€è¦è€ƒè™‘çœŸå®ä¸–ç•Œä¸­ç‰©ç†å› ç´ çš„å½±å“ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»§ç»­è€ƒè™‘å°çƒè‡ªç”±è½ä½“è¿åŠ¨ï¼ŒçœŸå®ä¸–ç•Œä¸­ï¼Œå°çƒè‡ªç”±è½ä½“è¿åŠ¨ä¼šæ”¶åˆ°é‡åŠ›åŠ é€Ÿåº¦ï¼Œç©ºæ°”é˜»åŠ›ï¼Œç©ºæ°”æµå‘ï¼Œåå¼¹ç­‰çš„å½±å“ï¼Œä»è€Œæ”¹å˜å°çƒä¸‹è½çš„é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* åˆ›å»ºå°çƒ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createBall&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; padding&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; speed&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pixelPerMiter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; distance &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ball &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Ball&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; padding &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; verticalHeight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; distance&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pixelPerMiter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useGravity&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setSpeed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;speed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addBehavior&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;move&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨åˆ›å»ºå°çƒæ—¶ï¼Œæˆ‘ä»¬ç»™äº†ä¸€ä¸ªå‚æ•°&lt;code class=&quot;language-text&quot;&gt;userGravity&lt;/code&gt;æ¥è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨é‡åŠ›åŠ é€Ÿåº¦ï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®ä¸º&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿä¼ é€’äº†å°çƒçš„åˆå§‹åæ ‡å’ŒåŠå¾„ï¼Œä»¥åŠåˆå§‹é€Ÿåº¦ç­‰ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GRAVITY&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9.8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// é‡åŠ›åŠ é€Ÿåº¦9.8m/s&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* ç§»åŠ¨ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Ball&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elapsed&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœåº”ç”¨äº†é‡åŠ›åŠ é€Ÿåº¦ï¼Œåˆ™æ›´æ–°é€Ÿåº¦&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;useGravity&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GRAVITY&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç„¶ååœ¨æ›´æ–°å°çƒæ—¶ï¼Œæˆ‘ä»¬å¢åŠ äº†å¯¹å°çƒå½“å‰é€Ÿåº¦çš„è®¡ç®—ï¼Œæ ¹æ®å…¬å¼&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;v = g * t&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.6597200000000001em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.61508em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; è®¡ç®—å‡ºä¸Šä¸€å¸§çš„é€Ÿåº¦ã€‚è¿™æ ·ï¼Œéšç€æ—¶é—´ï¼Œå°çƒçš„é€Ÿåº¦å®é™…ä¸Šæ˜¯ä¸æ–­å¢åŠ çš„ï¼Œå°çƒä¸‹è½çš„ä¼šè¶Šæ¥è¶Šå¿«ã€‚&lt;/p&gt;
&lt;p&gt;å‰é¢æˆ‘ä»¬åœ¨å¤„ç†å°çƒè½åˆ°åœ°é¢æ—¶ï¼Œåªæ˜¯å•çº¯çš„è®©å°çƒåœåœ¨åœ°é¢ä¸Šã€‚ä½†æ˜¯åœ¨å®é™…ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ä¸‹è½çš„å°çƒï¼Œç¢°åˆ°åœ°é¢åï¼Œéƒ½ä¼šåå¼¹ä¸€å®šé«˜åº¦ï¼Œç„¶ååˆä¸‹è½ï¼Œç›´åˆ°å°çƒé™æ­¢åœ¨åœ°é¢ä¸Šã€‚ä¸ºäº†æ›´åŠ çœŸå®æ¨¡æ‹Ÿå°çƒä¸‹è½ï¼Œæˆ‘ä»¬æ¥è€ƒè™‘åå¼¹ç‰©ç†å› ç´ ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;//åˆ›å»ºå°çƒ&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ball &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Ball&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; padding &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  verticalHeight&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; distance&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  pixelPerMiter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  useGravity&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  useRebound&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨åˆ›å»ºå°çƒæ—¶ï¼Œæˆ‘ä»¬ä¼ é€’äº†&lt;code class=&quot;language-text&quot;&gt;useRebound:true&lt;/code&gt;ï¼Œè¡¨ç¤ºå½“å‰å°çƒåº”ç”¨äº†åå¼¹æ•ˆæœï¼Œåœ¨æ›´æ–°å°çƒæ—¶ï¼Œéœ€è¦åˆ¤æ–­å°çƒåœ¨è½åœ°æ—¶ï¼Œå°†å½“å‰é€Ÿåº¦æ–¹å‘åå‘ï¼Œä¸”å¤§å°å‡ä¸ºåŸæ¥çš„ 0.6 å€ï¼Œè¿™ä¸ª 0.6 ç³»æ•°åªæ˜¯ä¸€ä¸ªç»éªŒå€¼ï¼Œåœ¨å…·ä½“æ¸¸æˆä¸­ï¼Œå¯ä»¥è°ƒæ•´ï¼Œè¾¾åˆ°æƒ³è¦çš„æ•ˆæœã€‚ç³»æ•°è¶Šå¤§ï¼Œåå¼¹è¶Šé«˜ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* ç§»åŠ¨ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Ball&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elapsed&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å°çƒæ˜¯é™æ­¢çŠ¶æ€ï¼Œä¸æ›´æ–°&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isStill&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; currentSpeed &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; t &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; elapsed &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// elapsedæ˜¯æ¯«ç§’, è€Œé€Ÿåº¦å•ä½æ˜¯m/sï¼Œæ‰€ä»¥è¦é™¤1000&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// æ›´æ–°é€Ÿåº¦&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;useGravity&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;GRAVITY&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; distance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offset &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; distance &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;verticalHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è½åˆ°åœ°é¢äº†&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨åå¼¹æ•ˆæœ&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;useRebound&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offset &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;verticalHeight&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// é€Ÿåº¦æ–¹å‘å–åï¼Œå¤§å°ä¹˜0.6&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;distance &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pixelPerMiter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; t &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å½“å‰ç§»åŠ¨è·ç¦»å°äº1pxï¼Œåº”è¯¥é™æ­¢äº†ï¼Œ&lt;/span&gt;
        ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isStill &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isStill &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentSpeed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offset &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;verticalHeight&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ball&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;offset &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; distance&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨åº”ç”¨åå¼¹æ•ˆæœæ—¶ï¼Œæˆ‘ä»¬åˆ¤æ–­å½“å‰é€Ÿåº¦åœ¨ 1s å†…åœ¨ä¸‹è½ä½ç§»å°äº 1px æ—¶ï¼Œå°±å°†å°çƒåœæ­¢ï¼Œè¿™æ ·ï¼Œé˜²æ­¢å°çƒåœ¨åå¼¹è·ç¦»å¾ˆå°å¾ˆå°æ—¶ï¼Œè¿›è¡Œä¸å¿…è¦çš„è®¡ç®—ã€‚&lt;/p&gt;
&lt;p&gt;è‡³äºå…¶ä»–ç‰©ç†å› ç´ ï¼Œæ¯”å¦‚é£å‘ï¼Œé˜»åŠ›ç­‰ï¼Œæˆ‘ä»¬å°±ä¸å…·ä½“è®¨è®ºäº†ï¼Œå…·ä½“æ€è·¯è·Ÿä¸Šé¢ä¸€æ ·ï¼Œå…ˆè¿›è¡Œç‰©ç†å»ºæ¨¡ï¼Œç„¶ååœ¨æ›´æ–°è¿‡ç¨‹ä¸­æ ¹æ®ç‰©ç†å…¬å¼è®¡ç®—å—å½±å“çš„å±æ€§ï¼Œæœ€åå†æ ¹æ®å±æ€§å€¼æ¥ç»˜åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://snayan.github.io/canvas-demo/?module=free_fall&quot;&gt;è¿™é‡Œæ˜¯æˆ‘çš„å°çƒè‡ªç”±è½ä½“å®Œæ•´åœ¨çº¿ç¤ºä¾‹&lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          æ—¶é—´è½´æ‰­æ›²
        &lt;/h3&gt;
      
&lt;p&gt;åŠ¨ç”»æ˜¯æŒç»­ä¸€æ®µæ—¶é—´çš„ï¼Œæˆ‘ä»¬å¯ä»¥äº‹å…ˆç»™å®šå…·ä½“çš„æŒç»­æ—¶é—´å€¼ï¼Œè®©åŠ¨ç”»åœ¨è¿™æ®µæ—¶é—´å†…æŒç»­æ‰§è¡Œï¼Œå°±åƒ css3 ä¸­&lt;code class=&quot;language-text&quot;&gt;animation-duration&lt;/code&gt;ï¼Œç„¶åé€šè¿‡æ‰­æ›²æ—¶é—´è½´ï¼Œå¯ä»¥è®©åŠ¨ç”»æ‰§è¡Œéçº¿å½¢è¿åŠ¨ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸è§ç¼“å…¥æ•ˆæœï¼Œç¼“å‡ºæ•ˆæœï¼Œç¼“å…¥ç¼“å‡ºæ•ˆæœç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ—¶é—´è½´æ‰­æ›²ï¼Œæ˜¯é€šè¿‡ä¸€ç³»åˆ—å¯¹åº”çš„ç¼“åŠ¨å‡½æ•°ï¼Œæ ¹æ®å½“å‰çš„æ—¶é—´å®Œæˆæ¯”ç‡ compeletePercentï¼Œè®¡ç®—å¾—åˆ°ä¸€ä¸ªæ‰­æ›²åçš„å€¼ effectPercentï¼Œæœ€åæ ¹æ®è¿™ 2 ä¸ªå€¼å¾—åˆ°æ‰­æ›²åçš„æ—¶é—´å€¼ elapsed&lt;/p&gt;
&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;eplased = actualElapsed * effectPercent/compeletePercent&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.01968em;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.01968em;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05764em;&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.01968em;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.13889em;&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.01968em;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.13889em;&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;çº¿æ€§å‡½æ•°ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;linear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;percent&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; percent&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¼“å…¥å‡½æ•°ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;easeIn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;strength&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;percent&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;percent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; strength &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¼“å‡ºå‡½æ•°ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;easeOut&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;strength&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;percent&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; percent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; strength &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¼“å…¥ç¼“å‡ºå‡½æ•°ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;easeInOut&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;percent&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; percent &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;percent &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://snayan.github.io/canvas-demo/?module=animate&quot;&gt;è¿™é‡Œæ˜¯æˆ‘çš„æ—¶é—´è½´æ‰­æ›²å®Œæ•´åœ¨çº¿ç¤ºä¾‹&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ›´å¤æ‚çš„ç¼“åŠ¨å‡½æ•°è¿˜æœ‰å¼¹ç°§æ•ˆæœï¼Œè´å¡å°”æ›²çº¿ç­‰ï¼Œè¯¦ç»†å¯ä»¥å‚è§&lt;a href=&quot;https://gist.github.com/gre/1650294&quot;&gt;EasingFunctions&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;æœ¬ç¯‡ç¬”è®°ä¸»è¦è®¨è®ºäº†åœ¨ canvas ä¸­å¦‚ä½•å®ç°å¤æ‚çš„åŠ¨ç”»æ•ˆæœï¼Œä»ä¸€ä¸ªå°çƒçš„è‡ªç”±è½åœ°è¿åŠ¨ä¸ºç¤ºä¾‹ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—å°çƒçš„ä¸‹è½è·ç¦»æ—¶ï¼Œæ˜¯ä»¥æ—¶é—´ç»´åº¦æ¥è®¡ç®—ï¼Œè€Œä¸æ˜¯å½“å‰æµè§ˆå™¨çš„å¸§é€Ÿç‡ï¼Œå› ä¸ºå¸§é€Ÿç‡ä¸æ˜¯ä¸€ä¸ªæ’å®šå¯é çš„å€¼ï¼Œå®ƒä¼šä½¿å°çƒçš„è¿åŠ¨å˜å¾—ä¸æ˜ç¡®ã€‚å½“æˆ‘ä»¬ä»¥æ—¶é—´ä¸ºè®¡ç®—å€¼æ—¶ï¼Œå°çƒåœ¨åŒæ ·æ—¶é—´å†…ä¸‹è½çš„è·ç¦»å€¼ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥è®¡ç®—å‡ºæ¥çš„ï¼Œæ˜¯ä¸€ä¸ªå‡†ç¡®ä¸å—å¸§é€Ÿç‡å½±å“çš„å€¼ã€‚ä¸ºäº†ä½¿å°çƒä¸‹è½çš„æ›´åŠ çœŸå®ï¼Œæˆ‘ä»¬åˆè€ƒè™‘äº†å½±å“å°çƒä¸‹è½çš„ç‰©ç†å› ç´ ï¼Œæ¯”å¦‚é‡åŠ›åŠ é€Ÿåº¦ï¼Œåå¼¹æ•ˆæœç­‰ã€‚åœ¨åˆ¶ä½œå…¶ä»–ä¸€äº›éçº¿æ€§è¿åŠ¨çš„åŠ¨ç”»æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¸è§çš„ç¼“åŠ¨å‡½æ•°ï¼Œæ¯”å¦‚ï¼Œç¼“å…¥ï¼Œç¼“å‡ºç­‰ï¼Œå®ƒä»¬çš„æœ¬è´¨éƒ½æ˜¯é€šè¿‡æ‰­æ›²æ—¶é—´è½´ï¼Œä½¿å¾—å½“å‰çš„è¿åŠ¨å—æ—¶é—´å› ç´ å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åˆ¶ä½œ canvas æ¸¸æˆæ—¶ï¼ŒåŸºæœ¬éƒ½ä¼šè¿ç”¨åˆ°åŠ¨ç”»ï¼Œæœ‰ç‰©ä½“è¿åŠ¨ï¼Œé‚£ä¹ˆä¸€å®šä¼šå‘ç”Ÿç¢°æ’ï¼Œæ¯”å¦‚ä¸Šé¢æˆ‘ä»¬çš„å°çƒä¸‹è½ï¼Œå°±ä¼šå‘ç”Ÿå°çƒä¸åœ°é¢çš„ç¢°æ’ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ç®€å•çš„ç¢°æ’æ£€æµ‹ã€‚ä¸‹ä¸€ç¯‡ç¬”è®°ï¼Œæˆ‘ä»¬è¯¦ç»†è®¨è®ºï¼Œå¦‚ä½•åœ¨ canvas ä¸­è¿›è¡Œç¢°æ’æ£€æµ‹ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[canvasæ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°ç®€å•çš„åŠ¨ç”»]]></title><description><![CDATA[è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬å››ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼šcanvas æ ¸å¿ƒæŠ€æœ¯ã€‚åœ¨å‰é¢å‡ ç¯‡ä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†åœ¨ canvas ä¸­ç»˜åˆ¶çº¿æ®µï¼Œå›¾å½¢ï¼Œå›¾ç‰‡ç­‰åŸºæœ¬åŠŸèƒ½ï¼Œå½“åœ¨åˆ¶ä½œ 2d æ¸¸æˆæˆ–è€…æ›´ä¸ºä¸°å¯Œçš„å›¾è¡¨åº“æ—¶ï¼Œå¿…é¡»æä¾›å¼ºå¤§çš„åŠ¨ç”»åŠŸèƒ½ã€‚canvas æœ¬èº«ä¸æä¾›åƒ cssâ€¦]]></description><link>https://snayan.github.io//post/how_to_implement_simple_animations/</link><guid isPermaLink="false">https://snayan.github.io//post/how_to_implement_simple_animations/</guid><pubDate>Sat, 11 Aug 2018 20:22:18 GMT</pubDate><content:encoded>&lt;p&gt;è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬å››ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼š&lt;a href=&quot;/post/core_html5_canvas/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å‰é¢å‡ ç¯‡ä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†åœ¨ canvas ä¸­ç»˜åˆ¶çº¿æ®µï¼Œå›¾å½¢ï¼Œå›¾ç‰‡ç­‰åŸºæœ¬åŠŸèƒ½ï¼Œå½“åœ¨åˆ¶ä½œ 2d æ¸¸æˆæˆ–è€…æ›´ä¸ºä¸°å¯Œçš„å›¾è¡¨åº“æ—¶ï¼Œå¿…é¡»æä¾›å¼ºå¤§çš„åŠ¨ç”»åŠŸèƒ½ã€‚canvas æœ¬èº«ä¸æä¾›åƒ css ä¸­&lt;code class=&quot;language-text&quot;&gt;animation&lt;/code&gt;å±æ€§ä¸“é—¨æ¥å®ç°åŠ¨ç”»ï¼Œä½†æ˜¯ canvas æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;translate&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;scale&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;rotate&lt;/code&gt;ç­‰åŸºæœ¬åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»„åˆä½¿ç”¨è¿™äº›åŠŸèƒ½æ¥å®ç°åŠ¨ç”»ã€‚&lt;/p&gt;
&lt;p&gt;è·ŸåŠ¨ç”»æœ‰å…³çš„æ¦‚å¿µä¸­ï¼Œæˆ‘ä»¬è¿˜è¦ç†è§£&lt;strong&gt;å¸§é€Ÿç‡&lt;/strong&gt;ã€‚æˆ‘ä»¬é€šå¸¸è¯´ä¸€å¸§ï¼Œå°±æ˜¯æµè§ˆå™¨å®Œæ•´ç»˜åˆ¶ä¸€æ¬¡æ‰€ç»è¿‡çš„æ—¶é—´ã€‚ç°ä»£æµè§ˆå™¨çš„å¸§é€Ÿç‡ä¸€èˆ¬æ˜¯ 60fpsï¼Œå°±æ˜¯åœ¨ 1s å†…å¯ä»¥ç»˜åˆ¶ 60 æ¬¡ã€‚å¦‚æœå¸§é€Ÿç‡è¿‡ä½ï¼Œå°±ä¼šè§‰å¾—æ˜æ˜¾çš„å¡é¡¿äº†ã€‚ä¸€èˆ¬æ˜¯å¸§é€Ÿç‡è¶Šé«˜ï¼ŒåŠ¨ç”»è¶Šæµç•…ã€‚åœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬è¦åœ¨ 1s å†…ç»˜åˆ¶ 60 æ¬¡ï¼Œä»¥å‰çš„åšæ³•æ˜¯ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;setTimeout&lt;/code&gt;æˆ–è€…&lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;æ¥å®šæ—¶æ‰§è¡Œã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// æ‰§è¡Œç»˜åˆ¶æ“ä½œ&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;p&gt;è¿™ç§é€šè¿‡å®šæ—¶å™¨çš„æ–¹å¼ï¼Œè™½ç„¶å¯ä»¥å®ç°ï¼Œä½†ä¸æ˜¯æœ€å¥½çš„æ–¹å¼ï¼Œå®ƒåªæ˜¯ä»¥å›ºå®šçš„æ—¶é—´é—´éš”å‘æ‰§è¡Œé˜Ÿåˆ—ä¸­æ·»åŠ ç»˜åˆ¶ä»£ç ï¼Œå¹¶ä¸ä¸€å®šèƒ½è·Ÿæµè§ˆå™¨çš„æ›´æ–°é¢‘ç‡åŒæ­¥ï¼Œå¹¶ä¸”ä¸¥é‡ä¾èµ–å½“å‰æ‰§è¡Œæ ˆçš„æƒ…å†µï¼Œå¦‚æœæŸä¸€æ¬¡æ‰§è¡Œæ ˆé‡Œæ‰§è¡Œäº†å¤æ‚å¤§é‡çš„è¿ç®—ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ·»åŠ çš„ç»˜åˆ¶ä»£ç å¯èƒ½å°±ä¸ä¼šåœ¨æˆ‘ä»¬è®¾ç½®çš„æ—¶é—´é—´éš”å†…æ‰§è¡Œäº†ã€‚åœ¨ H5 ä¸­ï¼Œç°ä»£æµè§ˆå™¨éƒ½æä¾›äº†&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame&quot;&gt;requestAnimationFrame&lt;/a&gt;è¿™ä¸ªæ–¹æ³•æ¥æ‰§è¡ŒåŠ¨ç”»æ›´æ–°é€»è¾‘ï¼Œå®ƒä¼šåœ¨æµè§ˆå™¨çš„ä¸‹ä¸€æ¬¡æ›´æ–°æ—¶æ‰§è¡Œä¼ é€’ç»™å®ƒçš„å‡½æ•°ï¼Œæˆ‘ä»¬å®Œå…¨ä¸å¿…è€ƒè™‘æµè§ˆå™¨çš„å¸§é€Ÿç‡äº†ï¼Œå¯ä»¥æ›´åŠ ä¸“æ³¨äºåŠ¨ç”»æ›´æ–°çš„é€»è¾‘ä¸Šã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;animate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// æ‰§è¡Œç»˜åˆ¶æ“ä½œ&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¦‚æœè¦å…¼å®¹ä»¥å‰çš„æµè§ˆå™¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦ç»“åˆ&lt;code class=&quot;language-text&quot;&gt;requestAnimationFrame&lt;/code&gt;å’Œ &lt;code class=&quot;language-text&quot;&gt;setTimeout&lt;/code&gt;æˆ–è€…&lt;code class=&quot;language-text&quot;&gt;setInterval&lt;/code&gt;æ¥å®ç° polyfillï¼Œç®€å•çš„å¤„ç†æ–¹å¼å¤§è‡´å¦‚ä¸‹ï¼Œæ›´å¥½çš„å®ç°æ–¹å¼å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://gist.github.com/paulirish/1579671&quot;&gt;rAF.js&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;myRequestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;requestAnimationFrame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;performance &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;now&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;performance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cancelMyRequestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cancelAnimationFrame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;cancelAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;clearTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          å¹³ç§»
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨åŠ¨ç”»å¤„ç†ä¸­ï¼Œcss å¯ä»¥é’ˆå¯¹æŸä¸€ä¸ªå…·ä½“çš„å…ƒç´ æ¥æ‰§è¡Œå¹³ç§»æ“ä½œï¼Œåœ¨ canvas ä¸­ï¼Œåªèƒ½å¹³ç§»åæ ‡ç³»ï¼Œä»è€Œé—´æ¥çš„æ”¹å˜äº† canvas ä¸­å…ƒç´ çš„ä½ç½®ã€‚åœ¨&lt;a href=&quot;/post/how_to_draw_line/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶çº¿æ®µ&lt;/a&gt;ä¸­ï¼Œè¯¦ç»†è®²è§£äº† canvas åæ ‡ç³»ç›¸å…³çŸ¥è¯†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å…ˆå»çœ‹çœ‹ã€‚canvas åæ ‡ç³»é»˜è®¤åŸç‚¹æ˜¯åœ¨å·¦ä¸Šè§’ï¼Œæ°´å¹³å‘å³ä¸º X æ­£æ–¹å‘ï¼Œå‚ç›´å‘ä¸‹ä¸º Y æ­£æ–¹å‘ã€‚å¯ä»¥é€šè¿‡å¹³ç§» canvas åæ ‡ç³»ï¼Œå¯ä»¥æŠŠåæ ‡åŸç‚¹ç§»åŠ¨åˆ° canvas ä¸­æŸä¸€å—åŒºåŸŸï¼Œæˆ–è€… canvas å¯è§åŒºåŸŸå¤–ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å¹³ç§»åæ ‡ç³»ä¹‹å‰&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;grey&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¹³ç§»åæ ‡ç³»&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;translate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¹³ç§»åæ ‡ç³»ï¼Œå¾€å³å¹³ç§»120px,å¾€ä¸‹å¹³ç§»20px&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶åŒæ ·çš„çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/be9c187bff034647e86c0076b5096fa9/83cbb/translate.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.547770700636946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAuklEQVQoz61R7Q6DIBDz/V/ULPLhBziUO25FNqMby/yxpikXuMKlNKoGY4zWFR6BtmZ9IcZYNIQAFeFP7hCRruuaUh1BRMtC2iY7nKgNrzGhIaWsWuuKOTFNPmrLkgQTEGVFbXt2/peZmZyPw8Rbn+w6OfbzNXM/vpvHP5sRLPwIqShWotV5ujQ2Kiqmp5mQmJ/5pgjZ3kMKS1bUyhD8OdBt2PzPUgNORyfOn4gd3Hx6WX2BNRUe0bbtA52tgRaBnNqpAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/be9c187bff034647e86c0076b5096fa9/cc182/translate.webp 148w,
/static/be9c187bff034647e86c0076b5096fa9/f7e40/translate.webp 295w,
/static/be9c187bff034647e86c0076b5096fa9/1a2f4/translate.webp 590w,
/static/be9c187bff034647e86c0076b5096fa9/939a5/translate.webp 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/be9c187bff034647e86c0076b5096fa9/cf440/translate.png 148w,
/static/be9c187bff034647e86c0076b5096fa9/d2d38/translate.png 295w,
/static/be9c187bff034647e86c0076b5096fa9/b9e4f/translate.png 590w,
/static/be9c187bff034647e86c0076b5096fa9/83cbb/translate.png 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/be9c187bff034647e86c0076b5096fa9/b9e4f/translate.png&quot;
          alt=&quot;translate1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨å¹³ç§»ä¹‹å‰ï¼Œåœ¨åæ ‡ï¼ˆ10ï¼Œ10ï¼‰å¤„ç»˜åˆ¶äº†ä¸€ä¸ªè¾¹é•¿éƒ½ä¸º 100 çš„çŸ©å½¢ï¼Œå¦‚å›¾ç°è‰²è™šçº¿çŸ©å½¢ï¼Œæ¥ç€ï¼Œæˆ‘ä»¬è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ctx.translate(120,20)&lt;/code&gt;æŠŠåæ ‡ç³»å‘å·¦å¹³ç§» 120 ä¸ªåƒç´ ï¼Œå‘ä¸‹å¹³ç§»äº† 20 ä¸ªåƒç´ ï¼Œä¹‹åï¼Œæˆ‘ä»¬æœ‰åŒæ ·çš„åœ¨åæ ‡ï¼ˆ10ï¼Œ10ï¼‰å¤„ç»˜åˆ¶äº†ä¸€ä¸ªè¾¹é•¿ä¸º 100 çš„çŸ©å½¢ï¼Œå¦‚å›¾è“è‰²å®çº¿çŸ©å½¢ã€‚è¿™ä¸¤ä¸ªçŸ©å½¢ï¼Œæˆ‘ä»¬ç»˜åˆ¶çš„åæ ‡å’Œè¾¹é•¿éƒ½æ²¡æœ‰æ”¹å˜ï¼Œä½†æ˜¯åæ ‡ç³»è¢«å¹³ç§»äº†ï¼Œæ‰€ä»¥ç»˜åˆ¶å‡ºæ¥çš„ä½ç½®ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;åæ ‡ç³»å¹³ç§»ç¤ºæ„å›¾å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5b1ca7c099423bd15329f1ae2e90f1ea/cbeb6/Canvas_grid_translate.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 220px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6UlEQVQ4y52TfXOiMBDG/f4frjP+V2buWlARiARUUCCE0F+yVNrejXNzz+iabPbZdzfzPE/T5JxD2hWjfQqMIW74adtWKXW5XLquuy9YDl3A/Qvker1ecbEhZl3X2+12t9uVZVkUBY6K7Ig8nU5pmh4OBw7qE2iSJDmfz54skbnHcUxw+FVd69+vldZYYBpFEXqtdVVVvO73e+QSmS+Z6GAq9SNdVczOAxqchx5jcjbGNE2zkkkMf1gPw2CdG09HeoaejNDDhDCOY9/30HpjbrfbSpZsvW/nbHOx6TuB3DxTET3w+jASZoBmgNq2C5lopSr0WzTXaiwzm8UmerE6t2V2Pybt4X3SudeXmVFpk/zq0/jeXHHnyf0wUHMdauNKwKnMZO5SubMTVz4jCbctBVD5GtmTQ9oU5iVxLEe/KiIFWJL2+JXMRUaKC+SNl2NCTNkkkQLz2So6t5AB02eeTMVviFLU6ZP8W+SfZJ7PAes8y0w2/c/IpEUTvpEpmJyh8YytDQ37JzKALJuEI+YZIj8j+12S3QbkTM844JJJDCrFDouHFLBO1CwJTjJnPLFheZ7LDHr+dPu3vvsJ/PKKr5UskSHzMIeVnEfjKr+STyAj8OQhYBlMaKA1g5XDdzzGhr2PLOP5D0D8AMvfhhbpQXGxAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/5b1ca7c099423bd15329f1ae2e90f1ea/cc182/Canvas_grid_translate.webp 148w,
/static/5b1ca7c099423bd15329f1ae2e90f1ea/67191/Canvas_grid_translate.webp 220w&quot;
          sizes=&quot;(max-width: 220px) 100vw, 220px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/5b1ca7c099423bd15329f1ae2e90f1ea/cf440/Canvas_grid_translate.png 148w,
/static/5b1ca7c099423bd15329f1ae2e90f1ea/cbeb6/Canvas_grid_translate.png 220w&quot;
          sizes=&quot;(max-width: 220px) 100vw, 220px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/5b1ca7c099423bd15329f1ae2e90f1ea/cbeb6/Canvas_grid_translate.png&quot;
          alt=&quot;Canvas_grid_translate&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          ç¼©æ”¾
        &lt;/h3&gt;
      
&lt;p&gt;åæ ‡ç³»ä¸ä»…å¯ä»¥å¹³ç§»ï¼Œè¿˜å¯ä»¥è¢«ç¼©æ”¾ï¼Œcanvas æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;ctx.scale(x,y)&lt;/code&gt; æ¥ç¼©æ”¾ X è½´å’Œ Y è½´ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œcanvas çš„ç¼©æ”¾å› å­éƒ½æ˜¯ 1.0ï¼Œè¡¨ç¤ºåœ¨ canvas åæ ‡ç³»ä¸­ï¼Œ1 ä¸ªå•ä½å°±è¡¨ç¤ºç»˜åˆ¶çš„ 1px é•¿åº¦ï¼Œå¦‚æœé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;scale&lt;/code&gt;å‡½æ•°æ”¹å˜ç¼©æ”¾å› å­ä¸º 0.5ï¼Œåˆ™åœ¨ canvas åæ ‡ç³»ä¸­ï¼Œ1 ä¸ªå•ä½å°±è¡¨ç¤ºç»˜åˆ¶ 0.5px é•¿åº¦äº†ï¼ŒåŸæ¥çš„å›¾å½¢è¢«ç»˜åˆ¶å‡ºæ¥å°±åªæœ‰ä¸€åŠå¤§å°äº†ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;grey&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¡«å……å½“å‰canvasæ•´ä¸ªåŒºåŸŸ&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç¼©æ”¾åæ ‡ç³»ï¼ŒXè½´å’ŒYè½´éƒ½åŒæ—¶ç¼©æ”¾ä¸º0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¡«å……ç¼©æ”¾ä¹‹åçš„canvasæ•´ä¸ªåŒºåŸŸ&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶åŒæ ·çš„çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/333183222e84f4e3b308d3f3cefbec94/b2a12/scale1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.01587301587302%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABaElEQVQoz43Qz0vCUADA8f1b/QGKdhPHxA6RFHUMDxaKKbRRQZfAqURt0zp0iYpQsV9qjiKLQpK6KIGJlodyS9RN9/Z6XharROHDg/He9/0YVqzkX6oFpFQrlN5+FGuP5fpzs/k6QFkUK5hzb8xzbHYfGj0HBlfCtBA3uWKmxYTZGTMGruyyFGx16LZeq01LcuC9HsS8yXHqeoLkbWsXOMXbEDJLUFmbL4Nz+TkIoyqMQD1VRSMnihHMGzdTvJ3MEKunVvKSQJYzBPpcSlnZh1m0FEBO1QMqByEriBzmOTKsnFmppIU8sfjSuD+N+1K4P4W7zy1b9zND4nWeCN9NB28dGjo3ReccGzeT+0/zQ2JZ3oRwF8IdDQBRRUHT0f7z/pS6uN0JKYBTAKvp9hjk3+x33JHCcpeVu4xGkpmewgCVHQQdACHTEDgMgDD672in0alqPxZFFvv4DAkiugMzuobAfDW3q1X2G43EB+hyu+w/AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/333183222e84f4e3b308d3f3cefbec94/cc182/scale1.webp 148w,
/static/333183222e84f4e3b308d3f3cefbec94/f7e40/scale1.webp 295w,
/static/333183222e84f4e3b308d3f3cefbec94/1a2f4/scale1.webp 590w,
/static/333183222e84f4e3b308d3f3cefbec94/eae19/scale1.webp 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/333183222e84f4e3b308d3f3cefbec94/cf440/scale1.png 148w,
/static/333183222e84f4e3b308d3f3cefbec94/d2d38/scale1.png 295w,
/static/333183222e84f4e3b308d3f3cefbec94/b9e4f/scale1.png 590w,
/static/333183222e84f4e3b308d3f3cefbec94/b2a12/scale1.png 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/333183222e84f4e3b308d3f3cefbec94/b9e4f/scale1.png&quot;
          alt=&quot;scale1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å°† X è½´å’Œ Y è½´åŒæ—¶éƒ½ç¼©å°ä¸ºåŸæ¥çš„ä¸€åŠï¼Œæ–°ç»˜åˆ¶å‡ºæ¥çš„çŸ©å½¢ï¼ˆçº¢è‰²å®çº¿ï¼‰ä¸ä»…å®½é«˜éƒ½ç¼©å°ä¸ºåŸæ¥çš„ä¸€åŠäº†ï¼Œä¸”å·¦ä¸Šè§’åæ ‡ä½ç½®ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ã€‚è¿™é‡Œè¦ç†è§£çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨ç¼©æ”¾ï¼Œæ˜¯é’ˆå¯¹åæ ‡ç³»ç¼©æ”¾çš„ï¼Œé»„è‰²åŒºåŸŸä¸ºç¼©æ”¾ä¹‹å‰çš„ canvas åæ ‡ç³»åŒºåŸŸï¼Œç»¿è‰²åŒºåŸŸä¸ºç¼©æ”¾ 0.5 ä¹‹åçš„ canvas åæ ‡ç³»åŒºåŸŸã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç¼©æ”¾åæ ‡ç³»ï¼ŒXè½´ç¼©æ”¾ä¸º0.5,Yè½´ä¸å˜&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ce6a10f3456341081a769597b400ca42/a5ed1/scale2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.25806451612903%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABVklEQVQoz63NzUvCcBzH8f1p3YKcBbWnOnbL/gQV24NzPYgWFT060zDUOoSBc043t4SkvHTulpecaAvs5u/bpBjhpYjgxef25oM1Hq/zdxtXreRlK5G/T+YfvhTa28X2Tuel5Lyq/UFlMKnc7RpYRgmHb6ZYxSeUpiPKTLCOh2p4UMNDdTxizNrDBEAKwRHAsQchdw8cJ4tdaOKaPic0l6QaJWkUbzGCyfAG7RLNRXu4B5AZgYwg7RmhNMCp41xguaoQqfvdJlYlRI3gTIpvUJxOcgYZNWl7uAtwNhqfy54RkgFO/iXW/fwtE9P+EKsCW8GjOr1enhdVgnVLg2J/GWcbIq/4pAopKQt8jeR0asyguAYdNZkf4nQzFrb8nEWzFsmZhIc1CcEie+9unEGQApA96DN+y2GF5r6kLserga3qyuZ3WiBeW33qHPb7591exp4kP3eKHx+Np9dPJLRTAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ce6a10f3456341081a769597b400ca42/cc182/scale2.webp 148w,
/static/ce6a10f3456341081a769597b400ca42/f7e40/scale2.webp 295w,
/static/ce6a10f3456341081a769597b400ca42/1a2f4/scale2.webp 590w,
/static/ce6a10f3456341081a769597b400ca42/5077d/scale2.webp 620w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ce6a10f3456341081a769597b400ca42/cf440/scale2.png 148w,
/static/ce6a10f3456341081a769597b400ca42/d2d38/scale2.png 295w,
/static/ce6a10f3456341081a769597b400ca42/b9e4f/scale2.png 590w,
/static/ce6a10f3456341081a769597b400ca42/a5ed1/scale2.png 620w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ce6a10f3456341081a769597b400ca42/b9e4f/scale2.png&quot;
          alt=&quot;scale2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥å¯¹ X è½´å’Œ Y è½´çš„ç¼©æ”¾å› å­è®¾ç½®ä¸ºä¸ä¸€æ ·ï¼Œå¦‚ä¸Šé¢ç¤ºä¾‹ï¼Œå¯¹ X è½´ç¼©å°ä¸º 0.5ï¼Œè€Œ Y è½´ä¸å˜ï¼Œç¼©æ”¾ä¹‹åçš„ Canvas åŒºåŸŸåœ¨ X è½´ä¸Šå°±å˜ä¸ºåŸæ¥çš„ä¸€åŠäº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æŠ€å·§ï¼Œæ¯”å¦‚åˆ¶ä½œé•œåƒï¼Œè®¾ç½®ç¼©æ”¾&lt;code class=&quot;language-text&quot;&gt;ctx.scale(-1,1)&lt;/code&gt;å°±å¯ä»¥ç»˜åˆ¶å‡º Y è½´çš„å¯¹ç§°é•œåƒäº†ã€‚åŒç†ï¼Œè®¾ç½®ç¼©æ”¾&lt;code class=&quot;language-text&quot;&gt;ctx.scale(1,-1)&lt;/code&gt;å°±å¯ä»¥ç»˜åˆ¶å‡º X è½´çš„å¯¹ç§°é•œåƒäº†ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;font &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;18px sans-serif&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;translate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å…ˆå°†åæ ‡ç³»å‘Xè½´å¹³ç§»åˆ°ä¸­é—´&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;grey&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹æ ·å¼&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®è™šçº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®çº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;æˆ‘æ˜¯æ–‡å­—&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç¼©æ”¾åæ ‡ç³»ï¼ŒXè½´å’ŒYè½´éƒ½åŒæ—¶ç¼©æ”¾ä¸º0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹æ ·å¼&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®çº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;æˆ‘æ˜¯æ–‡å­—&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶åŒæ ·çš„çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/58339a80f135495ce766f811bd522bcc/b2a12/scale3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.65079365079365%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAByklEQVQoz3XQ3U/TUBjA4f6X3nnNjXfGG6HJbLt+d9DKaCk9h6FTt0QWmBvUQdduaJB4T3TLNAa9crCtw62fx66aMYgmT968OcnvnORgn7996l50Ot+7yVzUuej0fnT7/S//9xWjarh4RCu7K3KigqdWlAqeKy/vWNRorLmu6rrazHhm5Grja83zkwVgbCMj26y2n5EcVmpxuXRKbV4yqZJN+ZGBYoAQRAikYByDIDAQMjyvgHENQrF5tU7mD0i1+iRfJ7cquF7NrNXJVw7jR3Ay2bq82hwM9Otf+mCoTz0jCGYXTb2dNG7yeZMuwocVcam8/sB6dM/E72ulxy/aXIxgr/fUNFmrKZyfy2dn0s++FsVwIbZ57Q2x5vByk1OOGeWIUSx21cyWHMYLQRQBP5gJkj2GCd8Ht+MauerwuZaQawtSW8i9E6UG8ydGs3e25+7GssPr+5n1t/SNBqNUibJNTwIQhiCMbiTve/NYaJCKIybBxkF24/Av1cwqNerlqeiH0A9u82EQwuQvptNnGHG4zFskZxFsk5zjmiR5TIAPdBxvInRXeqh6noFBRyu+335+AhYVT0ChZex9LAyGu8PRP4zc15dXe78BO1XsCUpte+QAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/58339a80f135495ce766f811bd522bcc/cc182/scale3.webp 148w,
/static/58339a80f135495ce766f811bd522bcc/f7e40/scale3.webp 295w,
/static/58339a80f135495ce766f811bd522bcc/1a2f4/scale3.webp 590w,
/static/58339a80f135495ce766f811bd522bcc/eae19/scale3.webp 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/58339a80f135495ce766f811bd522bcc/cf440/scale3.png 148w,
/static/58339a80f135495ce766f811bd522bcc/d2d38/scale3.png 295w,
/static/58339a80f135495ce766f811bd522bcc/b9e4f/scale3.png 590w,
/static/58339a80f135495ce766f811bd522bcc/b2a12/scale3.png 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/58339a80f135495ce766f811bd522bcc/b9e4f/scale3.png&quot;
          alt=&quot;scale3&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾ï¼Œæˆ‘ä»¬å®ç°äº†åœ¨ Y è½´å¯¹ç§°çš„é•œåƒï¼Œåœ¨è®¾ç½®ç¼©æ”¾ä¹‹å‰å…ˆå¹³ç§»äº†åæ ‡ç³»åˆ° X è½´çš„ä¸­é—´ï¼Œå› ä¸ºä¸è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬ç¼©æ”¾ä¹‹åï¼Œç»˜åˆ¶å‡ºæ¥çš„éƒ¨åˆ†å°±åœ¨ canvas å¯è§åŒºåŸŸå¤–é¢äº†ï¼Œå°±çœ‹ä¸åˆ°äº†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          æ—‹è½¬
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨ canvas ä¸­å¯ä»¥é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;ctx.rotate(angle)&lt;/code&gt;æ¥å®ç°åæ ‡ç³»çš„æ—‹è½¬ï¼Œå‚æ•°&lt;strong&gt;angle&lt;/strong&gt;æ˜¯å¼§åº¦å€¼ï¼Œè€Œä¸æ˜¯è§’åº¦å€¼ã€‚1 è§’åº¦ç­‰äº&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mfrac&gt;&lt;mi&gt;Ï€&lt;/mi&gt;&lt;mn&gt;180&lt;/mn&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\frac\pi{180}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.040392em;vertical-align:-0.345em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mopen nulldelimiter&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mfrac&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.695392em;&quot;&gt;&lt;span style=&quot;top:-2.6550000000000002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;&lt;span class=&quot;mord mtight&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;mord mtight&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.23em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;frac-line&quot; style=&quot;border-bottom-width:0.04em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.394em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03588em;&quot;&gt;Ï€&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.345em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose nulldelimiter&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œåœ¨è°ƒç”¨ä¹‹å‰éœ€è¦å…ˆè¿›è¡Œè§’åº¦è½¬å¼§åº¦ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è§’åº¦è½¬æ¢ä¸ºå¼§åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toAngle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;degree&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;degree &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå°†åæ ‡ç³»æ—‹è½¬ 15 è§’åº¦çš„ç¤ºä¾‹ï¼Œå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;font &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;18px sans-serif&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;grey&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹æ ·å¼&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®è™šçº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®çº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;æˆ‘æ˜¯æ–‡å­—&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rotate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å°†åæ ‡ç³»æ—‹è½¬15è§’åº¦&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹æ ·å¼&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®çº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;æˆ‘æ˜¯æ–‡å­—&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶åŒæ ·çš„çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/76dc015e9f737877775f5e27586391d3/857ee/rotate1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.56410256410257%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAACCklEQVQoz33O708ScRwH8PuzfOATZiuVIjk4oNV60mprljQLIwz04PiRkHZzIraAmlgo/dpCEDjuF+bccg4L3OpB01UWG5wHQTU57tuXtsq2xvbae/tu38/780HeflzdF9/Ua8WaWNgXtsqVfLmcrwh5QdjqCH4rIrZYdyh3Ovl6sLA3Xq5PHUiBVnNObgVacuBAmoGakl9qzR7WlGZlMFMRgsjoi2MEjTkSJz3LA37K8Gzz4tqO9UOVlEAYgIcAPAIgAsADAO7/IcswQ9XqAnIj3W9mDMMZ7HpKY0mqR2JKIqYcY7Tk+tnHRePGHl5qTEty+FfFPGyRQbjVfgbFagS5O9kVvNo1indfCvYan6iGFk/ciqN2Xo+zmJVGb2ZRgtfPbZxbfnetUHIJ3/1wrSy3bxHhZiLaszh9NOZTLJA9UZ/Cl9Z4Uhqc0zl+gy2wwpwZsGTVrpwhtHmBfm/ZrXkr4jxiopVjr86MvzS4s9jECupNogSF4ezfYYjg9E5eD7NdRKOmlMqzqvtcCSPmlT6CPwVXtfE6b1yNM5id+Wf4MNhiozVL24ONehQhYkd8Ca07pbXTOmcGm4ijOKt3QNz/OXmDhULXP1l/NJYQU1pBUCpXot8d7/M+77Vnjls5lY3txMqoSt9uN75GEA91nswNT/FX7nBGkhkiYXY0yV6+tzYiiJEvpac/AQwwqkNV2LIuAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/76dc015e9f737877775f5e27586391d3/cc182/rotate1.webp 148w,
/static/76dc015e9f737877775f5e27586391d3/f7e40/rotate1.webp 295w,
/static/76dc015e9f737877775f5e27586391d3/1a2f4/rotate1.webp 590w,
/static/76dc015e9f737877775f5e27586391d3/4481e/rotate1.webp 624w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/76dc015e9f737877775f5e27586391d3/cf440/rotate1.png 148w,
/static/76dc015e9f737877775f5e27586391d3/d2d38/rotate1.png 295w,
/static/76dc015e9f737877775f5e27586391d3/b9e4f/rotate1.png 590w,
/static/76dc015e9f737877775f5e27586391d3/857ee/rotate1.png 624w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/76dc015e9f737877775f5e27586391d3/b9e4f/rotate1.png&quot;
          alt=&quot;rotate1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é»„è‰²åŒºåŸŸæ˜¯æ—‹è½¬åŸé»˜è®¤ canvas åæ ‡ç³»åŒºåŸŸï¼Œç»¿è‰²åŒºåŸŸå°±æ˜¯æ—‹è½¬ä¹‹åçš„åæ ‡ç³»åŒºåŸŸäº†ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ—‹è½¬æ“ä½œçš„å®é™…ä¹Ÿæ˜¯æŠŠæ•´ä¸ª canvas åæ ‡éƒ½æ—‹è½¬äº†ï¼Œcanvas é‡Œé¢çš„å†…å®¹éƒ½ä¼šè·Ÿç€è¢«æ—‹è½¬ã€‚ä¼ å…¥çš„å‚æ•°&lt;code class=&quot;language-text&quot;&gt;angle&lt;/code&gt;ä¸ä»…å¯ä»¥æ˜¯æ­£æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•°ï¼Œæ­£æ•°æ˜¯é¡ºæ—¶é’ˆæ—‹è½¬ï¼Œè´Ÿæ•°è¡¨ç¤ºé€†æ—¶é’ˆæ—‹è½¬ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rotate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// é€†æ—¶é’ˆæ—‹è½¬15è§’åº¦&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/44affe11974df98c9d1258eaf2391cb7/b2a12/rotate2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.38095238095239%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAACEElEQVQoz23N/0sTcRzH8fu7+qEITAbLbLtvCpk/VmDYFyj2JW7edqOdLMd+8Mu+tFVrFebhvult3ZfdXelK3ZRZCPaL2hiZ2+02pgVzn879EoHw4MX7h8+TD/S9Wk589OdW5lLFQLIUTGyGmO1wshjMrAcSW8Hk5vkWS7Ps1mtop8KRzKUnOeMjZUBn5Y0Uc4Wa7yOXDDbRaBfOddUi9FPcCKRqG1F5hMqi4dgA47kcmzW88/X53g/SWZSShlzyuYZJGfHm70DtVon7Nn4v3O+xXZh0X7RGDPcXrztknF4yUwJKyphT+sclYZSMu/Ve0ePbUEvb2D10ORYGH2ThhwL6mEfsHEJI2NMcTC+bJxRcD1wyftYoQ/qSeZQQEatw7Zkeq+pa48QfEG9QecSt4B4BpTmETpu8GbOHR10Krn+ov7bzZitvIiXMXxid3x5frxK71WnoqPa5czrHFMfcC0bvMjzJwnQOcfIoISB2EbZyJkce9a3efFseW/1B7GtTfzohAF4C8KrZjEO1+hfQDa1VKNsH84SI2UTEIsCEiPkKo/Hy3ZUDYq/h+90JAxADIN7bF51utAueN5oxPS4AMH107HdK5qnC8JvyrU8Hlj3Nc9KZASACQLS3oS4InPacHd0gAAGtGYHq9Z1ajamr6a/7scovpt1ij1tsu8lqWkZV03U1pdMPtfGfhpb6ecj+BaPFh+xg5FzZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/44affe11974df98c9d1258eaf2391cb7/cc182/rotate2.webp 148w,
/static/44affe11974df98c9d1258eaf2391cb7/f7e40/rotate2.webp 295w,
/static/44affe11974df98c9d1258eaf2391cb7/1a2f4/rotate2.webp 590w,
/static/44affe11974df98c9d1258eaf2391cb7/eae19/rotate2.webp 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/44affe11974df98c9d1258eaf2391cb7/cf440/rotate2.png 148w,
/static/44affe11974df98c9d1258eaf2391cb7/d2d38/rotate2.png 295w,
/static/44affe11974df98c9d1258eaf2391cb7/b9e4f/rotate2.png 590w,
/static/44affe11974df98c9d1258eaf2391cb7/b2a12/rotate2.png 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/44affe11974df98c9d1258eaf2391cb7/b9e4f/rotate2.png&quot;
          alt=&quot;rotate2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™äº›ä½¿ç”¨éƒ½æ¯”è¾ƒç®€å•ï¼Œä¹Ÿå¥½ç†è§£ã€‚åœ¨å®é™…ä¸­ï¼Œå¯ä»¥éœ€è¦åŒæ—¶å¯¹ canvas åæ ‡ç³»è¿›è¡Œå¹³ç§»ï¼Œç¼©æ”¾å’Œæ—‹è½¬ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«å•ç‹¬çš„ä½¿ç”¨ä¸Šé¢è¿™äº›æ–¹æ³•è¿›è¡Œå¯¹åº”çš„æ“ä½œï¼Œä»–ä»¬çš„æ•ˆæœæ˜¯å åŠ çš„ã€‚åœ¨ canvas ä¸­ï¼Œå®é™…è¿˜æä¾›äº†ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥åŒæ—¶å®ç°å¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹è¿™ä¸ªæ–¹æ³•çš„ç¥å¥‡ä¹‹å¤„ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          transform
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨è¿›è¡Œåæ ‡ç³»æ•°æ®å˜æ¢æ—¶ï¼Œæœ€å¸¸ç”¨çš„æ‰‹æ®µå°±æ˜¯å…ˆå»ºæ¨¡æˆå•ä½çŸ©é˜µï¼Œç„¶åå¯¹å•ä½çŸ©é˜µåšå˜æ¢ã€‚å®é™…ä¸Šï¼Œä¸Šé¢è¯´çš„å¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬éƒ½æ˜¯é€šè¿‡å˜æ¢çŸ©é˜µå®ç°çš„ï¼Œåªä¸è¿‡ canvas ç»™æˆ‘ä»¬å°è£…æˆå…·ä½“å¥½ç”¨çš„æ–¹æ³•äº†ã€‚canvas ä¸­&lt;code class=&quot;language-text&quot;&gt;ctx.transform(a,b,c,d,e,f)&lt;/code&gt;æä¾›äº† 6 ä¸ªå‚æ•°ï¼Œåœ¨ canvas ä¸­çŸ©é˜µæ˜¯çºµå‘å­˜å‚¨çš„ï¼Œä»£è¡¨çš„çŸ©é˜µä¸ºï¼Œ&lt;/p&gt;
&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;(&lt;/mo&gt;&lt;mtable rowspacing=&quot;0.15999999999999992em&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;(&lt;/mo&gt;&lt;mtable rowspacing=&quot;0.15999999999999992em&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;(&lt;/mo&gt;&lt;mtable rowspacing=&quot;0.15999999999999992em&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;msup&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\begin{pmatrix}
a&amp;amp;c&amp;amp;e\\
b&amp;amp;d&amp;amp;f\\
0&amp;amp;0&amp;amp;1
\end{pmatrix} *
\begin{pmatrix}
x\\
y\\
z
\end{pmatrix} =
\begin{pmatrix}
x^i\\
y^i\\
z^i
\end{pmatrix}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.60004em;vertical-align:-1.55002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;minner&quot;&gt;&lt;span class=&quot;mopen&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mtable&quot;&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.60004em;vertical-align:-1.55002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;minner&quot;&gt;&lt;span class=&quot;mopen&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mtable&quot;&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.04398em;&quot;&gt;z&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.60004em;vertical-align:-1.55002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;minner&quot;&gt;&lt;span class=&quot;mopen&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mtable&quot;&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.04398em;&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;åœ¨ 2 ç»´åæ ‡ç³»ä¸­ï¼Œè¡¨ç¤ºä¸€ä¸ªç‚¹ä¸º&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x,y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œä¸ºäº†åšçŸ©é˜µå˜æ¢ï¼Œæˆ‘ä»¬éœ€è¦å°†æ ‡å‡†çš„ 2 ç»´åæ ‡æ‰©å±•åˆ° 3 ç»´ï¼Œéœ€è¦å¢åŠ ä¸€ç»´&lt;strong&gt;w&lt;/strong&gt;ï¼Œè¿™å°±æ˜¯ 2 ç»´é½æ¬¡åæ ‡ç³»&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x,y,w)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02691em;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚é½æ¬¡åæ ‡ä¸Šä¸€ç‚¹&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x,y,w)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02691em;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜ å°„åˆ°å®é™…çš„ 2 ç»´åæ ‡ç³»ä¸­å°±æ˜¯&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x/w,y/w)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02691em;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02691em;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚å¦‚æœå°†ç‚¹&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x,y,w)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02691em;&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜ å°„åœ¨å®é™… 2 ç»´åæ ‡ç³»æ˜¯&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x,y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;,æˆ‘ä»¬åªéœ€è¦è®¾ç½® w = 1 å°±å¯ä»¥äº†ï¼Œæ›´å¤šå¯æŸ¥çœ‹&lt;a href=&quot;https://blog.csdn.net/janestar/article/details/44244849&quot;&gt;é½æ¬¡åæ ‡&lt;/a&gt;ã€‚ç„¶åæ ¹æ®çŸ©é˜µç›¸ä¹˜å¾—åˆ°çš„å…¬å¼å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mspace linebreak=&quot;newline&quot;&gt;&lt;/mspace&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x^i=ax+cy+e \\
y^i=bx+dy+f&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8746639999999999em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8746639999999999em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7777700000000001em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace newline&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0691039999999998em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8746639999999999em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.77777em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;å…ˆæ¥çœ‹çœ‹å¹³ç§»ï¼Œæˆ‘ä»¬çœ‹çœ‹æŠŠä¸€ä¸ªç‚¹&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x,y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;å¹³ç§»åˆ°å¦å¤–ä¸€ä¸ªç‚¹&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x^i,y^i)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0746639999999998em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚å…¬å¼å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/msub&gt;&lt;mspace linebreak=&quot;newline&quot;&gt;&lt;/mspace&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x^i=x+d_x \\
y^i=y+d_y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8746639999999999em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8746639999999999em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.84444em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.151392em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace newline&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0691039999999998em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8746639999999999em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.7777700000000001em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.980548em;vertical-align:-0.286108em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15139200000000003em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.286108em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;å°†å¹³ç§»å…¬å¼ä»£å…¥åˆ°ä¸Šé¢æˆ‘ä»¬æ¨åˆ°å‡ºæ¥çš„çŸ©é˜µå˜æ¢å…¬å¼ä¸­å¯ä»¥å¾—åˆ°ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a=1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;c=0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;e=d_x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.84444em;vertical-align:-0.15em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.151392em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;b=0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;d=1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;f=d_y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.980548em;vertical-align:-0.286108em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15139200000000003em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.286108em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚æˆ‘ä»¬ç”¨&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;å®ç°å¹³ç§»ï¼Œåªéœ€è¦è°ƒç”¨&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/msub&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;ctx.transform(1,0,0,1,d_x,d_x)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.151392em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.151392em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œæ•ˆæœè·Ÿè°ƒç”¨&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/msub&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/msub&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;ctx.translate(d_x,d_y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.036108em;vertical-align:-0.286108em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.01968em;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.151392em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.15139200000000003em;&quot;&gt;&lt;span style=&quot;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.286108em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å¹³ç§»åæ ‡ç³»ä¹‹å‰&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;grey&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¹³ç§»åæ ‡ç³»&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ctx.translate(120,20);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¹³ç§»åæ ‡ç³»ï¼Œå¾€å³å¹³ç§»120px,å¾€ä¸‹å¹³ç§»20px&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨transformæ¥å¹³ç§»&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶åŒæ ·çš„çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1169fdb94e67f0b41d066d9298e02675/83cbb/transform1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.910828025477706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAnUlEQVQoz82S0Q7DIAhF+/9f2sZVENsuouCoaZZZX/q4kxsewIOJcfLeO+fWAQBAvOcLIi7LMpnMzLWnlKKqovUWbVMbWSWiU04p3WQpeT/ErUpRA13xeOaBLDlucry1b1YIfyfrD6XwI9ne3eT8A3O2m2lT8+2kyBXOusIgi+0cSFyB6nbUuF8J8ayd/GrAALY/4X0XbFg/hDDP8wdll0au95FMhgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/1169fdb94e67f0b41d066d9298e02675/cc182/transform1.webp 148w,
/static/1169fdb94e67f0b41d066d9298e02675/f7e40/transform1.webp 295w,
/static/1169fdb94e67f0b41d066d9298e02675/1a2f4/transform1.webp 590w,
/static/1169fdb94e67f0b41d066d9298e02675/939a5/transform1.webp 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/1169fdb94e67f0b41d066d9298e02675/cf440/transform1.png 148w,
/static/1169fdb94e67f0b41d066d9298e02675/d2d38/transform1.png 295w,
/static/1169fdb94e67f0b41d066d9298e02675/b9e4f/transform1.png 590w,
/static/1169fdb94e67f0b41d066d9298e02675/83cbb/transform1.png 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/1169fdb94e67f0b41d066d9298e02675/b9e4f/transform1.png&quot;
          alt=&quot;transform1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œ&lt;code class=&quot;language-text&quot;&gt;ctx.translate(120,20)&lt;/code&gt;ä¸&lt;code class=&quot;language-text&quot;&gt;ctx.transform(1, 0, 0, 1, 120, 20)&lt;/code&gt;å¾—åˆ°çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ç¼©æ”¾ï¼Œæˆ‘ä»¬æŠŠä¸€ä¸ªç‚¹&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x,y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; é€šè¿‡ç¼©æ”¾åæ ‡ç³» k ä¹‹åï¼Œå¾—åˆ°çš„æ–°çš„ç‚¹çš„åæ ‡ä¸º&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x^i,y^i)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0746639999999998em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚å…¬å¼å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mspace linebreak=&quot;newline&quot;&gt;&lt;/mspace&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x^i=k*x \\
y^i=k*y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8746639999999999em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8746639999999999em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace newline&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0691039999999998em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8746639999999999em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;æˆ‘ä»¬ä¹Ÿå°†ç¼©æ”¾å…¬å¼ä»£å…¥åˆ°çŸ©é˜µå˜æ¢å…¬å¼ä¸­ï¼Œå¯ä»¥å¾—åˆ°&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a = k&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;c = 0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;e = 0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;b = 0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;d = k&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03148em;&quot;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;f = 0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚æˆ‘ä»¬ç”¨&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;æ¥å®ç°ç¼©æ”¾ï¼Œåªéœ€è¦è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ctx.transform(k,0,0,k,0,0)&lt;/code&gt;ï¼Œæ•ˆæœè·Ÿè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ctx.scale(k,k)&lt;/code&gt;ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;grey&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¡«å……å½“å‰canvasæ•´ä¸ªåŒºåŸŸ&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ctx.scale(0.5, 0.5);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç¼©æ”¾åæ ‡ç³»ï¼ŒXè½´å’ŒYè½´éƒ½åŒæ—¶ç¼©æ”¾ä¸º0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨transformæ¥ç¼©æ”¾&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¡«å……ç¼©æ”¾ä¹‹åçš„canvasæ•´ä¸ªåŒºåŸŸ&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶åŒæ ·çš„çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/183a6cdb72a95276abf063a480ef2bed/f1147/transform2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.03514376996805%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABfklEQVQoz43R2y/DUBzA8f5Z3mXYG1tNeFgmnoQHkRDmsmRrEC8S29zbunTzhgwjw64JxgsjIbFI3Cok6MW6tXrOceZh5i75pElz+v3l/FLi7Org/OYIS/NH6dt3Z3zq8v7kWb6S5cvvXEjSNdEyX9IVMHYultkXDG3BivbV8raV8o41Y8uyYSJp1bWxjOJWsp5iGcWTU4fv7iYJ+7qR2q5zJWoGtkgqUYO5YhYqbumJmv3HzQhxELIITReDED8ZUfQT9mAFlailopb+kNkZs+DSGa12Rau7wyZfqgmhOQAZiNhiID+OFkQf0blU2rdBUutVzpCpN0I6ImRv2OwImzs2K2cPG/+IB+Pk6H6Dd6++wL1r8yRtQzvWwGkrQrO/xZo6jhfDHxUAfQboeKsZiNf7mH2OlawXwGkdMAWaRr/ozLfZ5zib86oaq2p0QU6l8Qh825/gU4SmngSOAGDk7Qcw/wdhPhZEjnh49IoSK4j0O4H+8PrFk0BL8iTPc69F6whiyPao7AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/183a6cdb72a95276abf063a480ef2bed/cc182/transform2.webp 148w,
/static/183a6cdb72a95276abf063a480ef2bed/f7e40/transform2.webp 295w,
/static/183a6cdb72a95276abf063a480ef2bed/1a2f4/transform2.webp 590w,
/static/183a6cdb72a95276abf063a480ef2bed/61a1a/transform2.webp 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/183a6cdb72a95276abf063a480ef2bed/cf440/transform2.png 148w,
/static/183a6cdb72a95276abf063a480ef2bed/d2d38/transform2.png 295w,
/static/183a6cdb72a95276abf063a480ef2bed/b9e4f/transform2.png 590w,
/static/183a6cdb72a95276abf063a480ef2bed/f1147/transform2.png 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/183a6cdb72a95276abf063a480ef2bed/b9e4f/transform2.png&quot;
          alt=&quot;transform2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ctx.transform(0.5,0,0,0.5,0,0)&lt;/code&gt;ä¸&lt;code class=&quot;language-text&quot;&gt;ctx.scale(0.5,0.5)&lt;/code&gt;æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæ¥çœ‹çœ‹æ—‹è½¬ï¼Œæˆ‘ä»¬æŠŠä¸€ä¸ªåæ ‡&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x,y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;åœ¨æ—‹è½¬åæ ‡è§’åº¦&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\beta&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ä¹‹åå¾—åˆ°æ–°çš„åæ ‡&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;(x^i,y^i)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0746639999999998em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.824664em;&quot;&gt;&lt;span style=&quot;top:-3.063em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå…¬å¼å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mspace linebreak=&quot;newline&quot;&gt;&lt;/mspace&gt;&lt;msup&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;x^i=cos(\beta)*x-sin(\beta)*y \\
y^i=sin(\beta)*x+cos(\beta)*y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8746639999999999em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8746639999999999em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ’&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace newline&quot;&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1.0691039999999998em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;msupsub&quot;&gt;&lt;span class=&quot;vlist-t&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:0.8746639999999999em;&quot;&gt;&lt;span style=&quot;top:-3.113em;margin-right:0.05em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:2.7em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;sizing reset-size6 size3 mtight&quot;&gt;&lt;span class=&quot;mord mathdefault mtight&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.66666em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.625em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;ä¸Šé¢çš„å…¬å¼ï¼Œæ˜¯æ ¹æ®ä¸‰è§’å½¢ä¸¤è§’å’Œå·®å…¬å¼è®¡ç®—å‡ºæ¥çš„ï¼Œæ¨å¯¼è¯¦è§&lt;a href=&quot;https://www.siggraph.org/education/materials/HyperGraph/modeling/mod_tran/2drota.htm&quot;&gt;2D Rotation&lt;/a&gt;ã€‚åŒç†ï¼Œæˆ‘ä»¬å°†æ—‹è½¬å…¬å¼ä»£å…¥åˆ°çŸ©é˜µå˜æ¢å…¬å¼å¯ä»¥å¾—åˆ°&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a=\cos(\beta)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;sin&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;c=-\sin(\beta)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;âˆ’&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;e=0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;sin&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;b=\sin(\beta)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;d=\cos(\beta)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;f=0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚æˆ‘ä»¬è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ctx.transform(cos(Î²),sin(Î²),-sin(Î²),cos(Î²),0,0)&lt;/code&gt;ä¸&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;ctx.rotate(\beta)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜¯ä¸€æ ·çš„ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬è¿™é‡Œçš„&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\beta&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜¯å¼§åº¦å€¼ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;font &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;18px sans-serif&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;grey&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹æ ·å¼&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®è™šçº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®çº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;æˆ‘æ˜¯æ–‡å­—&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ctx.rotate(15* Math.PI/180); // å°†åæ ‡ç³»æ—‹è½¬15è§’åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; angle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—å¾—åˆ°å¼§åº¦å€¼&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; cosAngle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;angle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—ä½™å¼¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; sinAngle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;angle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—æ­£å¼¦&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cosAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sinAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;sinAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cosAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨transformæ—‹è½¬&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹æ ·å¼&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®çº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;æˆ‘æ˜¯æ–‡å­—&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶åŒæ ·çš„çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c6773cc939000ac1cea2572731267342/b2a12/transform3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.06349206349207%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAB/ElEQVQoz3XOz2/SYBjA8f5f/orxMNmWSoG2G8kOHkw0u3hYXJeNMqAgoEbYVHQoHWxGUWZoBKVA33YwMqNIiNEJF8zUZAsItLg53UZfy5YYD1vyyZs3z5vnmxdZ+1YEHwLrmy9bcvrXlrj9U+zImXaLb7ZSmlabbx9FllP1uoDkylE6dsovGCMrI9nK1cqGTdm9s9edg+o8hJpHEAYhnDsQPKSqvYnSYZHV8ovx7OB0wUwLJlvigiuJ+VJEePUSX6MqDY/y+0FXDUP4GMIFCCMqnN9X2f2uFmWVziICqtwt9oztXt+VkG6U048msLHFASapnwCYVTR6Vszh8uVsjao2vcqfQFdltYray4WUzgIiVjn//ZMcdYJlTgd85/yh887XBlcWd+RIxzIxLZkmBWwiq7cAgzs/rIUyB6GtvYDciSDS5/g1YcBVMN/gjXefo7NLqHaxA1zbPMTkSGeOZJYJu4RPAcOkYKCBafbtyPcfDxGpEh/ndY7csDVP0gXSLhHeV5hVIhwS8W///5ArP0QDY7B0sfftwse4c6nvJk960jgjDXlTuDtNaC3nMa7nzVOCSfhC7e48Q8BabCx1lkmjTLLfmeh3czoaoBYRtYCjaa9UZrAmu3a2I8inr8XIG3e0NPOk5I8WfdH3vt55vKfvbsdKM/VmstEAfwHjC4gZUW8uAgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c6773cc939000ac1cea2572731267342/cc182/transform3.webp 148w,
/static/c6773cc939000ac1cea2572731267342/f7e40/transform3.webp 295w,
/static/c6773cc939000ac1cea2572731267342/1a2f4/transform3.webp 590w,
/static/c6773cc939000ac1cea2572731267342/eae19/transform3.webp 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c6773cc939000ac1cea2572731267342/cf440/transform3.png 148w,
/static/c6773cc939000ac1cea2572731267342/d2d38/transform3.png 295w,
/static/c6773cc939000ac1cea2572731267342/b9e4f/transform3.png 590w,
/static/c6773cc939000ac1cea2572731267342/b2a12/transform3.png 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/c6773cc939000ac1cea2572731267342/b9e4f/transform3.png&quot;
          alt=&quot;transform3&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ctx.transform(cosAngle,sinAngle,-sinAngle,cosAngle,0,0)&lt;/code&gt;ä¸&lt;code class=&quot;language-text&quot;&gt;ctx.rotate(angle)&lt;/code&gt;æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ä¸‰ç§åŸºæœ¬çš„æ“ä½œåæ ‡ç³»çš„æ–¹å¼ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;å®ç°ï¼Œé€šè¿‡ç»„åˆï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§è®¾ç½®åæ ‡ç³»çš„å¹³ç§»ï¼Œæ—‹è½¬ï¼Œç¼©æ”¾ï¼Œåªéœ€è¦è®¡ç®—å‡ºæ­£ç¡®çš„ aï¼Œbï¼Œcï¼Œdï¼Œeï¼Œfã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ä¸Šé¢ä¸‰ç§æ“ä½œåŒæ—¶å®ç°ï¼Œå…ˆå¹³ç§»ï¼Œå†ç¼©æ”¾ï¼Œæœ€åå†æ—‹è½¬ï¼Œåˆ†åˆ«ç»™å‡º&lt;code class=&quot;language-text&quot;&gt;translate&lt;/code&gt;+&lt;code class=&quot;language-text&quot;&gt;scale&lt;/code&gt;+&lt;code class=&quot;language-text&quot;&gt;rotate&lt;/code&gt;æ¥å®ç°ï¼Œå’Œ&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;æ¥å®ç°ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;translate&lt;/code&gt;+&lt;code class=&quot;language-text&quot;&gt;scale&lt;/code&gt;+&lt;code class=&quot;language-text&quot;&gt;rotate&lt;/code&gt;ç»„åˆå®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;font &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;18px sans-serif&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;grey&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹æ ·å¼&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®è™šçº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®çº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;æˆ‘æ˜¯æ–‡å­—&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; angle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;translate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å…ˆå¹³ç§»&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å†ç¼©æ”¾&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rotate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;angle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æœ€åå†æ—‹è½¬&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹æ ·å¼&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;globalAlpha &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®çº¿&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;æˆ‘æ˜¯æ–‡å­—&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶åŒæ ·çš„çŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d5ce3fb7c28d39327248c37c58e875e4/f1147/transform4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.715654952076676%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAACC0lEQVQoz22R208TURDG97/zBU0vClGSPvhgfFAfTS2hRSta8QI0vawtbIsU2tIomGAaoLRCDbaGlBeQRkIQhUr3nO0FZVt29+xx9jQhNTH5ZTKZc76ZbzIcQhsIfUGoeAHGRUkyIsIFxPL/sYHxNtdqvZLlwJnsl7totX1E4ymdoDSkEf5c8bcZihoAzpWgRrxYSnKEhCiNUfqmg27EWLZsDxdv5vccB/i5rIbZhxkWpwiN6voUpZON5nsQ85UK//0wcFLlRTF4dBxQiRDJ2TzxSw8/XBlOm8bz/fHtO59/uo5OxxQNvEwTQxyuNxc4cFUqjWUyI5ubo193veVdv9j0etIWX6KHn+15sWh2Za2OjPlBxuTKXfUWbKmde5IcgMn1xrwhBjOURnQ9ohEB7JUOh1yLl598uj683udZtrrXeiEBHq/1ObNWaFH946NUqHWLAaKDeDq9d39g2eRcMoFt94rFvd7bUQKDWauwdYv9B9vznKoGVRJRNaEDDD9rhX80RovHQ8mdu+MF26OP1wZXLc6cFcQDq5bMvh3c6TRk7Ez016oWvRCrGpiPsN7GCWQlvF97mTtwRLduP8vfsK+Yy2gEngiIGwscpTxsCzv8yyQ78gTLo6yX8Fv1f6s9bWshVgk1mu84hGMIzyGc7AbjuQ4iTlZR4kSMiyghSalm/S2rpzCerfxa+gukAgG6pyKvTwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/d5ce3fb7c28d39327248c37c58e875e4/cc182/transform4.webp 148w,
/static/d5ce3fb7c28d39327248c37c58e875e4/f7e40/transform4.webp 295w,
/static/d5ce3fb7c28d39327248c37c58e875e4/1a2f4/transform4.webp 590w,
/static/d5ce3fb7c28d39327248c37c58e875e4/61a1a/transform4.webp 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/d5ce3fb7c28d39327248c37c58e875e4/cf440/transform4.png 148w,
/static/d5ce3fb7c28d39327248c37c58e875e4/d2d38/transform4.png 295w,
/static/d5ce3fb7c28d39327248c37c58e875e4/b9e4f/transform4.png 590w,
/static/d5ce3fb7c28d39327248c37c58e875e4/f1147/transform4.png 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/d5ce3fb7c28d39327248c37c58e875e4/b9e4f/transform4.png&quot;
          alt=&quot;transform4&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;ä¸€æ¬¡æ€§å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; angle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ctx.translate(120, 20);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ctx.scale(0.5, 0.5);&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ctx.rotate(angle);&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; cosAngle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;angle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; sinAngle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;angle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; cosAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; sinAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; sinAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; cosAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b1790f0bee53d5a31a51a3b7f33e54ad/f1147/transform5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.39616613418531%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAB80lEQVQoz1WS3WvTUBjG++eJyFi31g3BoVcKMu8cOsW10026WbV12ibtmrS6KeKF4IQ0pO2o4hSGtDqIQ+kQBzPanI+2uqQ9Oa8nYRsKv4vn4jzn/XjeECGtdnsNIR2h8hE2Knc7hgBjoTUbawiX8T8QolmWHrLRB8dNc8hxLnM4gDHZ6iV7TgogD1AEUAGWAXIAMvgvhcjRjhxCuOm4WQ5Fj6ucqx5XBAOm5NfPzBvR0ua5mjll/lqgjuRx8csKwCPuC4V2FFG5MRhkTXOpXr/d/JgyP6e+bD/Y66STL4Yz6rGF5ydir4ZmapHEm1PFxnmjdXm7nei5UmAuhBBquP0M7eR/WNm2LWEqc6+0uXN9VhterI4ltdGEEZ2tn4zXIlcr4elK+JI+VGldEfUxXfbNjps5HEx0rgA8ftK4MPXyeEwP3yiHb1ajc6/H5uqC8fn6+Ext9Ku9CFAivhk39p2HnqcwVmCej9Df8N23u7FnW5PpjYn4elQUvFYdidUiQt/ZOP27LxamBm3jZr8vMaYyphzBeQlgVbTgssJ3eu/dbvzp1sX7789OGyOrnyaDtQmz6kfFvKXDJA4QaXkg8SAYsZtgooLrZVvk1l43GeQnESqFCNmx7TWMdfz/GWASgMvIxz8SSvU/3UqXGkITqlk/9b/dX9eScQkKLAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b1790f0bee53d5a31a51a3b7f33e54ad/cc182/transform5.webp 148w,
/static/b1790f0bee53d5a31a51a3b7f33e54ad/f7e40/transform5.webp 295w,
/static/b1790f0bee53d5a31a51a3b7f33e54ad/1a2f4/transform5.webp 590w,
/static/b1790f0bee53d5a31a51a3b7f33e54ad/61a1a/transform5.webp 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b1790f0bee53d5a31a51a3b7f33e54ad/cf440/transform5.png 148w,
/static/b1790f0bee53d5a31a51a3b7f33e54ad/d2d38/transform5.png 295w,
/static/b1790f0bee53d5a31a51a3b7f33e54ad/b9e4f/transform5.png 590w,
/static/b1790f0bee53d5a31a51a3b7f33e54ad/f1147/transform5.png 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/b1790f0bee53d5a31a51a3b7f33e54ad/b9e4f/transform5.png&quot;
          alt=&quot;transform5&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ç§æ–¹å¼æœ€ç»ˆå¾—åˆ°çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œå…¶å®åœ¨å°†&lt;code class=&quot;language-text&quot;&gt;translate&lt;/code&gt;+&lt;code class=&quot;language-text&quot;&gt;scale&lt;/code&gt;+&lt;code class=&quot;language-text&quot;&gt;rotate&lt;/code&gt;ç»„åˆç”¨&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;ä¸€æ¬¡æ€§å®ç°æ—¶ï¼Œå°±æ˜¯åœ¨åšçŸ©é˜µçš„å˜æ¢è®¡ç®—ï¼Œ&lt;/p&gt;
&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;(&lt;/mo&gt;&lt;mtable rowspacing=&quot;0.15999999999999992em&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;120&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;(&lt;/mo&gt;&lt;mtable rowspacing=&quot;0.15999999999999992em&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;(&lt;/mo&gt;&lt;mtable rowspacing=&quot;0.15999999999999992em&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo fence=&quot;true&quot;&gt;(&lt;/mo&gt;&lt;mtable rowspacing=&quot;0.15999999999999992em&quot; columnspacing=&quot;1em&quot;&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;120&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mrow&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;mo fence=&quot;true&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;\begin{pmatrix}
1&amp;amp;0&amp;amp;120 \\
0&amp;amp;1&amp;amp;20 \\
0&amp;amp;0&amp;amp;1
\end{pmatrix} *
\begin{pmatrix}
0.5&amp;amp;0&amp;amp;0 \\
0&amp;amp;0.5&amp;amp;0 \\
0&amp;amp;0&amp;amp;1
\end{pmatrix} *
\begin{pmatrix}
cos(\beta)&amp;amp;-sin(\beta)&amp;amp;0 \\
sin(\beta)&amp;amp;cos(\beta)&amp;amp;0 \\
0&amp;amp;0&amp;amp;1
\end{pmatrix} =
\begin{pmatrix}
0.5*cos(\beta)&amp;amp;-0.5*sin(\beta)&amp;amp;120 \\
0.5*sin(\beta)&amp;amp;0.5*cos(\beta)&amp;amp;20 \\
0&amp;amp;0&amp;amp;1
\end{pmatrix}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.60004em;vertical-align:-1.55002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;minner&quot;&gt;&lt;span class=&quot;mopen&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mtable&quot;&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.60004em;vertical-align:-1.55002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;minner&quot;&gt;&lt;span class=&quot;mopen&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mtable&quot;&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.60004em;vertical-align:-1.55002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;minner&quot;&gt;&lt;span class=&quot;mopen&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mtable&quot;&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;âˆ’&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:3.60004em;vertical-align:-1.55002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;minner&quot;&gt;&lt;span class=&quot;mopen&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mtable&quot;&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;âˆ’&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;arraycolsep&quot; style=&quot;width:0.5em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;col-align-c&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05em;&quot;&gt;&lt;span style=&quot;top:-4.21em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-3.0099999999999993em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-1.8099999999999994em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.5500000000000007em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;&lt;span class=&quot;delimsizing mult&quot;&gt;&lt;span class=&quot;vlist-t vlist-t2&quot;&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:2.05002em;&quot;&gt;&lt;span style=&quot;top:-2.2500000000000004em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;top:-4.05002em;&quot;&gt;&lt;span class=&quot;pstrut&quot; style=&quot;height:3.1550000000000002em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;delimsizinginner delim-size4&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-s&quot;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;vlist-r&quot;&gt;&lt;span class=&quot;vlist&quot; style=&quot;height:1.55002em;&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;ä¸‰ä¸ªçŸ©é˜µç›¸ä¹˜ï¼Œåˆ†åˆ«æ˜¯ã€Œå¹³ç§»çŸ©é˜µ * ç¼©æ”¾çŸ©é˜µ * æ—‹è½¬çŸ©é˜µã€ï¼Œæ ¹æ®è®¡ç®—å‡ºæ¥çš„çŸ©é˜µï¼Œæœ€åä»£å…¥åˆ°å…¬å¼ä¸­ï¼Œå¯ä»¥å¾—åˆ°&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;a=0.5*\cos(\beta)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;sin&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;b=0.5*\sin(\beta)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;sin&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;c=-0.5*\sin(\beta)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.72777em;vertical-align:-0.08333em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;âˆ’&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;cos&lt;/mi&gt;&lt;mo&gt;â¡&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;Î²&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;d=0.5*\cos(\beta)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mop&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.05278em;&quot;&gt;Î²&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;120&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;e=120&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.43056em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;f=20&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;å¦‚æœå¤šæ¬¡è°ƒç”¨ï¼Œå®ƒçš„æ•ˆæœä¹Ÿæ˜¯å åŠ çš„ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ†å¼€ç”¨&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;æ¥å®ç°ä¸Šé¢çš„å¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨transformæ¥å¹³ç§»&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨transformæ¥ç¼©æ”¾&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cosAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; sinAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;sinAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cosAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨transformæ—‹è½¬&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬äºŒæ¬¡è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;æ¥ç¼©æ”¾ï¼Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡å¹³ç§»ä¹‹åçš„åæ ‡ç³»ä¸Šè¿›è¡Œçš„ï¼Œç¬¬ä¸‰æ¬¡è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;æ¥æ—‹è½¬ï¼Œæ˜¯åœ¨ç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡ç»“æœä¸Šæ¥è¿›è¡Œçš„ã€‚canvas ä¸­æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;setTransform&lt;/code&gt;å‡½æ•°ï¼Œå®ƒç±»ä¼¼äº&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;å‡½æ•°ï¼ŒåŒæ ·æ¥å— aï¼Œbï¼Œcï¼Œdï¼Œeï¼Œf è¿™ 6 ä¸ªå‚æ•°ï¼Œä¸”å‚æ•°å«ä¹‰ä¸&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;ä¸­ä¸€æ‘¸ä¸€æ ·ï¼Œè·Ÿ&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;ä¸åŒä¹‹å¤„åœ¨äºï¼Œ&lt;strong&gt;å®ƒä¸ä¼šå åŠ çŸ©é˜µå˜æ¢çš„æ•ˆæœï¼Œå®ƒä¼šå…ˆé‡ç½®å½“å‰åæ ‡ç³»çŸ©é˜µä¸ºé»˜è®¤çš„å•å…ƒçŸ©é˜µ&lt;/strong&gt;ï¼Œä¹‹åå†æ‰§è¡Œè·Ÿ&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;ä¸€æ ·çš„çŸ©é˜µå˜æ¢ã€‚æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;å˜æ¢çŸ©é˜µæ—¶ï¼Œä¸æƒ³å¤šæ¬¡è°ƒç”¨å åŠ ï¼Œé‚£ä¹ˆå¯ä»¥æ›¿æ¢ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;setTransform&lt;/code&gt;ã€‚å®é™…ä¸Šè¿˜æœ‰ä¸€ä¸ªå®éªŒæ€§çš„å‡½æ•°&lt;code class=&quot;language-text&quot;&gt;resetTransform&lt;/code&gt;ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯é‡ç½®å½“å‰åæ ‡ç³»çŸ©é˜µä¸ºé»˜è®¤çš„å•å…ƒçŸ©é˜µï¼Œå»æ‰äº†ä½œç”¨åœ¨é»˜è®¤åæ ‡ç³»ä¸Šçš„å˜æ¢æ•ˆæœï¼Œæ³¨æ„å®ƒæ˜¯ä¸€ä¸ªå®éªŒæ€§çš„å‡½æ•°ï¼Œè¿˜æœ‰å¾ˆå¤šæµè§ˆå™¨éƒ½æ²¡æœ‰æä¾›æ”¯æŒï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚é€šè¿‡åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼Œ&lt;/p&gt;
&lt;span class=&quot;katex-display&quot;&gt;&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo separator=&quot;true&quot;&gt;,&lt;/mo&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;setTransform(a,b,c,d,e,f)=resetTransform() + transform(a,b,c,d,e,f)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.13889em;&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;mopen&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mpunct&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.16666666666666666em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10764em;&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;mclose&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯å­¦ä¹ å’Œå›é¡¾äº† canvas ä¸­åæ ‡ç³»çš„å˜æ¢ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡çŸ©é˜µå˜æ¢æ¥å®ç° canvas åæ ‡ç³»çš„å˜åŒ–ï¼ŒåŒ…æ‹¬&lt;code class=&quot;language-text&quot;&gt;translate&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;scale&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;rotate&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;transform&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;setTransform&lt;/code&gt;ï¼Œé€šè¿‡ç»„åˆä½¿ç”¨ï¼Œå¯ä»¥å®ç°å¼ºå¤§çš„åŠ¨ç”»æ•ˆæœã€‚å®é™…ä¸Šï¼ŒåŠ¨ç”»æ•ˆæœåº”è¯¥åœ¨ä¸€æ®µæ—¶é—´å†…æŒç»­å˜åŒ–ï¼Œè¿™ç¯‡æ–‡ç« ï¼Œåªå­¦ä¹ äº†å•ä¸€çš„å˜åŒ–ï¼Œè¿˜æ²¡æœ‰æ¶‰åŠæ—¶é—´ç­‰åŠ¨ç”»å› ç´ ï¼Œä¸‹ä¸€ç¯‡å‡†å¤‡å­¦ä¹ å’Œå›é¡¾åŠ¨ç”»çš„é«˜çº§çŸ¥è¯†ï¼ŒåŒ…æ‹¬æ—¶é—´å› ç´ ï¼Œç‰©ç†å› ç´ ï¼Œæ—¶é—´æ‰­æ›²å˜åŒ–å‡½æ•°ç­‰ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[canvasæ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶å›¾ç‰‡å’Œæ–‡æœ¬]]></title><description><![CDATA[è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬ä¸‰ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼šcanvas æ ¸å¿ƒæŠ€æœ¯é€šè¿‡ä¸Šä¸€ç¯‡canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶å›¾å½¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•ç»˜åˆ¶ä»»æ„å¤šè¾¹å½¢ä»¥åŠå›¾ç‰‡çš„å¡«å……è§„åˆ™ã€‚åœ¨ canvasâ€¦]]></description><link>https://snayan.github.io//post/how_to_draw_image_and_text/</link><guid isPermaLink="false">https://snayan.github.io//post/how_to_draw_image_and_text/</guid><pubDate>Fri, 27 Jul 2018 08:36:58 GMT</pubDate><content:encoded>&lt;p&gt;è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬ä¸‰ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼š&lt;a href=&quot;/post/core_html5_canvas/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šä¸€ç¯‡&lt;a href=&quot;/post/how_to_draw_graphics/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶å›¾å½¢&lt;/a&gt;çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•ç»˜åˆ¶ä»»æ„å¤šè¾¹å½¢ä»¥åŠå›¾ç‰‡çš„å¡«å……è§„åˆ™ã€‚åœ¨ canvas ä¸­åº”ç”¨æ¯”è¾ƒå¤šçš„è¿˜æœ‰ç»˜åˆ¶å›¾ç‰‡å’Œæ–‡æœ¬ã€‚è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°±æ¥è¯¦ç»†èŠèŠå›¾ç‰‡å’Œæ–‡æœ¬çš„ç»˜åˆ¶ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          å›¾ç‰‡
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨ canvas ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€å¼ å›¾ç‰‡ç›´æ¥ç»˜åˆ¶åˆ° canvas ä¸Šï¼Œè·Ÿä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;img&lt;/code&gt;æ ‡ç­¾ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œå›¾ç‰‡æ˜¯ç»˜åˆ¶åˆ° canvas ç”»å¸ƒä¸Šçš„ï¼Œè€Œéç‹¬ç«‹çš„ html å…ƒç´ ã€‚canvas æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;drawImage&lt;/code&gt;æ–¹æ³•æ¥ç»˜åˆ¶å›¾ç‰‡ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥æœ‰ä¸‰ç§å½¢å¼çš„ç”¨æ³•ï¼Œå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;void drawImage(image,dx,dy);&lt;/code&gt;ç›´æ¥å°†å›¾ç‰‡ç»˜åˆ¶åˆ°æŒ‡å®šçš„ canvas åæ ‡ä¸Šï¼Œå›¾ç‰‡ç”± image ä¼ å…¥ï¼Œåæ ‡ç”± dx å’Œ dy ä¼ å…¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;void drawImage(image,dx,dy,dw,dh);&lt;/code&gt;åŒä¸Šé¢å½¢å¼ï¼Œåªä¸è¿‡æŒ‡å®šäº†å›¾ç‰‡ç»˜åˆ¶çš„å®½åº¦å’Œé«˜åº¦ï¼Œå®½é«˜ç”± dw å’Œ dh ä¼ å…¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;void drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh);&lt;/code&gt;è¿™ä¸ªæ˜¯æœ€å¤æ‚ï¼Œæœ€çµæ´»çš„ä½¿ç”¨å½¢å¼ï¼Œç¬¬ä¸€å‚æ•°æ˜¯å¾…ç»˜åˆ¶çš„å›¾ç‰‡å…ƒç´ ï¼Œç¬¬äºŒä¸ªåˆ°ç¬¬äº”ä¸ªå‚æ•°ï¼ŒæŒ‡å®šäº†åŸå›¾ç‰‡ä¸Šçš„åæ ‡å’Œå®½é«˜ï¼Œè¿™éƒ¨åˆ†åŒºåŸŸå°†ä¼šè¢«ç»˜åˆ¶åˆ° canvas ä¸­ï¼Œè€Œå…¶ä»–åŒºåŸŸå°†å¿½ç•¥ï¼Œæœ€åå››ä¸ªå‚æ•°è·Ÿå½¢å¼äºŒä¸€æ ·ï¼ŒæŒ‡å®šäº† canvas ç›®æ ‡ä¸­çš„åæ ‡å’Œå®½é«˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;!--more--&gt;
&lt;p&gt;æ ¹æ®å‚æ•°ä¸ªæ•°ï¼Œæˆ‘ä»¬ä¼šåˆ†åˆ«è°ƒç”¨ä¸åŒå½¢å¼çš„&lt;code class=&quot;language-text&quot;&gt;drawImage&lt;/code&gt;ï¼Œç¬¬ä¸€ç§å½¢å¼æœ€ç®€å•ï¼Œå°±æ˜¯å°†åŸå›¾ç‰‡ç›´æ¥ç»˜åˆ¶åˆ°ç›®æ ‡ canvas æŒ‡å®šåæ ‡å¤„ï¼Œå›¾ç‰‡å®½é«˜å°±æ˜¯åŸå›¾ç‰‡å®½é«˜ï¼Œä¸ä¼šç¼©æ”¾ã€‚ç¬¬äºŒç§å½¢å¼å‘¢ï¼ŒæŒ‡å®šäº†ç›®æ ‡ canvas ç»˜åˆ¶åŒºåŸŸçš„å®½é«˜ï¼Œé‚£ä¹ˆå›¾ç‰‡æœ€ç»ˆè¢«ç»˜åˆ¶åœ¨ canvas ä¸Šçš„å®½é«˜è¢«å›ºå®šäº†ï¼Œå›¾ç‰‡ä¼šè¢«ç¼©æ”¾ï¼Œå¦‚æœæŒ‡å®šçš„ dw å’Œ dh ä¸åŸå›¾ç‰‡çš„å®½é«˜ä¸æ˜¯ç­‰æ¯”ä¾‹çš„ï¼Œå›¾ç‰‡ä¼šè¢«å‹ç¼©æˆ–è€…æ‹‰ä¼¸å˜å½¢ã€‚ç¬¬ä¸‰ç§å½¢å¼ï¼Œåˆ†åˆ«æŒ‡å®šäº†åŸå›¾ç‰‡è¢«ç»˜åˆ¶çš„åŒºåŸŸå’Œç›®æ ‡ canvas ä¸­çš„åŒºåŸŸï¼Œé€šè¿‡ sxï¼Œsyï¼Œswï¼Œsh æˆ‘ä»¬å¯åªé€‰æ‹©åŸå›¾ç‰‡ä¸­æŸä¸€éƒ¨åˆ†åŒºåŸŸï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå®Œæ•´çš„å›¾ç‰‡ï¼Œé€šè¿‡ dxï¼Œdyï¼Œdwï¼Œdh æˆ‘ä»¬å¾…ç»˜åˆ¶çš„ç›®æ ‡ canvas åŒºåŸŸã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åˆ›å»ºimgå…ƒç´ &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; img &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;img&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æŒ‡å®šimgçš„src&lt;/span&gt;
img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./learn9/google.png&quot;&lt;/span&gt;
img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;load&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å°†imgå…ƒç´ è°ƒç”¨drawImage(img,dx,dy)ç»˜åˆ¶å‡ºæ¥&lt;/span&gt;
    ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/68264343ddf2fc9585c5af15a797cd6f/52699/drawImage1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.03761755485894%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAB+UlEQVQoz31SXWsTQRTdP+C70J8hWNCq1FQLCoUo1NLiW599EvWhoGxLQH2wrYIiSCwWiUVFCX2SapMU0qalhRJrjFTNLqFNsjM7Mzub3Z2vdbbVFxEPw3zcey733OEYnue5rqsY+dF0c8XOsw+dlSoMfOwRjBD+DyCEhgOAktGLkt9vwiuzaPwpPjvlXstiP2BCcMY5Z4xHUbL/AWNMSg4hMFgXvSqHp0xarPH4ABZQ+U3GZfw3lPp9HFy0ZGOvDc9l8MJqpN9C/oPNvlT9hfloYy2WMlYJQ5Lt2J7BjUWj/Nk5M4kt57BOza9EmffBvXwwvdi1aBzNPd4/fwJNXO8MpdCdG0mDnzNs6Ui8mXLXrhpbdXDaxPU9oRNcqGwhNN8G9/P+8clw+VPDv9DrlwpJqvG9PXAyLOXFao+w53SEoI5BiTv2iNx+HSR6VLI0qo1ocFZayxV0sU9AcDiEMzpMsxNyvUeSWlJMsNGlaMeOBjLerZy/bYndlny3wfqnyJOPLFZhKz2I75qSYPryeSvVy+2GWD8mtobjyMbNggEg1C31zDdz3fQDemmajjykbypMBxO1X3fA+KgzMgTG0mFxKfkVryYqfap0FJUvG9ohDoABxTzAzZa7a7vaHSLQDkEuhDgIEaXgW13TMGMIAkRChEPUrrX37V8qpP4rw23BXAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/68264343ddf2fc9585c5af15a797cd6f/cc182/drawImage1.webp 148w,
/static/68264343ddf2fc9585c5af15a797cd6f/f7e40/drawImage1.webp 295w,
/static/68264343ddf2fc9585c5af15a797cd6f/1a2f4/drawImage1.webp 590w,
/static/68264343ddf2fc9585c5af15a797cd6f/e2250/drawImage1.webp 638w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/68264343ddf2fc9585c5af15a797cd6f/cf440/drawImage1.png 148w,
/static/68264343ddf2fc9585c5af15a797cd6f/d2d38/drawImage1.png 295w,
/static/68264343ddf2fc9585c5af15a797cd6f/b9e4f/drawImage1.png 590w,
/static/68264343ddf2fc9585c5af15a797cd6f/52699/drawImage1.png 638w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/68264343ddf2fc9585c5af15a797cd6f/b9e4f/drawImage1.png&quot;
          alt=&quot;drawImage1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢è¿™ä¸ªç¤ºä¾‹ï¼Œè¿™å¼  Google å›¾ç‰‡çš„åŸå§‹å¤§å°æ˜¯ 544*184ï¼Œè€Œ canvas åŒºåŸŸçš„å¤§å°æ˜¯é»˜è®¤çš„ 300*150ã€‚æˆ‘ä»¬è°ƒç”¨äº†ç¬¬ä¸€ç§å½¢å¼ï¼Œç›´æ¥å°†å›¾ç‰‡ç»˜åˆ¶åˆ° canvas çš„åæ ‡åŸç‚¹å¤„ï¼Œå›¾ç‰‡æ²¡æœ‰è¢«ç¼©æ”¾ï¼Œè¶…å‡ºäº† canvas åŒºåŸŸï¼Œè¶…å‡ºçš„éƒ¨åˆ†ï¼Œä¼šè¢« canvas å¿½ç•¥çš„ã€‚æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘æ˜¯åœ¨å›¾ç‰‡çš„&lt;code class=&quot;language-text&quot;&gt;onload&lt;/code&gt;äº‹ä»¶ä¸­æ‰å¼€å§‹ç»˜åˆ¶çš„ï¼Œå› ä¸ºå›¾ç‰‡æ²¡æœ‰åŠ è½½å®Œæ¯•ï¼Œç›´æ¥ç»˜åˆ¶å›¾ç‰‡æ˜¯æ— æ•ˆçš„ã€‚ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ï¼Œæˆ‘éƒ½å°†åªè´´å‡º&lt;code class=&quot;language-text&quot;&gt;onload&lt;/code&gt;äº‹ä»¶é‡Œçš„ä»£ç ï¼Œå›¾ç‰‡åŠ è½½éƒ¨åˆ†ä»£ç éƒ½ç›¸åŒï¼Œå°±çœç•¥äº†ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è·å–canvaså®½åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; canvasWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; canvas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width
&lt;span class=&quot;token comment&quot;&gt;// è·å–canvasé«˜åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; canvasHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; canvas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/633c2addbf104e5d0392f818a406a181/77dff/drawImage2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.446945337620576%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAB+ElEQVQoz3WSXWsTQRSG9//4X8S79qJ4V0FEKMQWaVM0UClZidQSxcaPRUm6abVpmtiaXvgVWmMjplqwEquFpGmSzX5vdie7sztz3N1gb4oHBs487xwOc97DaKrcEaR7eSHGdw+PZUNXFUU9Hz7TNa0tdj8f13RN94kkSYxpqHPrg3gRL25jrowBgFA4H5QGtG322NrjIcEYM+/3xdkVM5SHBwiyPKEzJAQ1qWv5uYFI34KmLrC1J0DB7Zxie8CkSkKuOvDl/BcnW3FPBMeaj4pjl+zdKtWKuHwBDscN5N3MovEl53a++fAo4/DL8pUxPbfKPN0WVitB8YsP6OoK8IkScAtOV9CiEe9g1BsI0Iisl4rZKtRbdOJlJ7lz17w13X+QEKM3mMoPaTJjhr8gj/bg7f0cbKQJgDZzzf066vm4w6bX0u/qoPdhutBdLLP65RFUWLNVhUGmurCFJpdR7BWayXlu+1Sbuq7NRvrcc9Kaw7UROLj4q9Ga4t1oFk/wjeTPZ1b8jh6PKakk4w/ddb3NfZzZcQwr6GR/q5kZjtoOJab3h6XaHqbwqW5zH53ElnriND2hZ3JL6KgeFBNC4D9Bwvn/7pL5Ao6/dkrfXf/qhWYGVomi6NstK6okny2EosrSv1xSFNnfhdyumHrTCzVFCR7Ikij+BdaoAFT8eWrVAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/633c2addbf104e5d0392f818a406a181/cc182/drawImage2.webp 148w,
/static/633c2addbf104e5d0392f818a406a181/f7e40/drawImage2.webp 295w,
/static/633c2addbf104e5d0392f818a406a181/1a2f4/drawImage2.webp 590w,
/static/633c2addbf104e5d0392f818a406a181/bc6b6/drawImage2.webp 622w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/633c2addbf104e5d0392f818a406a181/cf440/drawImage2.png 148w,
/static/633c2addbf104e5d0392f818a406a181/d2d38/drawImage2.png 295w,
/static/633c2addbf104e5d0392f818a406a181/b9e4f/drawImage2.png 590w,
/static/633c2addbf104e5d0392f818a406a181/77dff/drawImage2.png 622w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/633c2addbf104e5d0392f818a406a181/b9e4f/drawImage2.png&quot;
          alt=&quot;drawImage2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æŠŠç›®æ ‡ canvas åŒºåŸŸæŒ‡å®šä¸º canvas çš„å®½é«˜ï¼Œå›¾ç‰‡æ€»æ˜¯ä¼šè¢«ç»˜åˆ¶åœ¨æ•´ä¸ª canvas ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥çœ‹åˆ°ç»˜åˆ¶å‡ºæ¥çš„å›¾ç‰‡å˜å½¢äº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—å‡ºåŸå›¾ç‰‡çš„å®½é«˜æ¯”ï¼Œæ ¹æ® canvas ç›®æ ‡åŒºåŸŸçš„å®½åº¦æ¥è®¡ç®—å‡º canvas ç›®æ ‡åŒºåŸŸçš„é«˜åº¦ï¼Œæˆ–è€…æ ¹æ® canvas ç›®æ ‡åŒºåŸŸçš„é«˜åº¦æ¥è®¡ç®—å‡º canvas ç›®æ ‡åŒºåŸŸçš„å®½åº¦ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è·å–å›¾ç‰‡çš„å®½åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width
&lt;span class=&quot;token comment&quot;&gt;// è·å–å›¾ç‰‡çš„é«˜åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height
&lt;span class=&quot;token comment&quot;&gt;// æŒ‡å®šç›®æ ‡canvasåŒºåŸŸçš„å®½åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; targetWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; canvasWidth
&lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—å‡ºç›®æ ‡canvasåŒºåŸŸçš„é«˜åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; targetHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgHeight &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; targetWidth&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; imgWidth
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/825fe68212d72cbc99b8aa467948cc3f/f1147/drawImage3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.75718849840256%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABqUlEQVQoz5VQz08TQRTeP9OjB6NXVBJjD+IFaKAxoh7UgNFKDaQQoaH4A1KxwoUDtlZLmu2KCdAu+2Nmd2Z/dXfePHcLxnqTLzPz3jff+17ynuIx+6BjTK/o9970tw5M7lJCHco4JSQ7jkdpGonjkIBztadtd774zKOc6/2+0j0mueXgx6nUXeyeSUSUUYQuxQwSEwNlnGY8AgRs2Z255utM8TnjXFmsGS93gpR+aAyW9+GwbUZPZ2n+frjzGYzF+Nt1PJro9rxCNSysw/T2YfF7EYpFkhszKqtK7as5+dZLzX0rvlvF1ckyludFlNDxq6JxRaTCr1tPlt7taaie4NiG9qKSC25c81ZK5sdNxWO0tBsUNqKFWvi8DuHJKX8w5T7M+5U16D1K2jdRu906sp7VBnNVuLPeKbdLg5k8ezxr1T8p6T4kQI+AqotEZDMDtRNNHY6cAGuidI4JvqqHU2vBZiNEFMIP4KfqmmZmFgLwfD/y4o6S9PUH8n0z3mrFiRhyyL4ZY5kZAIbF8k8LOZpf9BqRztV/zP+Pv2bbti3LopeE4zi6rv8G1cQZHCR5oPsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/825fe68212d72cbc99b8aa467948cc3f/cc182/drawImage3.webp 148w,
/static/825fe68212d72cbc99b8aa467948cc3f/f7e40/drawImage3.webp 295w,
/static/825fe68212d72cbc99b8aa467948cc3f/1a2f4/drawImage3.webp 590w,
/static/825fe68212d72cbc99b8aa467948cc3f/61a1a/drawImage3.webp 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/825fe68212d72cbc99b8aa467948cc3f/cf440/drawImage3.png 148w,
/static/825fe68212d72cbc99b8aa467948cc3f/d2d38/drawImage3.png 295w,
/static/825fe68212d72cbc99b8aa467948cc3f/b9e4f/drawImage3.png 590w,
/static/825fe68212d72cbc99b8aa467948cc3f/f1147/drawImage3.png 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/825fe68212d72cbc99b8aa467948cc3f/b9e4f/drawImage3.png&quot;
          alt=&quot;drawImage3&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾å¯ä»¥çœ‹åˆ°ï¼Œæ ¹æ®å›¾ç‰‡å®½é«˜æ¯”è®¡ç®—å‡ºæ¥çš„ç›®æ ‡ canvas åŒºåŸŸï¼Œæœ€ç»ˆï¼Œå›¾ç‰‡ç»˜åˆ¶å‡ºæ¥çš„æ•ˆæœæ˜¯ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œæ²¡æœ‰å˜å½¢ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹çœ‹æœ€ä¸ºå¤æ‚ï¼Œä¸”æœ€ä¸ºçµæ´»çš„ç¬¬ä¸‰ç§æ–¹å¼ã€‚ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ Google è¿™å¼ å›¾ç‰‡ä¸­çš„çº¢è‰²çš„é‚£ä¸ª o éƒ¨åˆ†ç»˜åˆ¶å‡ºæ¥ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;143&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c81c3c01e60b22a639d468dd05807b49/83cbb/drawImage4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.910828025477706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAA50lEQVQoz2N49/Hjm9evn69Y/Kip+vn61e8/fnr/4cP7d+/e4wUfPnx4+fIlA4iuKnwX5v25q+mtv8uXntb/QPDv33/c4B9Y9tOnTwwvtm167mj65+ljIP/Xtcsv7Y1/3bgKUvL3L2HNzxbMeRXsARX9+uWVl92Pw/tBnD9/CGt+c+US0OYvi2b//fzp04TOV94Ofz9+xO9yhOYPX799O7DnbUzQ61CvN4nhP8+fwe9mFM3AoPsL5Pz6+ff9u3+/fxEMLXTNf37/RgjjtRObzURowBFgb968ffv2AykAaN/Hjx9fvHgBAAeYL5mauaQMAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c81c3c01e60b22a639d468dd05807b49/cc182/drawImage4.webp 148w,
/static/c81c3c01e60b22a639d468dd05807b49/f7e40/drawImage4.webp 295w,
/static/c81c3c01e60b22a639d468dd05807b49/1a2f4/drawImage4.webp 590w,
/static/c81c3c01e60b22a639d468dd05807b49/939a5/drawImage4.webp 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c81c3c01e60b22a639d468dd05807b49/cf440/drawImage4.png 148w,
/static/c81c3c01e60b22a639d468dd05807b49/d2d38/drawImage4.png 295w,
/static/c81c3c01e60b22a639d468dd05807b49/b9e4f/drawImage4.png 590w,
/static/c81c3c01e60b22a639d468dd05807b49/83cbb/drawImage4.png 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/c81c3c01e60b22a639d468dd05807b49/b9e4f/drawImage4.png&quot;
          alt=&quot;drawImage4&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Google è¿™å¼ å›¾ä¸­ï¼Œçº¢è‰²å­—æ¯ o åœ¨åŸå›¾ç‰‡ä¸­çš„åæ ‡æ˜¯(143,48)ï¼Œå®½é«˜æ˜¯ 90*90ï¼Œæˆ‘ä»¬ç®€å•çš„æŠŠè¿™ä¸ªå­—æ¯ç»˜åˆ¶åœ¨äº† canvas çš„(0,0)åæ ‡å¤„ï¼Œå®½é«˜ä¹Ÿæ˜¯ 90*90ã€‚å¯ä»¥å†æ¥å¤æ‚ç‚¹ï¼ŒæŠŠè¿™ä¸ªçº¢è‰²çš„å­—æ¯ oï¼Œè®©å®ƒçš„é«˜åº¦è·Ÿ canvas çš„é«˜åº¦ä¸€æ ·ï¼Œä¸”ç­‰æ¯”ä¾‹æ”¾å¤§å®½åº¦ï¼Œä¸”åœ†å¿ƒæ­£å¥½åœ¨ canvas ä¸­å¿ƒï¼Œå®ç°å¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è·å–å­—æ¯oçš„å®½åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; oWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è·å–å­—æ¯oçš„é«˜åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; oHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;90&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æŒ‡å®šç›®æ ‡canvasåŒºåŸŸçš„é«˜åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; targetHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; canvas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height
&lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—å‡ºç›®æ ‡canvasåŒºåŸŸçš„å®½åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; targetWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;oWidth &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; targetHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; oHeight
&lt;span class=&quot;token comment&quot;&gt;// ç§»åŠ¨ç›®æ ‡canvasåæ ‡X&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; targetX &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;canvas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; targetWidth&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  img&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;143&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  oWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  oHeight&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  targetX&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  targetWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  targetHeight
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a2bea64fa42523a62e57469f7238a0be/f1147/drawImage5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.39616613418531%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABfElEQVQoz2N49+7d27dv38PBu3fvv3z58OPn6/Nnn69c8mzJ/JcH973/+PHD9x/vkZR9+PDh5cuXDEDW379//0PAv38g4uvnL52NbxyMXxkoAdFrC+2POUl/7t5GKACTnz59QtIMFgKC9+V5z3Xk3saFfF274vuOLSCuocrrANc/z55ClGHR/O/PHyD549D+F0aqb2OD/r59A1IKlvrYWgs07vOETrDIH5yav8ye8lxL5su8GSB1v36BEJA+f/qFmda71CiY53Bo/jxz8nNtua9L5oFU/fwJ1Xzl4gtLnbdJEf///cWn+fv2Tc/1ld7lJP379ROkH2LijInPdeU/ttRAPIIzwP79+P42JRKo/0Nlwa9L53/fvvl5+oSX1novnc1+3biKrhkYz2hR9efxw/fZiS8MVF4YKL8wVnuuq/Am0PXn0YPw8INo/vjxIwMwuoH6P8DBu3cfv3//8O7tyy0bnk7ufTqx+/myRe8e3P/489cHJGVAna9fvwYA4tYCA297Q74AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a2bea64fa42523a62e57469f7238a0be/cc182/drawImage5.webp 148w,
/static/a2bea64fa42523a62e57469f7238a0be/f7e40/drawImage5.webp 295w,
/static/a2bea64fa42523a62e57469f7238a0be/1a2f4/drawImage5.webp 590w,
/static/a2bea64fa42523a62e57469f7238a0be/61a1a/drawImage5.webp 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a2bea64fa42523a62e57469f7238a0be/cf440/drawImage5.png 148w,
/static/a2bea64fa42523a62e57469f7238a0be/d2d38/drawImage5.png 295w,
/static/a2bea64fa42523a62e57469f7238a0be/b9e4f/drawImage5.png 590w,
/static/a2bea64fa42523a62e57469f7238a0be/f1147/drawImage5.png 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/a2bea64fa42523a62e57469f7238a0be/b9e4f/drawImage5.png&quot;
          alt=&quot;drawImage5&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;drawImage&lt;/code&gt;è¿”å›çš„ç¬¬ä¸€å‚æ•° imageï¼Œä¸ä»…å¯ä»¥æ˜¯å›¾ç‰‡å…ƒç´ ï¼Œå®é™…ä¸Šè¿˜å¯ä»¥æ˜¯ canavs å…ƒç´ ï¼Œvideo å…ƒç´ ã€‚å¸¸è§çš„ç¦»å± canvas çš„ä½¿ç”¨ï¼Œä¾å°±æ˜¯å°†ç¦»å±ä¸å¯è§çš„ canvas ç»˜åˆ¶åˆ°å½“å‰æ˜¾ç¤ºå±å¹• canvas ä¸Šã€‚ç¦»å±å¹• canvas è¿™ä¸€éƒ¨åˆ†å°†ä¼šåœ¨åç»­æ¸¸æˆéƒ¨åˆ†ä¸­è¯´åˆ°ï¼Œè¿™é‡Œä¸è¯¦ç»†è¯´äº†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          å›¾åƒåƒç´ 
        &lt;/h3&gt;
      
&lt;p&gt;è·Ÿå›¾ç‰‡ç»˜åˆ¶æœ‰å…³çš„å‡½æ•°è¿˜æœ‰ 3 ä¸ªï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯&lt;code class=&quot;language-text&quot;&gt;getImageData&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;putImageData&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;createImageData&lt;/code&gt;ã€‚è¿™äº›å‡½æ•°æ˜¯ç›´æ¥å¯ä»¥æ”¹å˜å›¾åƒä¸­æŸä¸€ä¸ªå…·ä½“çš„åƒç´ å€¼ï¼Œä»è€Œå¯ä»¥å¯¹å›¾ç‰‡åšä¸€äº›æ“ä½œï¼Œæ¯”å¦‚æ»¤é•œã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹&lt;code class=&quot;language-text&quot;&gt;getImageData&lt;/code&gt;æ–¹æ³•ï¼Œå®ƒçš„è°ƒç”¨æ–¹å¼æ˜¯&lt;code class=&quot;language-text&quot;&gt;let imgData = ctx.getImageData(sx,sy,sw,sh)&lt;/code&gt;ï¼Œæ¥å—å››ä¸ªå‚æ•°ï¼Œè¡¨ç¤º canvas åŒºåŸŸçš„æŸä¸€ä¸ªçŸ©å½¢åŒºåŸŸï¼Œè¿™ä¸ªçŸ©å½¢åŒºåŸŸçš„å·¦ä¸Šè§’åæ ‡æ˜¯(sx,sy)ï¼Œå®½é«˜æ˜¯ sw å’Œ shï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt;ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…å«çš„å±æ€§æœ‰&lt;code class=&quot;language-text&quot;&gt;width&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;height&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ImageData.width&lt;/code&gt;ï¼Œæ— ç¬¦å·é•¿æ•´å‹ï¼Œè¡¨ç¤ºè¿™ä¸ªå›¾åƒåŒºåŸŸçš„åƒç´ çš„å®½åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ImageData.height&lt;/code&gt;ï¼Œæ— ç¬¦å·é•¿æ•´å‹ï¼Œè¡¨ç¤ºè¿™ä¸ªå›¾åƒåŒºåŸŸçš„åƒç´ çš„é«˜åº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ImageData.data&lt;/code&gt;ï¼Œä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;Uint8ClampedArray&lt;/code&gt;æ•°ç»„ï¼Œæ•°ç»„é‡Œæ¯ 4 ä¸ªå•å…ƒï¼Œè¡¨ç¤ºä¸€ä¸ªåƒç´ å€¼ã€‚ä¸€ä¸ªåƒæ•°å€¼ç”¨ RGBA è¡¨ç¤ºçš„ï¼Œè¿™ 4 ä¸ªå•å…ƒåˆ†åˆ«è¡¨ç¤º Rï¼ŒGï¼ŒBï¼ŒAï¼Œè¡¨ç¤ºæ„æ€æ˜¯çº¢ï¼Œç»¿ï¼Œè“ï¼Œé€æ˜åº¦ï¼Œå–å€¼èŒƒå›´æ˜¯ 0 ï½ 255ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ctx.getImageData(sx,sy,sw,sh)&lt;/code&gt;ï¼Œå‚æ•°è¡¨ç¤ºçš„çŸ©å½¢åŒºåŸŸè¶…å‡ºäº† canvas çš„åŒºåŸŸï¼Œé‚£ä¹ˆè¶…å‡ºçš„éƒ¨åˆ†å°†æ˜¯ç”¨é»‘è‰²çš„é€æ˜åº¦ä¸º 0 çš„ RGBA å€¼è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯(0,0,0,0)ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è·å–å›¾ç‰‡çš„å®½åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width
&lt;span class=&quot;token comment&quot;&gt;// è·å–å›¾ç‰‡çš„é«˜åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height
&lt;span class=&quot;token comment&quot;&gt;// æŒ‡å®šç›®æ ‡canvasåŒºåŸŸçš„å®½åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; targetWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; canvasWidth
&lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—å‡ºç›®æ ‡canvasåŒºåŸŸçš„é«˜åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; targetHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgHeight &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; targetWidth&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; imgWidth
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`canvas.width = &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;canvasWidth&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`canvas.height = &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;canvasHeight&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/246d7fddb814354be2075d7b277ea3f2/d02d5/getImageData1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 35.22561863173217%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABKElEQVQY012QyU7DMBCG8/43kOCKkDhwLE/AdmmFqNgplCap6tZJ3HiJE4+dxjZOuJR+8mH+8Sy/HY0/2fVbU8kaRAWKaQWo5B/53FR127bW2vUAISRJEpxl6SZ/mv2sc4JWq2g0qe5j/zga29G5T4/Tr5uTsbu6PLIXZ7Drm/FAQQrGuJRSyIYJSRnnjEWLdT1JfPm93D0/eH6XLuent93sdWpfptq03nsFgPrdmzwvioJUogpJ51yYGwGA30O3DnMbgq7rjDEhCOYpY5QzIUSjVDi7gVAQyfBaMKBAK6VBGQ1dqyHooahf4h1eYZSgbUmyAYRQHMfhCyL/H9db2pO2F/W2we94saBlqbquDUODnWD5sPlwVsA7A6YmklOglGUZ1lr/3f4Cy+iJlCTBEkEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/246d7fddb814354be2075d7b277ea3f2/cc182/getImageData1.webp 148w,
/static/246d7fddb814354be2075d7b277ea3f2/f7e40/getImageData1.webp 295w,
/static/246d7fddb814354be2075d7b277ea3f2/1a2f4/getImageData1.webp 590w,
/static/246d7fddb814354be2075d7b277ea3f2/4837b/getImageData1.webp 885w,
/static/246d7fddb814354be2075d7b277ea3f2/2f819/getImageData1.webp 1180w,
/static/246d7fddb814354be2075d7b277ea3f2/d3d11/getImageData1.webp 1374w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/246d7fddb814354be2075d7b277ea3f2/cf440/getImageData1.png 148w,
/static/246d7fddb814354be2075d7b277ea3f2/d2d38/getImageData1.png 295w,
/static/246d7fddb814354be2075d7b277ea3f2/b9e4f/getImageData1.png 590w,
/static/246d7fddb814354be2075d7b277ea3f2/f9b6a/getImageData1.png 885w,
/static/246d7fddb814354be2075d7b277ea3f2/2d849/getImageData1.png 1180w,
/static/246d7fddb814354be2075d7b277ea3f2/d02d5/getImageData1.png 1374w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/246d7fddb814354be2075d7b277ea3f2/b9e4f/getImageData1.png&quot;
          alt=&quot;getImageData1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„ canvas é»˜è®¤å®½é«˜æ˜¯ 300*150ï¼Œé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;ctx.getImageData&lt;/code&gt;è·å–æ•´ä¸ª canvas åŒºåŸŸçš„åƒç´ æ•°æ®å€¼ï¼Œå¾—åˆ°çš„&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt;çš„è®¾å¤‡åƒç´ çš„å®½é«˜ä¹Ÿæ˜¯ 300*150 ï¼Œ&lt;code class=&quot;language-text&quot;&gt;Imagedata.data&lt;/code&gt; çš„æ•°ç»„çš„é•¿åº¦æ˜¯ 180000ï¼Œè¿™ä¸ªæ˜¯å› ä¸ºï¼Œè¿™ä¸ª imgData çš„åƒç´ æ•°æ˜¯ 300*150ï¼Œè€Œæ¯ä¸ªåƒç´ æ˜¯ç”± 4 ä¸ªåˆ†é‡è¡¨ç¤ºçš„ï¼Œæ‰€ä»¥&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;300&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mn&gt;150&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;180000&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;300*150*4 = 180000&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;getImageData&lt;/code&gt;å¾—åˆ° canvas æŸä¸€ä¸ªçŸ©å½¢åŒºåŸŸçš„åƒç´ æ•°æ®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¹å˜è¿™ä¸ª&lt;code class=&quot;language-text&quot;&gt;imageData.data&lt;/code&gt;æ•°ç»„é‡Œçš„é¢œè‰²åˆ†é‡å€¼ï¼Œå†å°†æ”¹å˜åçš„&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt;é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;putImageData&lt;/code&gt;æ–¹æ³•ç»˜åˆ¶åˆ° canvas ä¸Šã€‚&lt;code class=&quot;language-text&quot;&gt;putImageData&lt;/code&gt;çš„ç”¨æ³•æœ‰ 2 ç§è°ƒç”¨å½¢å¼ï¼Œå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ctx.putImageData(imgData,dx,dy)&lt;/code&gt;ï¼Œè¿™ç§æ–¹å¼ï¼Œå°† imgData ç»˜åˆ¶åˆ° canvas åŒºåŸŸ(dx,dy)åæ ‡å¤„ï¼Œç»˜åˆ¶åˆ° canvas çš„åŒºåŸŸçš„çŸ©å½¢å¤§å°å°±æ˜¯ imgData çš„çŸ©å½¢çš„å¤§å°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ctx.putImageData(imgData,dx,dy,dirtyX,dirtyY,dirtyW,dirtyH)&lt;/code&gt;ï¼Œä¸ä»…æŒ‡å®šäº† canvas åŒºåŸŸ(dx,dy)ï¼Œä¹ŸæŒ‡å®šäº† imgData è„æ•°æ®åŒºåŸŸçš„(dirtyX,dirtyY)å’Œå®½é«˜ dirtyWï¼ŒdirtyHã€‚è¿™ç§å½¢å¼ï¼Œå¯ä»¥åªå°† imgData ç§æŸä¸€å—åŒºåŸŸç»˜åˆ¶åˆ° canvas ä¸Šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; canvasWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; canvas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; canvasHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; canvas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; img &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;img&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./learn9/google.png&quot;&lt;/span&gt;
img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;load&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è·å–å›¾ç‰‡çš„å®½åº¦&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width
    &lt;span class=&quot;token comment&quot;&gt;// è·å–å›¾ç‰‡çš„é«˜åº¦&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; img&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;height
    &lt;span class=&quot;token comment&quot;&gt;// æŒ‡å®šç›®æ ‡canvasåŒºåŸŸçš„å®½åº¦&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; targetWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; canvasWidth
    &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—å‡ºç›®æ ‡canvasåŒºåŸŸçš„é«˜åº¦&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; targetHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgHeight &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; targetWidth&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; imgWidth
    ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;drawImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;img&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; targetHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// æ“ä½œImageDataåƒç´ æ•°æ®&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;oprImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;r&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// å°†é€æ˜çš„é»‘è‰²åƒç´ å€¼æ”¹å˜ä¸ºä¸é€æ˜&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;r&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;r&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å°†imgDataç»˜åˆ¶åˆ°canvasçš„ä¸­å¿ƒã€‚è¶…å‡ºcanvasåŒºåŸŸå°†è¢«è‡ªåŠ¨å¿½ç•¥&lt;/span&gt;
    ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;putImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasWidth &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasHeight &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// éå†åƒç´ æ•°æ®&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;oprImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;imgData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; oprFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; imgData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; l &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pixel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;oprFunction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pixel&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pixel&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pixel&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pixel&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/04688a589c6c7c1782233aeb815be937/83cbb/putImageData1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.547770700636946%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAACXklEQVQoz2N48ertkn0v5+x4cfXem48f3r198+bt69dv37599+7tu7evQOjduzdv3716DeS+v/LoxpOXT9+/efvm9es3b94w1K76tvjwt81nfmw9//3//79///779///v3//gKy/QD5UCIj//P//v+/s/Euvb/4Hg9evXzMsOvwLyHrz+d/jN3+//v3/49DejxM6fl27/v//lz+3Gv7c6/n//8epu3+n7Pq6/ez/7rNLrz25+GfNqm+b1rx5/oxh6/nfQM0bT30vXft/wewzf3vrfty8/r6h8dfJlF8v1v57MOH+qZaadf+vP/laueh7xYk1Z3qLPzfUvC7LfXZoP0PRku8XHv5+//l3847/x9Ye+91b/+fLp/fVtT8PBvz9fP7/161PzpZ1bAOa/3Pqrv8tt3benVr5v6vt/+1rHx8/Yrj1/F/35u/N674duApy/9dN6z40Vnw7cfL//0+nljpNLJQ6dOlZ/cb/1lk77KKmBlWltTaXTnd16jTV27JwHsN/bOD3b5Bf2jt7JdxmKXt0KFimqtplMIAAIxCzsLAAyfj4eJDmP3/+//n7/+8/sD4Q58+f38Cw/bv+xCcl1wYmBgZeYQUBKT1GbmF/Bem5tqbWYuKcbAzLp+aANP/DAL//AE36veXqf1HDeKBmNfs87YQNySnTV5lr2MlIrrC0WVoism91HlQzhrNBsTpl3nqV0GXCSjYsHAKKwTODHROmq0tysjDP0zVYW8K1ZFoywxts4OXLlz9+/po7a1p4ak390qc1i54WdGxyc3fZVJj7or58dnpmaqLHq8uzAURV3kPk2hh9AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/04688a589c6c7c1782233aeb815be937/cc182/putImageData1.webp 148w,
/static/04688a589c6c7c1782233aeb815be937/f7e40/putImageData1.webp 295w,
/static/04688a589c6c7c1782233aeb815be937/1a2f4/putImageData1.webp 590w,
/static/04688a589c6c7c1782233aeb815be937/939a5/putImageData1.webp 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/04688a589c6c7c1782233aeb815be937/cf440/putImageData1.png 148w,
/static/04688a589c6c7c1782233aeb815be937/d2d38/putImageData1.png 295w,
/static/04688a589c6c7c1782233aeb815be937/b9e4f/putImageData1.png 590w,
/static/04688a589c6c7c1782233aeb815be937/83cbb/putImageData1.png 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/04688a589c6c7c1782233aeb815be937/b9e4f/putImageData1.png&quot;
          alt=&quot;putImageData1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ï¼Œæˆ‘ä»¬éå†äº†&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt;ä¸­ data æ•°ç»„ï¼Œå¹¶å°†é€æ˜åº¦ä¸º 0 çš„åƒç´ å€¼çš„é€æ˜åº¦å˜ä¸º 1ï¼ˆ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;255&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;/&lt;/mi&gt;&lt;mn&gt;255&lt;/mn&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;255/255=1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:1em;vertical-align:-0.25em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼‰ã€‚åœ¨éå†åƒç´ æ•°ç»„æ—¶ï¼Œæˆ‘ä»¬æ¯ä¾¿åˆ©ä¸€æ¬¡ï¼Œ&lt;code class=&quot;language-text&quot;&gt;i&lt;/code&gt; çš„å€¼åŠ  4ï¼Œè¿™ä¸ªæ˜¯å› ä¸ºä¸€ä¸ªåƒç´ å€¼æ˜¯ç”¨ 4 ä¸ªæ•°ç»„å•å…ƒå€¼è¡¨ç¤ºçš„ï¼Œåˆ†åˆ«ä¸º Rï¼ŒGï¼ŒBï¼ŒAï¼Œæˆ‘ä»¬å¯ä»¥åªæ”¹å˜æŸä¸€ä¸ªåƒç´ å€¼çš„æŸä¸€ä¸ªåˆ†é‡å€¼ï¼Œä¾‹å¦‚é€æ˜åº¦ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;putImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasWidth &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasHeight &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;79&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;27&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f61f220565cc8d80911f64b684df3dbb/83cbb/putImageData2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.22929936305732%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAB4klEQVQoz4VSS2sTURQeBF24FFyIP8O9/8A/4aYrF1XELOKDCq1JDamL1CJJECXWRKuYFFTy0NgGrLRjNW1RY6UNtjPamfuYzCtz597TO1MVV/px7j33O/d8cM7hKK5Nd3Qj//Jnek5vqIZFMEIYW1bkpJEBxgQhRAi2Lbq7p3W+vrMIlQmmaSomQuPPvPnVsKfD8jcOEpyD58EBhAuCSR+EAgTs2HpaLUThoR8EgVJfMW7WHMmXesH8+2Bty/dLeTxxxWu0BGmy7ghsJhHBufowU2PZen964x6rVfG1S/RpRVG/mFcfRWKDslQD7mQX4Pa4LIAkRtnimZAPQUuVnxQfq7CHxfk5Lfc6NRg5OygVredVxbVxddm/UfVmO8NckyGduNMZa+aW/WCWa0X2OQG90a3+Zr4tCk12sbx9f6PkTGVwdsJeaClyKCC4Rni3z7yhiFq2aPBpTbCoVU5XgenIgbttb7LmPXwbyFgYcvi+7ZuGgjFmIf81HRFZfP6Q6MVC8Wo9qK/D4pJKO+0fb1qdFVV+RGLOOfyWxMl/Ex5zEGEo74/ZyXMnjl04ebx5OSG5LBsdiP8NHpfnzkydOnzo9NEju+nrvhRTSuMd+A/kwji+/6JS7o4lP4wlK8WC5Tj7o5IHzJcYGRcAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/f61f220565cc8d80911f64b684df3dbb/cc182/putImageData2.webp 148w,
/static/f61f220565cc8d80911f64b684df3dbb/f7e40/putImageData2.webp 295w,
/static/f61f220565cc8d80911f64b684df3dbb/1a2f4/putImageData2.webp 590w,
/static/f61f220565cc8d80911f64b684df3dbb/939a5/putImageData2.webp 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/f61f220565cc8d80911f64b684df3dbb/cf440/putImageData2.png 148w,
/static/f61f220565cc8d80911f64b684df3dbb/d2d38/putImageData2.png 295w,
/static/f61f220565cc8d80911f64b684df3dbb/b9e4f/putImageData2.png 590w,
/static/f61f220565cc8d80911f64b684df3dbb/83cbb/putImageData2.png 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/f61f220565cc8d80911f64b684df3dbb/b9e4f/putImageData2.png&quot;
          alt=&quot;putImageData2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é€šè¿‡æŒ‡å®šäº†&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt;ä¸­è„æ•°æ®åŒºåŸŸï¼Œåªç»˜åˆ¶äº†çº¢è‰²å­—æ¯ oï¼Œå…¶ä»–éƒ¨åˆ†å¿½ç•¥ã€‚ä¸Šé¢åœ¨è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;putImageData&lt;/code&gt;ä¹‹å‰ï¼Œæˆ‘ä»¬é€šè¿‡éå†åƒç´ æ•°æ®æ”¹å˜äº†éƒ¨åˆ†åƒç´ å€¼çš„é€æ˜åº¦ï¼Œè¿™ç§å¯ä»¥æ“ä½œåƒç´ å€¼çš„æ–¹å¼ï¼Œåœ¨å›¾åƒå¤„ç†ç­‰é¢†åŸŸæ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä¾‹å¦‚å¸¸è§çš„å›¾åƒç°åº¦å’Œåç›¸é¢œè‰²ç­‰ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// æ“ä½œImageDataåƒç´ æ•°æ®&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ¸…é™¤canvas&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clearRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;oprImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;r&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// åç›¸é¢œè‰²&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; r&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; g&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;putImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fd1c081adcbce3a92c4c154b7ce6245b/24a49/putImageData3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.6813880126183%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAB2UlEQVQoz5VSz2sTQRTeP8yTdyNYLyoUEekt4CGtqCdBKEo9SKEITTCYGMQSWkk8Fa22pbVpU7Vpkq5ubHezidmfszu1ZrPzyzcb/wD7MW947837HjPfGwXhYU/b12ply9QQCjzPc8A8H+C6vu34CTzPtT1I/LI9C9I+1CCElJ/rC19eXFWrD9orGUJGnAsA55xSKgSDxRgF40we9Kuqu2OKBD6Q69lLnMYQkAgDyx6RrGE18B/IVD+z7DsaU0HObHMrF/Q+mm/qp7uDjeHZewcHYag0l9JQZ+7kG6XJw7eZdKtX0K0ZTXtU+X3nGZstkennRK9MGVv5/Vcpc6FQXtVvq52J2lFBPVbqi6nQqMkrbc5vLt+91bbBf9o/ufDErXwQg0Bczjjt4hVI/vj0cDCfn1tRJw6/r9qoMbAVdFL7Vrh2ULzRLKdFfPrS9K7vHT3uGF2HTc7GqfvR2oEIW69by9N7uYt6cclo4nsdfaapbxh9hYEwnDMyTISSW/RPHUGoiEagmehu547X5hqlm1HYhzCmdCQEhjdTQgSXFZwlXZIOjEs+l0vKP0R6d3sR974mZSC97I2CQCGE8P/AeDxjH+jgB0BO5nk+jHtJMnyf8JwAGsbYsqy/v0RJyVNb3IkAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/fd1c081adcbce3a92c4c154b7ce6245b/cc182/putImageData3.webp 148w,
/static/fd1c081adcbce3a92c4c154b7ce6245b/f7e40/putImageData3.webp 295w,
/static/fd1c081adcbce3a92c4c154b7ce6245b/1a2f4/putImageData3.webp 590w,
/static/fd1c081adcbce3a92c4c154b7ce6245b/ab069/putImageData3.webp 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/fd1c081adcbce3a92c4c154b7ce6245b/cf440/putImageData3.png 148w,
/static/fd1c081adcbce3a92c4c154b7ce6245b/d2d38/putImageData3.png 295w,
/static/fd1c081adcbce3a92c4c154b7ce6245b/b9e4f/putImageData3.png 590w,
/static/fd1c081adcbce3a92c4c154b7ce6245b/24a49/putImageData3.png 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/fd1c081adcbce3a92c4c154b7ce6245b/b9e4f/putImageData3.png&quot;
          alt=&quot;putImageData3&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å°†é¢œè‰²åˆ†é‡çš„ RGB å€¼éƒ½ç”¨ 255 å‡å»åŸé¢œè‰²åˆ†é‡å€¼ï¼Œå¯ä»¥çœ‹åˆ°ï¼ŒGoogle æ¯ä¸ªå­—æ¯çš„é¢œè‰²éƒ½ä¸åŸå›¾ç‰‡çš„é¢œè‰²ä¸ä¸€æ ·äº†ã€‚è¿™ä¸ªåœ¨æ”¹å˜æ¯ä¸ªé¢œè‰²åˆ†é‡çš„å€¼ï¼Œç”¨ä¸é€šçš„é€»è¾‘è®¡ç®—ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸åŒçš„å¤„ç†åçš„å›¾ç‰‡ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// æ“ä½œImageDataåƒç´ æ•°æ®&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; imgData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ¸…é™¤canvas&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clearRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasWidth&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; canvasHeight&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;oprImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;r&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; g&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; avg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; g &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ç°åº¦&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;avg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; avg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; avg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;putImageData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgData&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/07d27fe6d857c545d1aa9076e542db60/f84ea/putImageData4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.84810126582279%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABWklEQVQoz5WSzYuCUBTF/f/XuQpaaWghfWGBRREFLSKpsFYRQSgVZVkQ9DHO/PQyzrY5i8fxvXPuue8+lSiKNpvNbDYLguB8PodheDweT6cThBUephCy2+0Oh4N8IlYmk0mtVhsMBr1e7/V6faeI4/j9fgv/+gXccRz0sp+YK5WKHDweD9bb7UYh3/fhdLRYLCh0v9/n8zlp9Xp9Op1ut9vlcnm5XJR2u43O87xWq9Xtdg3DGI1GpmkOh0OqjMdjCE1hRlAsFkulEhpVVfv9fpLMTfBz3Gw2NU2DQwqFAslkWpZl2zabruvqup7L5TgibL1eK8zJTtHpdOif2Hw+Twj9c0P6RLBarQhnNNVqlYxGo1Eul/ErMhgZFddjfT6fQqgl+xjoXyqKGNf1ek3MmTROIVUy8IkOP4+UDR+SDIwy8QfInhD8mbP3/BxSKzHzu0T/BDYust/vfwDx1k/6kJDJrQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/07d27fe6d857c545d1aa9076e542db60/cc182/putImageData4.webp 148w,
/static/07d27fe6d857c545d1aa9076e542db60/f7e40/putImageData4.webp 295w,
/static/07d27fe6d857c545d1aa9076e542db60/1a2f4/putImageData4.webp 590w,
/static/07d27fe6d857c545d1aa9076e542db60/f206f/putImageData4.webp 632w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/07d27fe6d857c545d1aa9076e542db60/cf440/putImageData4.png 148w,
/static/07d27fe6d857c545d1aa9076e542db60/d2d38/putImageData4.png 295w,
/static/07d27fe6d857c545d1aa9076e542db60/b9e4f/putImageData4.png 590w,
/static/07d27fe6d857c545d1aa9076e542db60/f84ea/putImageData4.png 632w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/07d27fe6d857c545d1aa9076e542db60/b9e4f/putImageData4.png&quot;
          alt=&quot;putImageData4&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡å– RGB çš„å¹³å‡å€¼ï¼ŒåŸå›¾ç‰‡çš„æ¯ä¸ªå­—æ¯éƒ½æ˜¯ç°è‰²çš„äº†ï¼Œå½“ç„¶ï¼Œåœ¨è®¡ç®—çš„æ—¶å€™ï¼Œå¯ä»¥ç»™æ¯ä¸ªåˆ†é‡åŠ ä¸€ä¸ªç³»æ•°ï¼Œä¾‹å¦‚å…¬å¼&lt;code class=&quot;language-text&quot;&gt;let avg = 0.299r + 0.587g + 0.114b&lt;/code&gt;ï¼Œå…·ä½“åº”ç”¨å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://en.wikipedia.org/wiki/Grayscale&quot;&gt;Grayscale&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæ¥çœ‹çœ‹&lt;code class=&quot;language-text&quot;&gt;createImageData&lt;/code&gt;ï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£äº†ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt; å¯¹è±¡äº†ï¼Œæœ‰ä¸¤ç§å½¢å¼ï¼Œå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ctx.createImageData(width,height)&lt;/code&gt;ï¼Œå¯ä»¥æŒ‡å®šå®½é«˜ï¼Œåˆ›å»ºä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt;å¯¹è±¡ï¼Œ&lt;code class=&quot;language-text&quot;&gt;ImageData.data&lt;/code&gt;ä¸­çš„åƒç´ å€¼éƒ½æ˜¯ä¸€ä¸ªé€æ˜çš„é»‘è‰²ï¼Œä¹Ÿå°±æ˜¯ï¼ˆ0ï¼Œ0ï¼Œ0ï¼Œ0ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ctx.createImageData(imgData)&lt;/code&gt;ï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªå·²ç»å­˜åœ¨çš„&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt; å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt;å¯¹è±¡ï¼Œæ–°åˆ›å»ºçš„&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt;å¯¹è±¡çš„å®½é«˜ä¸å‚æ•°ä¸­çš„&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt; çš„å®½é«˜ä¸€æ ·ï¼Œä½†æ˜¯åƒç´ å€¼å°±ä¸ä¸€æ ·äº†ï¼Œæ–°åˆ›å»ºå‡ºæ¥çš„&lt;code class=&quot;language-text&quot;&gt;ImageData&lt;/code&gt;çš„åƒç´ å€¼éƒ½æ˜¯é€æ˜çš„é»‘è‰²ï¼Œä¹Ÿå°±æ˜¯ï¼ˆ0ï¼Œ0ï¼Œ0ï¼Œ0ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          æ–‡æœ¬
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨ canvas ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥ç»˜åˆ¶å›¾å½¢ï¼Œå›¾ç‰‡ï¼Œè¿˜å¯ä»¥ç»˜åˆ¶æ–‡æœ¬ã€‚ç»˜åˆ¶æ–‡æœ¬æ¯”è¾ƒç®€å•äº†ï¼Œå…ˆè®¾ç½®å½“å‰ ctx çš„ç”»ç¬”çš„æ–‡æœ¬æ ·å¼ï¼Œä¾‹å¦‚ï¼Œå­—ä½“å¤§å°ï¼Œå­—ä½“æ ·å¼ï¼Œå¯¹å…¶æ–¹å¼ç­‰ï¼Œè·Ÿ css ä¸­æ¯”è¾ƒç›¸ä¼¼ã€‚&lt;/p&gt;
&lt;p&gt;è·Ÿæ–‡æœ¬ç›¸å…³çš„æ–¹æ³•æœ‰ä¸‰ä¸ªï¼Œå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;strokeText(text,x,y,maxWidth?)&lt;/code&gt;ï¼Œç”¨æè¾¹çš„å½¢å¼ç»˜åˆ¶æŒ‡å®šçš„æ–‡æœ¬ textï¼Œå…¶ä¸­ä¹ŸæŒ‡å®šäº†ç»˜åˆ¶çš„åæ ‡ï¼ˆxï¼Œyï¼‰, è¿˜æœ‰æœ€åä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œæœ€å¤§çš„å®½åº¦ï¼Œå¦‚æœæ‰€ç»˜åˆ¶çš„æ–‡æœ¬è¶…è¿‡äº†æŒ‡å®šçš„&lt;code class=&quot;language-text&quot;&gt;maxWidth&lt;/code&gt;ï¼Œåˆ™æ–‡æœ¬ä¼šæŒ‰ç…§æœ€å¤§çš„å®½åº¦æ¥ç»˜åˆ¶ï¼Œé‚£ä¹ˆæ–‡å­—ä¹‹é—´çš„é—´è·å°±å°†å‡å°‘ï¼Œæ–‡å­—å¯èƒ½è¢«å‹ç¼©ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fillText(text,x,y,maxWidth?)&lt;/code&gt;ï¼ŒåŒ&lt;code class=&quot;language-text&quot;&gt;strokeText&lt;/code&gt;ä¸€æ ·ï¼Œåªä¸è¿‡ï¼Œæ˜¯ç”¨å¡«å……çš„å½¢å¼ç»˜åˆ¶æ–‡æœ¬ï¼Œå…¶å‚æ•°å«ä¹‰ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;measureText(text)&lt;/code&gt;ï¼Œåœ¨å½“å‰çš„æ–‡å­—æ ·å¼ä¸‹ï¼Œæµ‹é‡ç»˜åˆ¶æ–‡æœ¬ text ä¼šå æ®çš„å®½åº¦å€¼ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;width&lt;/code&gt;å±æ€§ã€‚ä¸»è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»å…ˆè®¾ç½®æ–‡æœ¬æ ·å¼ï¼Œå†æ¥æµ‹é‡æ‰æ˜¯å‡†ç¡®çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è·Ÿæ–‡æœ¬ç›´æ¥ç›¸å…³çš„å±æ€§è®¾ç½®ï¼Œå¦‚ä¸‹ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;font&lt;/code&gt;ï¼ŒåŒ css ä¸­å«ä¹‰ä¸€æ ·ï¼Œå¯ä»¥æŒ‡å®šæ–‡æœ¬çš„å­—ä½“å¤§å°ï¼Œå­—ä½“é›†ï¼Œå­—ä½“æ ·å¼ç­‰ã€‚ä½†åœ¨ canvas ä¸­ï¼Œ&lt;code class=&quot;language-text&quot;&gt;line-height&lt;/code&gt;è¢«å¼ºåˆ¶è®¾ç½®ä¸º&lt;code class=&quot;language-text&quot;&gt;normal&lt;/code&gt;ï¼Œä¼šå¿½ç•¥å…¶ä»–è®¾ç½®çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;textAlign&lt;/code&gt;ï¼Œè®¾ç½®æ–‡æœ¬çš„æ°´å¹³å¯¹å…¶æ–¹å¼ï¼Œå¯é€‰å€¼æœ‰ï¼š&lt;code class=&quot;language-text&quot;&gt;left&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;right&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;center&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;start&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;end&lt;/code&gt;ã€‚é»˜è®¤å€¼æ˜¯&lt;code class=&quot;language-text&quot;&gt;start&lt;/code&gt;ã€‚å„ä¸ªå«ä¹‰å‚è§&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/textAlign&quot;&gt;textAlign å–å€¼&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;textBaseline&lt;/code&gt;ï¼Œè®¾ç½®æ–‡æœ¬çš„å‚ç›´å¯¹é½æ–¹å¼ï¼Œå¯é€‰å€¼æœ‰ï¼š&lt;code class=&quot;language-text&quot;&gt;top&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;hanging&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;middle&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;alphabetic&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;ideographic&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;bottom&lt;/code&gt;ã€‚é»˜è®¤å€¼æ˜¯&lt;code class=&quot;language-text&quot;&gt;alphabetic&lt;/code&gt;ã€‚å„ä¸ªå«ä¹‰å‚è§&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/textBaseline&quot;&gt;textBaseline å–å€¼&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ç„¶äº†ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„å±æ€§ä¹Ÿä¼šå½±å“åˆ°æ–‡æœ¬æœ€ç»ˆç»˜åˆ¶å‡ºæ¥çš„æ•ˆæœï¼Œæ¯”å¦‚ç»™å½“å‰ ctx æ·»åŠ é˜´å½±æ•ˆæœï¼Œæˆ–è€…è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;fillStyle&lt;/code&gt;çš„æ ·å¼å¯ä»¥æ˜¯å›¾ç‰‡æˆ–è€…æ¸å˜ç­‰ã€‚è¿™äº›ç®—æ˜¯å…¨å±€çš„å±æ€§è®¾ç½®ï¼Œä¼šå½±å“åˆ° canvas æ‰€æœ‰å…¶ä»–çš„ç»˜åˆ¶ï¼Œè€Œä¸ä»…ä»…æ˜¯æ–‡æœ¬ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œï¼Œå°±ä¸è¯¦ç»†è®¨è®ºäº†ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// textAlignçš„å–å€¼&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; textAligns &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;left&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;right&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;end&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æè¾¹é¢œè‰²&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; colors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;orange&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blueviolet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®font&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;font &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;18px sans-serif&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; textAlign&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; textAligns&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®textAlign&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; textAlign
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹é¢œè‰²&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; colors&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨æè¾¹ç»˜åˆ¶æ–‡æœ¬&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;textAlign&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;restore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ba932f4b6cf10dceb4fd14b7a4b3b775/77dff/strokeText1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.41157556270096%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAxUlEQVQoz5WSawuCMBiF/f+/LIIyS/FCqSGmuauKlNNtTT9INSs7XwbnvA97d5iBEIIQEk0YE4QJiCIc+GRuQFGGOjjnUpcQQsredaS5kYxpifLYOzz6KhBp3h9jVjXdNL0UbpnYOWK7503TT+ZveMjkkNX3OkK+lx1ORdDz7j+4vFErMe3Mc2E418YH+KUw5MvriiNH/AePL21RwPM1r86L1x5vwXF3sdoasm+FAQDUP6HPIrQsaRrC2C6ypKAlVqKaFPUA2k9EEhx7Z+MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ba932f4b6cf10dceb4fd14b7a4b3b775/cc182/strokeText1.webp 148w,
/static/ba932f4b6cf10dceb4fd14b7a4b3b775/f7e40/strokeText1.webp 295w,
/static/ba932f4b6cf10dceb4fd14b7a4b3b775/1a2f4/strokeText1.webp 590w,
/static/ba932f4b6cf10dceb4fd14b7a4b3b775/bc6b6/strokeText1.webp 622w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ba932f4b6cf10dceb4fd14b7a4b3b775/cf440/strokeText1.png 148w,
/static/ba932f4b6cf10dceb4fd14b7a4b3b775/d2d38/strokeText1.png 295w,
/static/ba932f4b6cf10dceb4fd14b7a4b3b775/b9e4f/strokeText1.png 590w,
/static/ba932f4b6cf10dceb4fd14b7a4b3b775/77dff/strokeText1.png 622w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ba932f4b6cf10dceb4fd14b7a4b3b775/b9e4f/strokeText1.png&quot;
          alt=&quot;strokeText1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æŠŠ&lt;code class=&quot;language-text&quot;&gt;textAlign&lt;/code&gt;çš„å„ä¸ªå±æ€§å…¨éƒ½è®¾ç½®äº†ä¸€éï¼Œçœ‹åˆ°&lt;code class=&quot;language-text&quot;&gt;start&lt;/code&gt;ä¸&lt;code class=&quot;language-text&quot;&gt;left&lt;/code&gt;çš„æ•ˆæœä¸€æ ·ï¼Œ&lt;code class=&quot;language-text&quot;&gt;end&lt;/code&gt;ä¸&lt;code class=&quot;language-text&quot;&gt;right&lt;/code&gt;çš„æ•ˆæœä¸€æ ·ï¼Œè¿™ä¸ªæ˜¯å› ä¸º&lt;code class=&quot;language-text&quot;&gt;start&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;end&lt;/code&gt;æ˜¯ä¸å½“å‰æœ¬åœ°æ–‡å­—å¼€å§‹æ–¹å‘æœ‰å…³çš„ï¼Œå¦‚æœæ˜¯å·¦åˆ°å³å¼€å§‹ï¼Œé‚£ä¹ˆ&lt;code class=&quot;language-text&quot;&gt;start&lt;/code&gt;ä¸&lt;code class=&quot;language-text&quot;&gt;left&lt;/code&gt;ä¸€æ ·ï¼Œè€Œå¦‚æœæ˜¯å³åˆ°å·¦å¼€å§‹ï¼Œé‚£ä¹ˆ&lt;code class=&quot;language-text&quot;&gt;start&lt;/code&gt;æ˜¯ä¸&lt;code class=&quot;language-text&quot;&gt;right&lt;/code&gt;æ•ˆæœä¸€æ ·äº†ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; textBaselines &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;top&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;hanging&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;middle&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;alphabetic&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;ideographic&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;bottom&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æè¾¹é¢œè‰²&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; colors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;orange&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blueviolet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;cyan&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®font&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;font &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;18px sans-serif&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; textBaseline&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; textBaselines&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®textBaseline&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textBaseline &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; textBaseline
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹é¢œè‰²&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; colors&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ä½¿ç”¨æè¾¹ç»˜åˆ¶æ–‡æœ¬&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;strokeText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;abj&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; index &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;restore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/652d20cabbb8a6363f7a37ca6c47a693/24a49/strokeText2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.05047318611987%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAA2klEQVQoz62Sy04DMQxF8//fwifQFSxgVSEWIFXlJRCCmfEkTttJ4xfOsKQsBnEjRYniYyfXCSmlYRjG5eq6LgCAiNgSqarPiBg8x0/Yj8VHC2rLk3DOeYaZbd7P068qKHVqiaIqOtwqAxCzUyxNzGJqecLbt5tc9lYPtDljuPeI7eXu/W4ykxXRyuGUAiAet5u6XpvWp1c6vyilaDzA9eMV7MCYaHzg/cD+DPEqs4j8kjHGMCaUzw97eTaVY7WYlOVfDLNvD9RMTxvWWuWG/a1V/kmcj8vV9/0XrihEt8OUqrQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/652d20cabbb8a6363f7a37ca6c47a693/cc182/strokeText2.webp 148w,
/static/652d20cabbb8a6363f7a37ca6c47a693/f7e40/strokeText2.webp 295w,
/static/652d20cabbb8a6363f7a37ca6c47a693/1a2f4/strokeText2.webp 590w,
/static/652d20cabbb8a6363f7a37ca6c47a693/ab069/strokeText2.webp 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/652d20cabbb8a6363f7a37ca6c47a693/cf440/strokeText2.png 148w,
/static/652d20cabbb8a6363f7a37ca6c47a693/d2d38/strokeText2.png 295w,
/static/652d20cabbb8a6363f7a37ca6c47a693/b9e4f/strokeText2.png 590w,
/static/652d20cabbb8a6363f7a37ca6c47a693/24a49/strokeText2.png 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/652d20cabbb8a6363f7a37ca6c47a693/b9e4f/strokeText2.png&quot;
          alt=&quot;strokeText2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åˆæŠŠ&lt;code class=&quot;language-text&quot;&gt;textBaseline&lt;/code&gt;çš„å„ä¸ªå€¼å…¨è®¾ç½®äº†ä¸€éï¼Œçœ‹åˆ°çš„æ•ˆæœå¦‚ä¸Šå›¾ã€‚ç”¨åˆ°æœ€å¤šçš„åº”è¯¥æ˜¯&lt;code class=&quot;language-text&quot;&gt;top&lt;/code&gt;ï¼Œ &lt;code class=&quot;language-text&quot;&gt;middle&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;alphabetic&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;bottom&lt;/code&gt;äº†ï¼Œå…¶ä¸­é»˜è®¤å€¼æ˜¯&lt;code class=&quot;language-text&quot;&gt;alphabetic&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;measureText&lt;/code&gt;åœ¨å®é™…ä¸šåŠ¡ä¸­ä¹Ÿæ˜¯ç”¨åˆ°æ¯”è¾ƒå¤šçš„ä¸€ä¸ªæ–¹æ³•äº†ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥æµ‹é‡å‡ºåœ¨å½“å‰è®¾ç½®çš„æ–‡æœ¬æ ·å¼ä¸‹ï¼Œç»˜åˆ¶æŒ‡å®šçš„ text ä¼šå æ®çš„å®½åº¦ã€‚ç‰¹åˆ«æ˜¯åœ¨ç»˜åˆ¶è¡¨æ ¼æ•°æ®ï¼Œæˆ–è€…ä¸€äº›åˆ†æå›¾æ—¶ï¼Œéœ€è¦ç»˜åˆ¶è¯´æ˜æç¤ºæ€§æ–‡æœ¬ï¼Œä½†æ˜¯åˆæƒ³æ ¹æ®å½“å‰é¼ æ ‡ä½ç½®æ¥å†³å®šæ–‡æœ¬ç»˜åˆ¶çš„åæ ‡ï¼Œä»¥å…è¶…å‡º canvas å¯è§åŒºåŸŸã€‚è¿™ä¸ªæ–¹æ³•ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œä¼šè¿”å›ä¸€ä¸ªå¸¦æœ‰&lt;code class=&quot;language-text&quot;&gt;width&lt;/code&gt;å±æ€§çš„å¯¹è±¡ï¼Œè¿™ä¸ª&lt;code class=&quot;language-text&quot;&gt;width&lt;/code&gt;å±æ€§å€¼å°±æ˜¯æµ‹é‡å‡ºæ¥çš„ç»“æœã€‚åœ¨ canvas æ²¡æœ‰æµ‹é‡æ–‡æœ¬é«˜åº¦çš„æ–¹æ³•ï¼Œç„¶è€Œï¼Œåœ¨å®é™…æ—¶ï¼Œå¸¸å¸¸ä¼šä»¥&lt;strong&gt;W&lt;/strong&gt;å­—æ¯æµ‹é‡å‡ºæ¥çš„å®½åº¦å€¼åŠ ä¸Šä¸€ç‚¹ç‚¹ï¼Œå°±å¯ä»¥å¤§è‡´è®¤ä¸ºæ˜¯å½“å‰æ–‡æœ¬çš„é«˜åº¦å€¼äº†ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®fontï¼Œä¸€å®šå¾—å…ˆè®¾ç½®fontå±æ€§ï¼Œæ‰èƒ½æµ‹é‡å‡†ç¡®&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;font &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;18px sans-serif&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; textWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;measureText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;W&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; textHeight &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; textWidth &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; textWidth &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`å½“å‰æ–‡æœ¬Wçš„å®½åº¦ï¼š&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;textWidth&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`å½“å‰æ–‡æœ¬Wçš„é«˜åº¦ï¼š&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;textHeight&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯å­¦ä¹ äº† canvas ä¸­å¦‚ä½•ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;drawImage&lt;/code&gt;æ¥ç»˜åˆ¶å›¾ç‰‡ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;getImageData&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;putImageData&lt;/code&gt;æ¥å¯¹å›¾åƒåƒç´ å€¼åšå¤„ç†ï¼Œæ¯”å¦‚å¸¸è§çš„å›¾ç‰‡ç°åº¦å¤„ç†ï¼Œæˆ–è€…åç›¸é¢œè‰²ç­‰ã€‚ä¹Ÿå›é¡¾äº†åœ¨ canvas ä¸­ç»˜åˆ¶æ–‡æœ¬çš„ä¸€äº›ç›¸å…³æ–¹æ³•å’Œå±æ€§ï¼Œè¿™äº›çŸ¥è¯†åœ¨ css ä¸­æ¯”è¾ƒç±»ä¼¼ï¼Œç†è§£èµ·æ¥ä¹Ÿæ¯”è¾ƒå®¹æ˜“å’Œç®€å•ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[canvasæ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶å›¾å½¢]]></title><description><![CDATA[è¿™ç¯‡å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬äºŒç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼šcanvas æ ¸å¿ƒæŠ€æœ¯é€šè¿‡ä¸Šä¸€ç¯‡canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶çº¿æ®µçš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•å»ç»˜åˆ¶çº¿æ®µã€‚å¾ˆå¤šçš„çº¿æ®µçš„æ‹¼æ¥å°±ç»„æˆäº†å›¾å½¢äº†ï¼Œæ¯”å¦‚å¸¸è§çš„ä¸‰è§’å½¢ï¼ŒçŸ©å½¢ï¼Œåœ†å½¢ç­‰ã€‚å¸¸è§å›¾å½¢çš„ç»˜åˆ¶å¯ä»¥æŸ¥çœ‹æˆ‘çš„åœ¨çº¿ç¤ºä¾‹ï¼šcanvasâ€¦]]></description><link>https://snayan.github.io//post/how_to_draw_graphics/</link><guid isPermaLink="false">https://snayan.github.io//post/how_to_draw_graphics/</guid><pubDate>Wed, 18 Jul 2018 08:58:15 GMT</pubDate><content:encoded>&lt;p&gt;è¿™ç¯‡å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬äºŒç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼š&lt;a href=&quot;/post/core_html5_canvas/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸Šä¸€ç¯‡&lt;a href=&quot;/post/how_to_draw_line/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶çº¿æ®µ&lt;/a&gt;çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•å»ç»˜åˆ¶çº¿æ®µã€‚å¾ˆå¤šçš„çº¿æ®µçš„æ‹¼æ¥å°±ç»„æˆäº†å›¾å½¢äº†ï¼Œæ¯”å¦‚å¸¸è§çš„ä¸‰è§’å½¢ï¼ŒçŸ©å½¢ï¼Œåœ†å½¢ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§å›¾å½¢çš„ç»˜åˆ¶å¯ä»¥æŸ¥çœ‹æˆ‘çš„åœ¨çº¿ç¤ºä¾‹ï¼š&lt;a href=&quot;https://snayan.github.io/canvas-demo/?module=shape&quot;&gt;canvas shape&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹é¡¹ç›®ä»“åº“åœ°å€ï¼š&lt;a href=&quot;https://github.com/snayan/canvas-demo&quot;&gt;canvas demo&lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          å›¾å½¢
        &lt;/h3&gt;
      

        &lt;h4 id=&apos;toc-4-1&apos; &gt;
          ä¸‰è§’å½¢
        &lt;/h4&gt;
      
&lt;p&gt;å…ˆæ¥çœ‹çœ‹å¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢ã€‚ä¸‰è§’å½¢å°±æ˜¯ç”±ä¸‰æ¡è¾¹ç»„æˆï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºä¸‰ä¸ªçº¿æ®µç»„æˆã€‚ç¡®å®šäº†ä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹çš„åæ ‡ä½ç½®ï¼Œç„¶åç”¨çº¿è¿æ¥èµ·æ¥ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// é¡¶åº•1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// é¡¶ç‚¹2&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// é¡¶ç‚¹3&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹ä¸€æ®µæ–°è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç§»åŠ¨èµ·ç‚¹åˆ°é¡¶ç‚¹1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è¿æ¥é¡¶ç‚¹1ä¸é¡¶ç‚¹2&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è¿æ¥é¡¶ç‚¹2ä¸é¡¶ç‚¹3&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶æ–‡æœ¬æ°´å¹³å±…ä¸­&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶é¡¶ç‚¹1æ–‡æœ¬&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`(&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;)`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶é¡¶ç‚¹2æ–‡æœ¬&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`(&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;)`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶é¡¶ç‚¹3æ–‡æœ¬&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`(&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;)`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ece4fa813fd55b810afde1714df55de2/52699/triangle1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.66457680250783%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAwklEQVQoz42S2w6EIAxE+f+fVHkgBgXxgleEHbeJazZ13fNAoDLtlCqMMc2Fruv6vsdqrW2eEOu67hfKsiyKQmsdYwwh7ByIp5QOMe1OvPdVVU3TlO5BXqxt237EFBqGYVmW8/iXmM7jOKLb9ARTGRs80o+CjBgmt20jJR7v7jbxLZZSZlmmlKLZOOfgHJ3P84ykrBHGNkUhgBdqHp/xFyARJpfnOcqQNV58B6XD/DDkUwyPoq5ry2He0J7aAdcLsPMCZTuA9pfHBkoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ece4fa813fd55b810afde1714df55de2/cc182/triangle1.webp 148w,
/static/ece4fa813fd55b810afde1714df55de2/f7e40/triangle1.webp 295w,
/static/ece4fa813fd55b810afde1714df55de2/1a2f4/triangle1.webp 590w,
/static/ece4fa813fd55b810afde1714df55de2/e2250/triangle1.webp 638w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ece4fa813fd55b810afde1714df55de2/cf440/triangle1.png 148w,
/static/ece4fa813fd55b810afde1714df55de2/d2d38/triangle1.png 295w,
/static/ece4fa813fd55b810afde1714df55de2/b9e4f/triangle1.png 590w,
/static/ece4fa813fd55b810afde1714df55de2/52699/triangle1.png 638w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ece4fa813fd55b810afde1714df55de2/b9e4f/triangle1.png&quot;
          alt=&quot;triangle1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€æ¡è¾¹æ²¡æœ‰è¿æ¥èµ·æ¥ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åªæ˜¾ç¤ºçš„è¿æ¥äº† 2 ä¸ªé¡¶ç‚¹ã€‚è¦æƒ³æŠŠç¬¬ä¸‰æ¡è¾¹ä¹Ÿè¿æ¥èµ·æ¥ï¼Œæˆ‘ä»¬æœ‰ 2 ç§æ–¹å¼ã€‚ç¬¬ä¸€ç§æ–¹å¼æ˜¯ï¼Œæˆ‘ä»¬æ˜¾ç¤ºçš„è¿æ¥é¡¶ç‚¹ 3 ä¸é¡¶ç‚¹ 1&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ç¬¬ä¸€ç§æ–¹å¼ï¼Œæ˜¾ç¤ºçš„è¿æ¥é¡¶ç‚¹3äºé¡¶ç‚¹1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç¬¬äºŒç§æ–¹å¼æ˜¯ï¼Œæˆ‘ä»¬è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ctx.closePath()&lt;/code&gt;æ¥æŒ‰ canvas è‡ªåŠ¨å¸®æˆ‘ä»¬è¿æ¥æœªå…³é—­çš„è·¯å¾„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ç¬¬äºŒç§æ–¹å¼ï¼Œè°ƒç”¨ctx.closePath()&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;closePath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ— è®ºå“ªä¸€ç§éƒ½å¯ä»¥å®ç°æˆ‘ä»¬æƒ³è¦ä¸‰è§’å½¢ã€‚å…¶ä¸­ç¬¬äºŒç§æ–¹å¼ä¼šç”¨çš„æ¯”è¾ƒå¤šï¼Œå› ä¸ºå®ƒä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å…³é—­å½“å‰è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯ä½¿å½“å‰è·¯å¾„å½¢æˆä¸€ä¸ªé—­åˆçš„è·¯å¾„ï¼Œè¿™ä¸ªåœ¨å¡«å……æ—¶æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä¸‹é¢ä¼šè¯´çš„ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å¾—åˆ°ä¸‰è§’å½¢å›¾å½¢å¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a2a88acbbf274e8d25fe1c32880fd65a/8a209/triangle2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.51572327044025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAA1ElEQVQoz5WS5wqEMBCE8/4PKSIqKraz1+S+cyEG9Nr8EHeTmdkSled56eBxoK7r8geoZVl2B3Ec+76fJInWetu2/Q7kjTFVVSkC42AYBvjTNJn3QJcvBSqRsamu65qmQeIPssTjOJISib7vbf67Mz/MQB+QM7Ru+Sd5XVfaJobJ8NxLzPy2+ZMcBIHneVEUFUXBACG0bYsnQlzihi3tk7PsBiu65QAhasmyLE1T3gIeYRjO8wxNFoSNugpfQSGUwxSFJs4vsn1VLuoDNhQmsBnWSVFPCOh/1hUxM5AAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a2a88acbbf274e8d25fe1c32880fd65a/cc182/triangle2.webp 148w,
/static/a2a88acbbf274e8d25fe1c32880fd65a/f7e40/triangle2.webp 295w,
/static/a2a88acbbf274e8d25fe1c32880fd65a/1a2f4/triangle2.webp 590w,
/static/a2a88acbbf274e8d25fe1c32880fd65a/9fd29/triangle2.webp 636w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a2a88acbbf274e8d25fe1c32880fd65a/cf440/triangle2.png 148w,
/static/a2a88acbbf274e8d25fe1c32880fd65a/d2d38/triangle2.png 295w,
/static/a2a88acbbf274e8d25fe1c32880fd65a/b9e4f/triangle2.png 590w,
/static/a2a88acbbf274e8d25fe1c32880fd65a/8a209/triangle2.png 636w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/a2a88acbbf274e8d25fe1c32880fd65a/b9e4f/triangle2.png&quot;
          alt=&quot;triangle2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-2&apos; &gt;
          å››è¾¹å½¢
        &lt;/h4&gt;
      
&lt;p&gt;é€šè¿‡ä¸‰ä¸ªé¡¶ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢ï¼Œé‚£ä¹ˆé€šè¿‡å››ä¸ªç‚¹ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥ç»˜åˆ¶å‡ºå››è¾¹å½¢ï¼Œæˆ‘ä»¬ç…§ä¾‹æ¥é€šè¿‡å››ä¸ªç‚¹æ¥ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// p1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// p2&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// p3&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;110&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// p4&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point4 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;110&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹é¢œè‰²ä¸ºç»¿è‰²&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„ä¸€æ®µè·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç§»åŠ¨èµ·ç‚¹åˆ°p1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è¿æ¥p1ä¸p2&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è¿æ¥p2ä¸p4&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è¿æ¥p4ä¸p3&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å…³é—­å½“å‰è·¯å¾„ï¼Œéšå£«è¿æ¥p3ä¸p1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;closePath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶é¡¶ç‚¹&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;p1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;p2&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;p3&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;p4&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a3bb00e03814850b24db23214de366c5/857ee/rect.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.56410256410257%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAA2UlEQVQoz51Si46EIBDz/79zL2qiwiAvBwauym7Wi5eN2aYhzNCmvLppmpYDSimt9Qwsf4glIlougLBjZhEppcQY4a+1Fim11CdrhWAYBjkh54w+xB2KegAt552JtEZzJjltra0nIAkjtvM0t9ptzgSSIkkSyMK5ZGVnzD+ajy16dp79W3Q0jaeU75g3B17M+itzuZn8OjN5xZm3FMGYAqdtsXOW/L8Zl9yKEMLj52Hjiqg1mEaUalV93zdPQ8vDp3g/1X20sN2Mv2KMoRc06SvPgl2j9844jr9mmYH2RxBxawAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a3bb00e03814850b24db23214de366c5/cc182/rect.webp 148w,
/static/a3bb00e03814850b24db23214de366c5/f7e40/rect.webp 295w,
/static/a3bb00e03814850b24db23214de366c5/1a2f4/rect.webp 590w,
/static/a3bb00e03814850b24db23214de366c5/4481e/rect.webp 624w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a3bb00e03814850b24db23214de366c5/cf440/rect.png 148w,
/static/a3bb00e03814850b24db23214de366c5/d2d38/rect.png 295w,
/static/a3bb00e03814850b24db23214de366c5/b9e4f/rect.png 590w,
/static/a3bb00e03814850b24db23214de366c5/857ee/rect.png 624w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/a3bb00e03814850b24db23214de366c5/b9e4f/rect.png&quot;
          alt=&quot;rect&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œæˆ‘ä»¬çš„é¡ºåºæ˜¯ p1â€”&gt; p2â€”&gt; p4â€”&gt; P3ï¼Œç”±äºçŸ©å½¢æ˜¯ä¸€ç§ç‰¹æ®Šçš„å››è¾¹å½¢ï¼Œåœ¨ canvas ä¸­æä¾›äº†ä¸€ç§æ–¹æ³•å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªçŸ©å½¢ï¼Œå¦‚æœçŸ¥é“äº† p1 çš„åæ ‡å’ŒçŸ©å½¢çš„å®½åº¦å’Œé«˜åº¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç¡®å®šäº†å…¶ä»–ä¸‰ä¸ªç‚¹çš„åæ ‡ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å¿«é€Ÿåˆ›å»ºçŸ©å½¢&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨åˆ›å»ºçŸ©å½¢ï¼Œæˆ‘ä»¬æ€»æ˜¯ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;ctx.rect(left,top,width,height)&lt;/code&gt;ï¼Œä½†æ˜¯ç»˜åˆ¶éçŸ©å½¢çš„å››è¾¹å½¢ï¼Œè¿˜æ˜¯å¾—æŒ‰ç…§æ¯ä¸ªç‚¹å»è¿æ¥æˆçº¿æ®µæ¥ç»˜åˆ¶ã€‚&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-3&apos; &gt;
          åœ†ä¸åœ†å¼§
        &lt;/h4&gt;
      
&lt;p&gt;åœ†å½¢å¯ä»¥çœ‹ä½œæ˜¯æ— æ•°ä¸ªå¾ˆå°çš„çº¿æ®µè¿æ¥èµ·æ¥çš„ï¼Œä½†æ˜¯é€šè¿‡å»å®šé¡¶ç‚¹æ¥ç»˜åˆ¶åœ†å½¢ï¼Œæ˜¾ç„¶ä¸ç°å®ã€‚canvas ä¸­æä¾›äº†ä¸€ä¸ªä¸“é—¨ç»˜åˆ¶åœ†å½¢çš„æ–¹æ³•&lt;code class=&quot;language-text&quot;&gt;ctx.arc(left,top,radius,startAngle,endAngle,antiClockwise)&lt;/code&gt;ã€‚å„ä¸ªå‚æ•°çš„é¡ºåºæ„æ€æ˜¯ï¼Œåœ†å¿ƒåæ ‡ X å€¼ï¼Œåœ†å¿ƒåæ ‡ Y å€¼ï¼ŒåŠå¾„ï¼Œå¼€å§‹å¼§åº¦ï¼Œç»“æŸå¼§åº¦ï¼Œæ˜¯å¦é€†æ—¶é’ˆã€‚é€šè¿‡æŒ‡å®š&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;startAngle = 0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.02778em;&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.01968em;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;å’Œ&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;M&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;.&lt;/mi&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&quot;application/x-tex&quot;&gt;endAngle = Math.PI*2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&quot;katex-html&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.8888799999999999em;vertical-align:-0.19444em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.03588em;&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.01968em;&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mrel&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2777777777777778em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.69444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.10903em;&quot;&gt;M&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.13889em;&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;mord mathdefault&quot; style=&quot;margin-right:0.07847em;&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mbin&quot;&gt;âˆ—&lt;/span&gt;&lt;span class=&quot;mspace&quot; style=&quot;margin-right:0.2222222222222222em;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;base&quot;&gt;&lt;span class=&quot;strut&quot; style=&quot;height:0.64444em;vertical-align:0em;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mord&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå°±å¯ä»¥ç»˜åˆ¶ä¸€ä¸ªå®Œæ•´çš„åœ†äº†ã€‚æœ€åä¸€ä¸ªå‚æ•°&lt;code class=&quot;language-text&quot;&gt;antiClockwise&lt;/code&gt;å¯¹äºå›¾ç‰‡çš„å¡«å……æ—¶ä¼šéå¸¸æœ‰ç”¨ï¼Œåé¢è®²å¡«å……æ—¶ä¼šè¯¦ç»†è¯´åˆ°ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åœ†å¿ƒåæ ‡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; center &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// åŠå¾„&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; radius &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹å¼§åº¦å€¼&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; startAngle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç»“æŸå¼§åº¦å€¼ï¼Œ360åº¦=Math.PI * 2&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; endAngle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ˜¯å¦é€†æ—¶é’ˆ&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; antiClockwise &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æè¾¹é¢œè‰²&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;arc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; startAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; endAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; antiClockwise&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å°†åœ†å½¢æè¾¹ç»˜åˆ¶å‡ºæ¥&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶å‡ºåœ†å¿ƒå’ŒåŠå¾„ç¤ºæ„å›¾,è¯»è€…å¯ä»¥å¿½ç•¥ä¸‹åŠéƒ¨ä»£ç &lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;arc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; startAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; endAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; antiClockwise&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;font &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;24px sans-serif&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; radius &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fa7298352748c3ac03074dc9a59ccd78/8a209/arc.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.57232704402516%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAxElEQVQoz42S2w6EIAxE/f8/FV1sQQSVtltk1Zf1MiEYzRyYtjbee2MMAAyb9IlY1v7hj6y16leqcc6llESEmbdd0iwhSia5UnUqeMKqNPOANEVKiX2gMNFbOOdCHo625c9A87LFuYFjLLDeM06bNdM8raYX9Hrcr5ZHWKNWOI+4aOWAevkTXGMTsQWqvrpr2TX2Zc06qr1hvKwMpWEcE4MrnbtpmII1djxHJaLwGPjVqEIIXdchYvlPoMi5so7XK/V9/wUuOkfdNhTm9QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/fa7298352748c3ac03074dc9a59ccd78/cc182/arc.webp 148w,
/static/fa7298352748c3ac03074dc9a59ccd78/f7e40/arc.webp 295w,
/static/fa7298352748c3ac03074dc9a59ccd78/1a2f4/arc.webp 590w,
/static/fa7298352748c3ac03074dc9a59ccd78/9fd29/arc.webp 636w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/fa7298352748c3ac03074dc9a59ccd78/cf440/arc.png 148w,
/static/fa7298352748c3ac03074dc9a59ccd78/d2d38/arc.png 295w,
/static/fa7298352748c3ac03074dc9a59ccd78/b9e4f/arc.png 590w,
/static/fa7298352748c3ac03074dc9a59ccd78/8a209/arc.png 636w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/fa7298352748c3ac03074dc9a59ccd78/b9e4f/arc.png&quot;
          alt=&quot;arc&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿˜å¯ä»¥æ”¹å˜èµ·å§‹å’Œç»“æŸå¼§åº¦çš„å€¼ï¼Œæ¥ç»˜åˆ¶ä¸åŒè§’åº¦çš„å¼§å½¢ã€‚æ¯”å¦‚å…«åˆ†ä¹‹ä¸€åœ†å¼§ï¼Œå››åˆ†ä¹‹åœ†å¼§ï¼ŒåŠåœ†å¼§ç­‰ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åœ†å¿ƒåæ ‡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; center &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// åŠå¾„&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; radius &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// èµ·å§‹å¼§åº¦ä¸º0&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; startAngle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ˜¯å¦é€†æ—¶é’ˆ&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; antiClockwise &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¼§åº¦é•¿åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; angles &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æè¾¹é¢œè‰²&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; colors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;orange&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; angle&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; angles&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—ç»“æŸå¼§åº¦&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; endAngle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PI&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; angle
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®æè¾¹é¢œè‰²&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; colors&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹æ–°çš„è·¯å¾„&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶åœ†å¼§&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;arc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; radius &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    center&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    radius&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    startAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    endAngle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    antiClockwise
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b266280147500646533a5eb24d5fd041/83cbb/angle.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.18471337579618%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAoUlEQVQoz71Syw6DMAzj/3+UCwz6pk3iLKMITdp2YJPmQ+Skta1GHaZpun2FeZ6H1ppcBDOr6rIsgzV6EQCsOuf+I4ageQV/ENuI6JmykECsIWHUAN52E3ojhm0up05dkJh0oxyKT1uMNSpXaQGUYXW/9JKM40m5dHctreSaemPJJn4cn8m2d7xA9SSH3THdec9b1/W3bdtfcRdhmd77cRzvDbqF3z5fLcsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b266280147500646533a5eb24d5fd041/cc182/angle.webp 148w,
/static/b266280147500646533a5eb24d5fd041/f7e40/angle.webp 295w,
/static/b266280147500646533a5eb24d5fd041/1a2f4/angle.webp 590w,
/static/b266280147500646533a5eb24d5fd041/939a5/angle.webp 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b266280147500646533a5eb24d5fd041/cf440/angle.png 148w,
/static/b266280147500646533a5eb24d5fd041/d2d38/angle.png 295w,
/static/b266280147500646533a5eb24d5fd041/b9e4f/angle.png 590w,
/static/b266280147500646533a5eb24d5fd041/83cbb/angle.png 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/b266280147500646533a5eb24d5fd041/b9e4f/angle.png&quot;
          alt=&quot;angle&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-4&apos; &gt;
          ä»»æ„å¤šè¾¹å½¢
        &lt;/h4&gt;
      
&lt;p&gt;ä¸Šé¢è¯´çš„éƒ½æ˜¯ä¸€äº›æ¯”è¾ƒç®€å•å’Œå¸¸è§çš„å›¾å½¢ï¼Œæˆ‘ä»¬å¦‚ä½•å¯ä»¥ç»˜åˆ¶ä»»æ„å¤šè¾¹å½¢ï¼Œæ¯”å¦‚äº”è¾¹å½¢ï¼Œå…­è¾¹å½¢ï¼Œå…«è¾¹å½¢ç­‰ã€‚å…¶å®ï¼Œåœ¨ç»˜åˆ¶å››è¾¹å½¢çš„æ—¶å€™å°±è¯´è¿‡äº†ï¼Œå¯ä»¥é€šè¿‡ç¡®å®šé¡¶ç‚¹åæ ‡ï¼Œç„¶åæŠŠè¿™äº›é¡¶ç‚¹æŒ‰ç…§ä¸€å®šé¡ºåºè¿æ¥èµ·æ¥å°±å¯ä»¥äº†ã€‚ä¸‹é¢ï¼Œæ¥å®ç°ä¸€ä¸ªé€šç”¨çš„å¤šè¾¹å½¢çš„ç»˜åˆ¶æ–¹æ³•ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polygon&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ctx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctx
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; points
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ctx &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CanvasRenderingContext2D&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;Polygon#ctx must be an CanvasRenderingContext2D instance&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Polygon#points must be an Array&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; firstPoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; restPoint &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;points&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;firstPoint&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; firstPoint&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; restPoint&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;closePath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é€šè¿‡å®ä¾‹åŒ–è¿™ä¸ª&lt;code class=&quot;language-text&quot;&gt;Polygon&lt;/code&gt;ï¼Œå¹¶ä¼ å…¥å¤šè¾¹å½¢çš„é¡¶ç‚¹åæ ‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»˜åˆ¶å‡ºä¸åŒçš„å¤šè¾¹å½¢ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼Œåˆ†åˆ«ç»˜åˆ¶äº†äº”è¾¹å½¢ï¼Œå…­è¾¹å½¢ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶äº”è¾¹å½¢&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; points &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;55&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pentagon &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polygon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;
pentagon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶å…­è¾¹å½¢&lt;/span&gt;
points &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;160&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;210&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;230&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;210&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;160&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;140&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; hexagon &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Polygon&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;
hexagon&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c6eeb0687696b87a84d1af97685a125a/e49a9/polygin.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.81250000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAy0lEQVQoz5WS6w6DIAyFef8HXUyUSlEoA1qG4iUx2XQn/dEAH6elqGEYxv8FAIionHOlFGFu8VAiUl0VEVWYZYuLpMgRl61qrkIgOxc9srEyAE8zL8x6MnGCGdBjjZpkzlcYrcepHAAYznkzQcKYY8tDCpZsq+WEX51L6YQ9ibGLeUzREq7r+10em3njFxhG7/zeoRScmMIK5wdw7ZnCwjAXYzMFOYD7sttrh7eAyTHJUf/tg9Vpb/A3/RiV1lp1Xdd+jNbwXJXs+/4D6EKBUNCxTUUAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c6eeb0687696b87a84d1af97685a125a/cc182/polygin.webp 148w,
/static/c6eeb0687696b87a84d1af97685a125a/f7e40/polygin.webp 295w,
/static/c6eeb0687696b87a84d1af97685a125a/1a2f4/polygin.webp 590w,
/static/c6eeb0687696b87a84d1af97685a125a/c38ef/polygin.webp 640w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c6eeb0687696b87a84d1af97685a125a/cf440/polygin.png 148w,
/static/c6eeb0687696b87a84d1af97685a125a/d2d38/polygin.png 295w,
/static/c6eeb0687696b87a84d1af97685a125a/b9e4f/polygin.png 590w,
/static/c6eeb0687696b87a84d1af97685a125a/e49a9/polygin.png 640w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/c6eeb0687696b87a84d1af97685a125a/b9e4f/polygin.png&quot;
          alt=&quot;polygon&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          å¡«å……
        &lt;/h3&gt;
      
&lt;p&gt;ä¸Šé¢ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç”¨æè¾¹æŠŠå›¾å½¢ç»˜åˆ¶å‡ºæ¥ï¼Œè¿˜æœ‰ä¸€ç§ç”¨çš„æ¯”è¾ƒå¤šçš„å°±æ˜¯å¡«å……äº†ã€‚å¡«å……å°±æ˜¯ç”¨ç‰¹å®šçš„é¢œè‰²æŠŠå›¾å½¢åŒ…å›´çš„åŒºåŸŸæ¶‚æ»¡ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// é¡¶åº•1&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// é¡¶ç‚¹2&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// é¡¶ç‚¹3&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç”¨çº¢è‰²æè¾¹&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç”¨é»„è‰²å¡«å……&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®çº¿æ®µå®½åº¦ä¸º2&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¼€å§‹ä¸€æ®µæ–°è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç§»åŠ¨èµ·ç‚¹åˆ°é¡¶ç‚¹1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è¿æ¥é¡¶ç‚¹1ä¸é¡¶ç‚¹2&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è¿æ¥é¡¶ç‚¹2ä¸é¡¶ç‚¹3&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å…³é—­å½“å‰è·¯å¾„&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;closePath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æè¾¹&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¡«å……&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a9cfb5799a431163b110145346cc2d81/52699/fill1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.66457680250783%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAA/ElEQVQoz52SMU4DMRBFLQpEQYmgpaaChnNwDypqjpIaLkDDGRDiCqmQ1uCd2I7xBsXzh/FuRMFuCOJLtmbk/2zP2MY5t/iXiMiklESklMIbFUY/b5eaFVHedF2nEQAZBMZyrrNGskWDOYTwDeuo+3F8Zjrm8Njb1n+Ea478wf5SxHA64vDUO3k3rFXrwdzeCIzwYeXjKeJ8KOR3uCbczvBpRPaUFNmvfDhDasb86Np6rLvjcM3hCvEc6QSrAymmLC7Q2QHZUXM1rAWrgvyG+AL/wHTLr/c9OAXnnDfdrr0pEy+ka8D42t570zTN8F1+qnXUvhNZIkdTstZ+AdBMbeIDDYkNAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a9cfb5799a431163b110145346cc2d81/cc182/fill1.webp 148w,
/static/a9cfb5799a431163b110145346cc2d81/f7e40/fill1.webp 295w,
/static/a9cfb5799a431163b110145346cc2d81/1a2f4/fill1.webp 590w,
/static/a9cfb5799a431163b110145346cc2d81/e2250/fill1.webp 638w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a9cfb5799a431163b110145346cc2d81/cf440/fill1.png 148w,
/static/a9cfb5799a431163b110145346cc2d81/d2d38/fill1.png 295w,
/static/a9cfb5799a431163b110145346cc2d81/b9e4f/fill1.png 590w,
/static/a9cfb5799a431163b110145346cc2d81/52699/fill1.png 638w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/a9cfb5799a431163b110145346cc2d81/b9e4f/fill1.png&quot;
          alt=&quot;fill1&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå½“å‰è·¯å¾„æ²¡æœ‰å…³é—­ï¼Œé‚£ä¹ˆä¼šå…ˆé»˜è®¤å…³é—­å½“å‰è·¯å¾„ï¼Œç„¶ååœ¨è¿›è¡Œå¡«å…… ï¼Œå¦‚ä¸‹ï¼Œæˆ‘ä»¬æŠŠ&lt;code class=&quot;language-text&quot;&gt;ctx.closePath()&lt;/code&gt;æ³¨é‡Šæ‰ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®çº¿æ®µå®½åº¦ä¸º2&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ctx.closePath();&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a460648bb74e8175f667e9f75562230d/b2a12/fill2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.01587301587302%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAA80lEQVQoz42SPU4DMRCFrVQUNBwDxAHoKWg4BBUtbcQhcgWOgUTHRZCoVkj+X7EEx/MetiPEsptEeRqNNPZ8z/LYSmttpzL2CBljVEpJ/imP8m7lnEk651QpOJYIUs+DAlByCGEMVz9xL/J1Dr5vnY6DW41PLeGSVMAVaPfx85MFG4q+JxTltGTgtpFocQiuvJgVkiIXlecJoIR3jZvyI7iNDt8iH48SrxEvMJxhvWCuLuADZ/wfXOaOraRYUIZB+rfsX7N9ErvM9ib3z6UZ+G0rje2m3vvZU+2Yz2bvnctfCRN5H3xZNDWiC7Gf7fsYY9d1P2KzbxiWAibbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a460648bb74e8175f667e9f75562230d/cc182/fill2.webp 148w,
/static/a460648bb74e8175f667e9f75562230d/f7e40/fill2.webp 295w,
/static/a460648bb74e8175f667e9f75562230d/1a2f4/fill2.webp 590w,
/static/a460648bb74e8175f667e9f75562230d/eae19/fill2.webp 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a460648bb74e8175f667e9f75562230d/cf440/fill2.png 148w,
/static/a460648bb74e8175f667e9f75562230d/d2d38/fill2.png 295w,
/static/a460648bb74e8175f667e9f75562230d/b9e4f/fill2.png 590w,
/static/a460648bb74e8175f667e9f75562230d/b2a12/fill2.png 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/a460648bb74e8175f667e9f75562230d/b9e4f/fill2.png&quot;
          alt=&quot;fill2&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå½“å‰è·¯å¾„æ˜¯å¾ªç¯çš„ï¼Œæˆ–è€…æ˜¯åŒ…å«å¤šä¸ªç›¸äº¤çš„å­è·¯å¾„ï¼Œé‚£ä¹ˆ canvas ä½•å¦‚è¿›è¡Œå¡«å……å‘¢ï¼Ÿæ¯”å¦‚ä¸‹é¢è¿™æ ·çš„ï¼Œä¸ºä½•åœ¨å¡«å……æ—¶ï¼Œä¸­é—´è¿™ä¸€å—æ²¡æœ‰è¢«å¡«å……ï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point3 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;180&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point4 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point5 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;160&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; point6 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;70&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fillStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶ä¸‰è§’å½¢1, é¡ºåºï¼šp1--p2--p3--p1&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point3&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶ä¸‰è§’å½¢2,é¡ºåºï¼šp4--p5--p6--p4&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point5&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point5&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point6&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point6&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/010004b5ea9ad1b103073b38b2800e32/f1147/fill3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.07667731629393%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABV0lEQVQoz3WSvU4DMQzHu/AcIPEMPAUSCysjI2+AeAQkxMTCxCMwgoTEwMLeAXWAft6dklySu+Z6udjGSWlpi7CsKLbzs6Pk31NKSSnLLVNaq62EMaXWcV251jrP8x6XAIA2jKOm2YgRqW2p62jRRPcttgtOW2t34Ljx6tmMHhLVxRUCSAFSwmwKQoAoQj6jztuq+oV9640hmg+h3kffA/340w4RlYSqgiJDpbBU3IsaZ+s6wSFE2E7qr2Oc3IA5h+oIxCGW76Ej53zswfB0zF3SjXD32uAdTq8QHHEJCZs5Du5c/16WXAzEA7ynAH/hODmfFO3HLdUvWH2CegNxhos9nB/QYrB+jtUL7k5GQALbd6PTUDxB8Yr2Guwl2JNueFGMXYjn8T84ZQHzYllaxmkeuOA9bf3dChZCsEh0MlaCtaUuWTMsEqE1OwvGmqSKtSXVmCzLvgF1JzUnBqbt6gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/010004b5ea9ad1b103073b38b2800e32/cc182/fill3.webp 148w,
/static/010004b5ea9ad1b103073b38b2800e32/f7e40/fill3.webp 295w,
/static/010004b5ea9ad1b103073b38b2800e32/1a2f4/fill3.webp 590w,
/static/010004b5ea9ad1b103073b38b2800e32/61a1a/fill3.webp 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/010004b5ea9ad1b103073b38b2800e32/cf440/fill3.png 148w,
/static/010004b5ea9ad1b103073b38b2800e32/d2d38/fill3.png 295w,
/static/010004b5ea9ad1b103073b38b2800e32/b9e4f/fill3.png 590w,
/static/010004b5ea9ad1b103073b38b2800e32/f1147/fill3.png 626w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/010004b5ea9ad1b103073b38b2800e32/b9e4f/fill3.png&quot;
          alt=&quot;fill3&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥å…·ä½“ç ”ç©¶ä¸€ä¸‹&lt;code class=&quot;language-text&quot;&gt;fill&lt;/code&gt;å‡½æ•°ï¼ŒæŸ¥çœ‹&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fill&quot;&gt;MDN&lt;/a&gt;ä¸Šçš„è§£é‡Šï¼Œ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TheÂ &lt;code class=&quot;language-text&quot;&gt;CanvasRenderingContext2D&lt;/code&gt;&lt;strong&gt;.fill()&lt;/strong&gt;Â method of the Canvas 2D API fills the current or given path with the current fill style using the non-zero or even-odd winding rule&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;fillRule&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; fillRule&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;fillRule å‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¯å–å€¼ä¸º&lt;code class=&quot;language-text&quot;&gt;nonzero&lt;/code&gt;,&lt;code class=&quot;language-text&quot;&gt;evenodd&lt;/code&gt;ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;code class=&quot;language-text&quot;&gt;fill&lt;/code&gt;å‡½æ•°å¯ä»¥ç»™å½“å‰è·¯å¾„æˆ–è€…ç»™å®šçš„è·¯å¾„ï¼Œä½¿ç”¨&lt;strong&gt;éé›¶ç¯ç»•è§„åˆ™&lt;/strong&gt;æˆ–è€…&lt;strong&gt;å¥‡å¶è§„è§„åˆ™&lt;/strong&gt;æ¥å¡«å……ã€‚path å‚æ•°æ˜¯ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;Path2D&lt;/code&gt;å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªç»™å®šçš„è·¯å¾„ï¼Œcanvas ä¸­é»˜è®¤çš„æ˜¯å½“å‰è·¯å¾„ï¼Œè¿™ä¸ªå‚æ•°å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒï¼Œç›®å‰çœ‹ï¼Œè¿˜æœ‰ IE ç³»åˆ—å’Œç§»åŠ¨è®¾å¤‡ä¸Šéƒ½æ²¡æœ‰å¾ˆå¥½çš„æ”¯æŒï¼Œå°±ä¸å¤šè¯´äº†ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Path2D&quot;&gt;Path2D&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-5&apos; &gt;
          éé›¶ç¯ç»•è§„åˆ™
        &lt;/h4&gt;
      
&lt;p&gt;å¯¹äºè·¯å¾„ä¸­çš„ä»»æ„ç»™å®šåŒºåŸŸï¼Œä»è¯¥åŒºåŸŸå†…éƒ¨ç”»å‡ºä¸€æ¡è¶³å¤Ÿé•¿çš„çº¿æ®µï¼Œä½¿æ­¤çº¿æ®µçš„ç»ˆç‚¹å®Œå…¨è½åœ¨è·¯å¾„èŒƒå›´ä¹‹å¤–ã€‚æ¥ä¸‹æ¥ï¼Œå°†è®¡æ•°å™¨åˆå§‹åŒ–ä¸º 0ï¼Œç„¶åï¼Œæ¯å½“è¿™æ¡çº¿æ®µä¸è·¯å¾„ä¸Šçš„ç›´çº¿æˆ–è€…æ›²çº¿ç›¸äº¤æ—¶ï¼Œå°±æ”¹å˜è®¡æ•°å™¨çš„å€¼ã€‚å¦‚æœæ˜¯ä¸è·¯å¾„çš„é¡ºæ—¶é’ˆéƒ¨åˆ†ç›¸äº¤ï¼Œåˆ™åŠ  1ï¼Œå¦‚æœæ˜¯ä¸è·¯å¾„çš„é€†æ—¶é’ˆéƒ¨åˆ†ç›¸äº¤ï¼Œåˆ™å‡ 1ã€‚æœ€åï¼Œå¦‚è®¡æ•°å™¨çš„å€¼ä¸ä¸º 0ï¼Œåˆ™æ­¤åŒºåŸŸå°±åœ¨è·¯å¾„é‡Œé¢ï¼Œè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;fill&lt;/code&gt;æ—¶ï¼Œè¯¥åŒºåŸŸè¢«å¡«å……ã€‚å¦‚æœè®¡æ•°å™¨çš„æœ€ç»ˆå€¼ä¸º 0ï¼Œåˆ™æ­¤åŒºåŸŸå°±ä¸åœ¨è·¯å¾„é‡Œé¢ï¼Œè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;fill&lt;/code&gt;æ—¶ï¼Œè¯¥åŒºåŸŸå°±ä¸è¢«å¡«å……ã€‚canvas çš„&lt;code class=&quot;language-text&quot;&gt;fill&lt;/code&gt;é»˜è®¤ä½¿ç”¨çš„å°±æ˜¯è¿™ç§éé›¶ç¯ç»•è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ä¸Šå›¾ï¼Œä¸ºä½•ä¸­é—´äº¤å‰åŒºåŸŸæ²¡æœ‰è¢«å¡«å……ã€‚æˆ‘ä»¬ç»˜åˆ¶äº† 2 ä¸ªä¸‰è§’å½¢ï¼Œç¬¬ä¸€ç»˜åˆ¶é¡ºåºæ˜¯ p1 â€”&gt; p2 â€”&gt; p3 â€”&gt; p1ï¼Œç¬¬äºŒä¸ªç»˜åˆ¶é¡ºåºæ˜¯ p4 â€”&gt; p5 â€”&gt; p6 â€”&gt; p4 ã€‚å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªä¸‰è§’å½¢åœ¨ç»˜åˆ¶æ˜¯é€†æ—¶é’ˆæ–¹å‘çš„ï¼Œç¬¬äºŒä¸ªä¸‰è§’å½¢ç»˜åˆ¶æ˜¯é¡ºæ—¶é’ˆæ–¹å‘çš„ï¼Œä¸­é—´ç›¸äº¤åŒºåŸŸçš„è®¡æ•°å™¨æœ€ç»ˆå€¼å°±ä¸º 0 äº†ï¼Œæ‰€ä»¥ä¸åº”è¯¥åŒ…å«åœ¨è¿™ä¸ªè·¯å¾„ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;éé›¶ç¯ç»•è§„åˆ™æ¼”ç¤ºå¯ä»¥æŸ¥çœ‹æˆ‘çš„ç¤ºä¾‹ï¼š&lt;a href=&quot;https://snayan.github.io/canvas-demo/?module=cutout&quot;&gt;éé›¶ç¯ç»•ç¤ºä¾‹&lt;/a&gt;&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-6&apos; &gt;
          å¥‡å¶è§„åˆ™
        &lt;/h4&gt;
      
&lt;p&gt;è·Ÿéé›¶ç¯ç»•è§„åˆ™ç±»ä¼¼ï¼Œéƒ½æ˜¯ä»ä»»æ„åŒºåŸŸç”»å‡ºä¸€æ¡è¶³å¤Ÿé•¿çš„çº¿ï¼Œä½¿æ­¤çº¿æ®µçš„ç»ˆç‚¹å®Œå…¨è½åœ¨è·¯å¾„èŒƒå›´ä¹‹å¤–ã€‚å¦‚æœè¿™ä¸ªçº¿æ®µä¸è·¯å¾„ç›¸äº¤çš„ä¸ªæ•°æ˜¯å¥‡æ•°ï¼Œåˆ™æ­¤åŒºåŸŸåŒ…å«åœ¨è·¯å¾„ä¸­ï¼Œå¦‚æœæ˜¯å¶æ•°ï¼Œåˆ™è¡¨ç¤ºæ­¤åŒºåŸŸä¸åŒ…å«åœ¨è·¯å¾„ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œæˆ‘ä»¬æŠŠä¸Šé¢çš„ä¾‹å­æ”¹ä¸‹ï¼Œç»˜åˆ¶ç¬¬äºŒä¸ªä¸‰è§’å½¢çš„é¡ºåºæ”¹æˆé€†æ—¶é’ˆ p4 â€”&gt; p6 â€”&gt; p5 â€”&gt; P4ï¼Œç„¶ååˆ†åˆ«ç”¨éé›¶ç¯ç»•è§„åˆ™å’Œå¥‡å¶è§„åˆ™æ¥å¡«å……ï¼Œçœ‹çœ‹æ•ˆæœã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ç»˜åˆ¶ä¸‰è§’å½¢2,æ³¨æ„é¡ºåºå˜äº†:p4-p6-p5-p4&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point6&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point6&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point5&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point5&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; point4&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¡«å……,  é»˜è®¤å°±æ˜¯éé›¶ç¯ç»•è§„åˆ™&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/25f03a80d80cbd2b7d645ca3031acfcd/83cbb/fill4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.910828025477706%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABSUlEQVQoz3WSO04DMRCGV5ESipScA3EJSg6RjqtQUHAFeoREzQGoKRAv0ZAENt7H2N5X7PXMYG+SJRuJX7OW9Wu+Ga89Ud5JDgRKDR2l/BfWXXjFcRwBACLyngi5rnigpmFrg+ujaaiumUgXxQEcNq180POrbutCLSLMUpSA8Q/65Cx1iWBrdFn+wdYYAMOVxOKEbIT5DdO2HEFOStJiTokgITBNuCp3sAsd2jKr5+dcnhKOmCfUHBHcoaWqNIFXEt9f8eMNX56x0N7RWvedqV0z6TPmiGnKNPY8m/H68zLLuvMjsU/z4Rx1J+3h0Hm1NGY5C7CdkJ2yGTFG1Bxz89hfx/ZGiQ47e4MqUX3PnL4n9YTqFuU16plbXKy+oO3+/T94Y7MQNHg4n4bWte3gLXt4f0h8IV3kEjKAHMKaSpnJbiYGMwSwGZJfa64s1TQ0HbAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/25f03a80d80cbd2b7d645ca3031acfcd/cc182/fill4.webp 148w,
/static/25f03a80d80cbd2b7d645ca3031acfcd/f7e40/fill4.webp 295w,
/static/25f03a80d80cbd2b7d645ca3031acfcd/1a2f4/fill4.webp 590w,
/static/25f03a80d80cbd2b7d645ca3031acfcd/939a5/fill4.webp 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/25f03a80d80cbd2b7d645ca3031acfcd/cf440/fill4.png 148w,
/static/25f03a80d80cbd2b7d645ca3031acfcd/d2d38/fill4.png 295w,
/static/25f03a80d80cbd2b7d645ca3031acfcd/b9e4f/fill4.png 590w,
/static/25f03a80d80cbd2b7d645ca3031acfcd/83cbb/fill4.png 628w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/25f03a80d80cbd2b7d645ca3031acfcd/b9e4f/fill4.png&quot;
          alt=&quot;fill4&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ä¸¤ä¸ªä¸‰è§’å½¢çš„é¡ºåºéƒ½æ˜¯é€†æ—¶é’ˆï¼Œæ‰€ä»¥æŒ‰ç…§éé›¶ç¯ç»•è§„åˆ™ï¼Œåƒä¸ªä¸‰è§’å½¢çš„ç›¸äº¤åŒºåŸŸçš„è®¡æ•°å™¨çš„æœ€ç»ˆå€¼ä¸º-2ï¼Œä¸ä¸º 0ï¼Œåˆ™åŒ…å«åœ¨è·¯å¾„ä¸­æ”¹ï¼Œè¢«å¡«å……äº†ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·çš„é¡ºåºï¼Œæˆ‘ä»¬åœ¨æ”¹ç”¨å¥‡å¶è§„åˆ™æ¥å¡«å……ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å¡«å……,  æ”¹ç”¨å¥‡å¶è§„åˆ™&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;evenodd&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/00b250e0e5e4853937fff11fd50465b0/b2a12/fill5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.01587301587302%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABdklEQVQoz31RO04EMQydip6OG9BzA44AVNRcgJIrIGokakRFiUSNhJAQVDQLArRC+4GdT5KJs7vzS+zgySDY3YInJ0psvzzHjoQQagVSqv8REpgYNU2DS3COeNlFB1rL5tiaGl178N4zP+KoXwTZbDgOUT5Tuxdz0pqyjJSgLCWdY5qwGwD+yOQd7whXVqyTfgiu1kPFHJVsOUqglJQrjCe+rsGYyLk2o6nKycctyUcUm+QjhA2aPv2o1zWVBY6H2H/HJKaqRAOeMCgHMllvky33dURwj/IUzb4bHfpkKFJdlG0cxyN8eabPcXiPFsumovJN/8w3eVBD/gHmPfe8PR31wveRFtvyS+7KTtOqeDvz8gTza/y8c5M9nK1x/WR2fdc91iDsWrhEpu5m7WxwUCfnmA/Q3KC+dOqY5I5+vUgEhx0ideh6rLX+6XY3lCTzZeVX0WouTzNkt2SeNQRogOk0N6DYCzoHLQHYFI8ElsEJxpg4jr8B4wBtVwb6JekAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/00b250e0e5e4853937fff11fd50465b0/cc182/fill5.webp 148w,
/static/00b250e0e5e4853937fff11fd50465b0/f7e40/fill5.webp 295w,
/static/00b250e0e5e4853937fff11fd50465b0/1a2f4/fill5.webp 590w,
/static/00b250e0e5e4853937fff11fd50465b0/eae19/fill5.webp 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/00b250e0e5e4853937fff11fd50465b0/cf440/fill5.png 148w,
/static/00b250e0e5e4853937fff11fd50465b0/d2d38/fill5.png 295w,
/static/00b250e0e5e4853937fff11fd50465b0/b9e4f/fill5.png 590w,
/static/00b250e0e5e4853937fff11fd50465b0/b2a12/fill5.png 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/00b250e0e5e4853937fff11fd50465b0/b9e4f/fill5.png&quot;
          alt=&quot;fill5&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;è¿™ç¯‡æˆ‘ä»¬ä¸»è¦å­¦ä¹ äº† canvas ä¸­å¦‚ä½•ç»˜åˆ¶å›¾å½¢ï¼Œæ¯”å¦‚å¸¸è§çš„ä¸‰è§’å½¢ï¼Œå››è¾¹å½¢ï¼Œåœ†å¿ƒï¼Œä»¥åŠä»»æ„å¤šè¾¹å½¢ã€‚åœ¨ç»˜åˆ¶å›¾å½¢æ—¶ï¼Œæœ‰äº›æ¯”å¦‚çŸ©å½¢ï¼Œåœ†å½¢ç­‰ canvas å·²ç»æä¾›äº†å†…ç½®çš„å‡½æ•°ï¼Œ&lt;code class=&quot;language-text&quot;&gt;ctx.rect()&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;ctx.arc&lt;/code&gt;å¯ä»¥ç›´æ¥ç»˜åˆ¶ï¼Œä½†æ˜¯å¯¹äºä»»æ„å¤šè¾¹å½¢ï¼Œæˆ‘ä»¬åˆ™éœ€è¦è‡ªå·±é€çº¿æ®µçš„ç»˜åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç»˜åˆ¶è·¯å¾„æ—¶ï¼Œæ˜¯æœ‰é¡ºåºçš„ã€‚ç†è§£ canvas ä¸­è·¯å¾„ï¼Œå’Œå½“å‰ç»˜åˆ¶çš„é¡ºåºï¼Œå°±å¯ä»¥å¾ˆå¥½çš„ç†è§£äº† canvas ä¸­å¡«å……è§„åˆ™äº†ã€‚canvas ä¸­å¡«å……æœ‰&lt;strong&gt;éé›¶ç¯ç»•è§„åˆ™&lt;/strong&gt;å’Œ&lt;strong&gt;å¥‡å¶è§„åˆ™&lt;/strong&gt;ã€‚å¯¹äºåŒæ ·çš„è·¯å¾„ï¼Œä¸åŒçš„è§„åˆ™å¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„å¡«å……åŒºåŸŸï¼Œæ˜¯ä½¿ç”¨æ—¶ï¼Œæ³¨æ„è·¯å¾„é¡ºåºå°±å¥½äº†ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[canvasæ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶çº¿æ®µ]]></title><description><![CDATA[è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬ä¸€ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼šcanvas æ ¸å¿ƒæŠ€æœ¯
å­¦ä¹  canvasï¼Œé¦–å…ˆå¾—çŸ¥é“å¦‚ä½•å»ç»˜åˆ¶çº¿æ®µï¼Œç„¶åæ‰èƒ½é€šè¿‡å¾ˆå¤šç®€å•çš„çº¿æ®µå»å®ç°æ¯”è¾ƒå¤æ‚çš„å›¾å½¢ï¼Œæ¯”å¦‚å¸¸è§çš„å›¾è¡¨ï¼ŒæŸ±çŠ¶å›¾ï¼ŒæŠ˜çº¿å›¾ç­‰éƒ½æ˜¯é€šè¿‡ä¸€æ®µä¸€æ®µçš„çº¿æ®µå®ç°çš„ã€‚canvasâ€¦]]></description><link>https://snayan.github.io//post/how_to_draw_line/</link><guid isPermaLink="false">https://snayan.github.io//post/how_to_draw_line/</guid><pubDate>Mon, 09 Jul 2018 20:16:12 GMT</pubDate><content:encoded>&lt;p&gt;è¿™ç¯‡æ˜¯å­¦ä¹ å’Œå›é¡¾ canvas ç³»åˆ—ç¬”è®°çš„ç¬¬ä¸€ç¯‡ï¼Œå®Œæ•´ç¬”è®°è¯¦è§ï¼š&lt;a href=&quot;/post/core_html5_canvas/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;
å­¦ä¹  canvasï¼Œé¦–å…ˆå¾—çŸ¥é“å¦‚ä½•å»ç»˜åˆ¶çº¿æ®µï¼Œç„¶åæ‰èƒ½é€šè¿‡å¾ˆå¤šç®€å•çš„çº¿æ®µå»å®ç°æ¯”è¾ƒå¤æ‚çš„å›¾å½¢ï¼Œæ¯”å¦‚å¸¸è§çš„å›¾è¡¨ï¼ŒæŸ±çŠ¶å›¾ï¼ŒæŠ˜çº¿å›¾ç­‰éƒ½æ˜¯é€šè¿‡ä¸€æ®µä¸€æ®µçš„çº¿æ®µå®ç°çš„ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          åŸºç¡€çŸ¥è¯†
        &lt;/h3&gt;
      
&lt;p&gt;canvas çš„åŸºç¡€çŸ¥è¯†ä¸ç®—å¤šï¼Œä¸»è¦æŒæ¡å¦‚ä½•ç»˜åˆ¶çº¿æ®µï¼Œå›¾å½¢ï¼Œå›¾ç‰‡ï¼Œæ–‡æœ¬ç­‰ã€‚canvas å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç»˜åˆ¶ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ© &lt;a href=&quot;https://github.com/Automattic/node-canvas&quot;&gt;node-canvas&lt;/a&gt;åœ¨ node æœåŠ¡ç«¯ç»˜åˆ¶ç®€å•çš„å›¾ç‰‡ã€‚æœ¬æ–‡åªè®°å½•åœ¨æµè§ˆå™¨ä¸­ç»˜åˆ¶ï¼Œè‡³äºåœ¨ node ç«¯å¦‚ä½•ç»˜åˆ¶ï¼Œè‡ªå·±å¯ä»¥å»æŸ¥çœ‹ç›¸å…³èµ„æ–™ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æµè§ˆå™¨ä¸­ç»˜åˆ¶ï¼Œå°±å…ˆåœ¨ html ä¸­å®šä¹‰ canvas å…ƒç´ ï¼Œé»˜è®¤å®½é«˜æ˜¯ 300 * 150ï¼Œå¯ä»¥é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;width&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;height&lt;/code&gt;è®¾ç½®ã€‚æ³¨æ„ canvas å…ƒç´ æ ·å¼å®½é«˜å’Œ canvas ç»˜å›¾ç”»å¸ƒå®½é«˜ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œè¯¦è§&lt;em&gt;çŸ¥è¯†ç‚¹ 5 ä¸­ canvas å®½é«˜&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;canvas&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;canvas&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;å½“å‰æµè§ˆå™¨ä¸æ”¯æŒcanvasï¼Œè¯·å‡çº§æµè§ˆå™¨&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;canvas&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;p&gt;åœ¨ç»˜åˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆè·å–å½“å‰ canvas çš„ 2d ç»˜åˆ¶ä¸Šä¸‹æ–‡ contextï¼Œåç»­æ€»æ˜¯é€šè¿‡æ“ä½œ context æ¥è¿›è¡Œç»˜åˆ¶ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; canvas &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;#canvas&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;canvas&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;can not find canvas element&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ³¨æ„2d.å‚æ•°å¿…é¡»æ˜¯å°å†™çš„ï¼›&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// é€šè¿‡è®¾ç½®å‚æ•°ä¸ºwebglï¼Œå¯ä»¥è·å–3dç»˜åˆ¶ä¸Šä¸‹æ–‡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ctx &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; canvas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;2d&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;æ³¨ï¼šåç»­ç¤ºä¾‹ä¸­ä¼šå¿½ç•¥ä¸Šé¢çš„ä»£ç ç‰‡æ®µï¼Œç›´æ¥ä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;ctx&lt;/code&gt; å˜é‡è¡¨ç¤º canvas çš„ 2d ç»˜åˆ¶ä¸Šä¸‹æ–‡ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ canvas 2d ç»˜åˆ¶ä¸­çš„åæ ‡ç³»ç»Ÿï¼Œå½“å‰ canvas å…ƒç´ å·¦ä¸Šè§’ä¸ºåæ ‡åŸç‚¹(0,0)ï¼Œæ°´å¹³å‘å³ä¸º X è½´æ­£æ–¹å‘ï¼Œå‚ç›´å‘ä¸‹ä¸º Y è½´æ­£æ–¹å‘ï¼Œå¦‚ä¸‹å›¾ã€‚å¯ä»¥é€šè¿‡å¹³ç§»(translate)ï¼Œæ—‹è½¬(rotate)ï¼Œç¼©æ”¾(scale)æ¥æ“ä½œåæ ‡ç³»ï¼Œå®ç°ä¸€äº›åŠ¨ç”»ï¼Œè¿™éƒ¨åˆ†å°†åœ¨åŠ¨ç”»çŸ¥è¯†éƒ¨åˆ†è¯¦ç»†è®²è§£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/45947533f882772c7ce14d66f43aafdf/e5f70/coordinate.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 513px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 69.39571150097466%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAChklEQVQoz12S+0/aUBTH+Qf3P+x/ULehA1QefV/6AEWdoG4+IsoEzZJNF1BBSktpC72UIsW2INmS/RG7FLKHyScn5/zwyfeekxvYOlWoksyUFLooUxcSUZTwzyJekLCCFCuI0UJ9/fwhcl5bzVcRkdNq6KwWzNeC5/WVg1ogd2eAiSG4Hd6Daa+36cGNsZkedVHdHE/rxrOZee6nfvRTP3uZgbFldTK2sW13NjQ9sFcxgGOkoZZu3nHqN+JRwjwNc1TC1XFHJ5w2/aRjj1VBrQk9NWW0d2qtbUS9xdfVwN4tBEOd9QY7rfxx7jWdfcdmF9m9RfZgCXx6y+4vRPKRVzDI3J5kdJkbmbxjsE8dbgQ5lLx/C5PDNudZu3JFXw5qUaIapsohphyiK2EgvomXSABGluB0eQcKQ4O3fVxjLgNb50bWrlRWwssPBHkXJ6+jzJQYqESwzwAAz+QHbR6ZQ0N4gjOZVbXAPjqY3WZH/Q+Nm1ZoWcSoRgKTMVxJYBKOq+vRC5JOeqYwM/3K2R3ehVP54z3aGclWtn6jRt4/ELSIEyJG1hE4JccSFySTdE0eCbPYf+XD+9mz+7vidy20Ikex1mqsuRZT1uLyelwLr13FEsCBM3mObQief7Cje5MZ6Mlx/+jrWW1poURzVwR1RdKXCIr5kiCPWZ5F17KNvzJ6guvLx9UuGOjMxL4sZi+LOeyXhzYEY4sZ9/xqofG/2Onm0E/WpjJKZr1ernGD4BxTQIcdtAUk+M0Lc+57kEXJJ3ULOO3UxMo0KzvitTCxUq6R8uAMYd50/1T0c1MuTD93hY4eOCxDrKUwug6UZlJqUJpGq+pLNJXSVUpDjUbpGonGjkZWld9YIFOBN81j9AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/45947533f882772c7ce14d66f43aafdf/cc182/coordinate.webp 148w,
/static/45947533f882772c7ce14d66f43aafdf/f7e40/coordinate.webp 295w,
/static/45947533f882772c7ce14d66f43aafdf/aef14/coordinate.webp 513w&quot;
          sizes=&quot;(max-width: 513px) 100vw, 513px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/45947533f882772c7ce14d66f43aafdf/cf440/coordinate.png 148w,
/static/45947533f882772c7ce14d66f43aafdf/d2d38/coordinate.png 295w,
/static/45947533f882772c7ce14d66f43aafdf/e5f70/coordinate.png 513w&quot;
          sizes=&quot;(max-width: 513px) 100vw, 513px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/45947533f882772c7ce14d66f43aafdf/e5f70/coordinate.png&quot;
          alt=&quot;åæ ‡ç³»ç»Ÿ&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          çº¿æ®µ
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨ç»˜åˆ¶ä¸€æ¡ç®€å•çš„çº¿æ®µæ—¶ï¼Œä¸€èˆ¬ä¼šå…ˆè®¾ç½®çº¿æ®µçš„æ ·å¼ï¼Œæ¯”å¦‚ï¼Œé¢œè‰²ï¼Œçº¿æ¡å®½åº¦ï¼Œçº¿æ¡ç«¯ç‚¹æ ·å¼ç­‰ï¼Œæˆ‘ä»¬é€šè¿‡è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;strokeStyle&lt;/code&gt;æ¥è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;ctx&lt;/code&gt;çš„å…¨å±€ç»˜åˆ¶æ ·å¼ï¼Œå¯ä»¥æ˜¯&lt;code class=&quot;language-text&quot;&gt;rgba&lt;/code&gt;æˆ–åˆæ³•çš„ 16 è¿›åˆ¶é¢œè‰²å€¼ï¼Œæˆ–è€…æ¸å˜å¯¹è±¡ç­‰ã€‚å¦‚ä¸‹ä»£ç ç®€å•çš„ç»˜åˆ¶äº†ä¸€æ¡ä»(10,10)åˆ°(50,60)çš„ï¼Œå®½åº¦ä¸º 10 çš„ï¼Œçº¢è‰²çš„çº¿æ®µã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3b2f956f3f18d569a9e11a596d4f2244/a111b/line.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe7UCmD/xAAVEAEBAAAAAAAAAAAAAAAAAAABIP/aAAgBAQABBQIK/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERECH/2gAIAQEAAT8hle1Mg9R//9oADAMBAAIAAwAAABB0z//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxBdn//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAAMBAQEAAAAAAAAAAAAAAAABESFRcf/aAAgBAQABPxBu1CpNaurwjiMPCvrK+s1af//Z&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/3b2f956f3f18d569a9e11a596d4f2244/cc182/line.webp 148w,
/static/3b2f956f3f18d569a9e11a596d4f2244/f7e40/line.webp 295w,
/static/3b2f956f3f18d569a9e11a596d4f2244/1a2f4/line.webp 590w,
/static/3b2f956f3f18d569a9e11a596d4f2244/001d9/line.webp 650w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/3b2f956f3f18d569a9e11a596d4f2244/8ee9c/line.jpg 148w,
/static/3b2f956f3f18d569a9e11a596d4f2244/ebbe7/line.jpg 295w,
/static/3b2f956f3f18d569a9e11a596d4f2244/c739e/line.jpg 590w,
/static/3b2f956f3f18d569a9e11a596d4f2244/a111b/line.jpg 650w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/3b2f956f3f18d569a9e11a596d4f2244/c739e/line.jpg&quot;
          alt=&quot;line&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…ˆçœ‹çœ‹ä¸ç»˜åˆ¶çº¿æ®µç›¸å…³çš„æ–¹æ³•ä»¥åŠå±æ€§ï¼Œ&lt;/p&gt;
&lt;p&gt;ç›¸å…³å±æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lineCapï¼Œè¯¥å€¼å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•ç»˜åˆ¶çº¿æ®µçš„ç«¯ç‚¹ï¼Œå¯é€‰å€¼ä¸ºä»¥ä¸‹ä¸‰ä¸ªä¹‹ä¸€ï¼šbuttï¼Œroundï¼Œsquareã€‚é»˜è®¤ä¸º buttã€‚&lt;/li&gt;
&lt;li&gt;lineWidthï¼Œè¯¥å€¼å†³å®šäº†çº¿æ®µçš„åƒç´ å®½åº¦ã€‚å¿…é¡»ä¸ºéè´Ÿï¼Œéæ— ç©·ï¼Œé»˜è®¤ä¸º 1.0ã€‚&lt;/li&gt;
&lt;li&gt;lineJoinï¼Œå†³å®šäº†ä¸¤æ¡çº¿æ®µç›¸äº¤æ—¶å¦‚ä½•ç»˜åˆ¶ç„¦ç‚¹ï¼Œåªæœ‰å½“ä¸¤æ¡çº¿æ®µæ–¹å‘ä¸åŒæ—¶ï¼Œæ‰ä¼šç”Ÿæ•ˆã€‚å¯å–å€¼ï¼šbevelï¼Œroundï¼Œmiterã€‚é»˜è®¤å€¼æ˜¯ miterã€‚&lt;/li&gt;
&lt;li&gt;miterLimitï¼Œå‘Šè¯‰æµè§ˆå™¨å¦‚ä½•ç»˜åˆ¶ miter å½¢å¼çš„çº¿æ®µç„¦ç‚¹ï¼Œåªæœ‰å½“&lt;code class=&quot;language-text&quot;&gt;lineJoin=&amp;#39;miter&amp;#39;&lt;/code&gt;æœ‰æ•ˆï¼Œé»˜è®¤ä¸º 10.0ã€‚&lt;/li&gt;
&lt;li&gt;lineDashOffsetï¼Œè®¾ç½®è™šçº¿åç§»é‡ï¼Œé»˜è®¤ä¸º 0.0ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç›¸å…³æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;beginPathï¼Œå°†å½“å‰è·¯å¾„ä¹‹ä¸­çš„æ‰€æœ‰å­è·¯å¾„éƒ½è¦æ¸…é™¤æ‰ï¼Œä»¥æ­¤æ¥é‡ç½®å½“å‰è·¯å¾„ã€‚ä¸€èˆ¬åœ¨ç»˜åˆ¶é—­åˆå›¾å½¢æ—¶è¦å…ˆè°ƒç”¨ã€‚&lt;/li&gt;
&lt;li&gt;closePath ,æ˜¾ç¤ºçš„å°é—­æŸæ®µè·¯å¾„ã€‚è¯¥æ–¹æ³•ç”¨äºå°é—­åœ†å¼§è·¯å¾„ä»¥åŠç”±æ›²çº¿æˆ–çº¿æ®µæ‰€åˆ›å»ºçš„å¼€æ”¾è·¯å¾„ã€‚&lt;/li&gt;
&lt;li&gt;moveToï¼Œç§»åŠ¨å½“å‰ç»˜åˆ¶ç‚¹åˆ°æŒ‡å®šçš„åæ ‡ã€‚&lt;/li&gt;
&lt;li&gt;lineToï¼Œä»ä¸Šä¸€ä¸ªç‚¹ç»˜åˆ¶ä¸€æ¡åˆ°æŒ‡å®šåæ ‡ç‚¹çš„çº¿æ®µã€‚&lt;/li&gt;
&lt;li&gt;setLineDashï¼Œç”¨æ¥è®¾ç½®è™šçº¿çš„æ–¹æ³•ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨æ˜ç»˜åˆ¶å®çº¿çš„é•¿åº¦ï¼Œä»¥åŠå®çº¿ä¹‹é—´çš„é—´éš™çš„é•¿åº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯•è¯•ç”¨è®¾ç½®ä¸åŒçš„&lt;code class=&quot;language-text&quot;&gt;lineCap&lt;/code&gt;å€¼æ¥ç»˜åˆ¶åŒæ ·çš„çº¿æ®µ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; colors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lineCaps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;butt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;round&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;square&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lc&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; lineCaps&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®çº¿æ®µçš„é¢œè‰²&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; colors&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®lineCap&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineCap &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lc
  &lt;span class=&quot;token comment&quot;&gt;// æ¸…ç©ºå½“å‰è·¯å¾„&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lc&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b99771ca0a904daf1846dfd9e3fc7a94/aa4ed/lineCap.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 51.09034267912773%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHatgDEH//EABcQAQADAAAAAAAAAAAAAAAAAAECESD/2gAIAQEAAQUCiN5//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhABAQEAAAAAAAAAAAAAAAAAAREg/9oACAEBAAY/Amuv/8QAGRABAQEAAwAAAAAAAAAAAAAAAQARECEx/9oACAEBAAE/IToCL1ZPttvH/9oADAMBAAIAAwAAABBwz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAMBAQEBAAAAAAAAAAAAAAABESFRMZH/2gAIAQEAAT8QqiAm4twji+CpYRXWV1lvp//Z&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b99771ca0a904daf1846dfd9e3fc7a94/cc182/lineCap.webp 148w,
/static/b99771ca0a904daf1846dfd9e3fc7a94/f7e40/lineCap.webp 295w,
/static/b99771ca0a904daf1846dfd9e3fc7a94/1a2f4/lineCap.webp 590w,
/static/b99771ca0a904daf1846dfd9e3fc7a94/43770/lineCap.webp 642w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b99771ca0a904daf1846dfd9e3fc7a94/8ee9c/lineCap.jpg 148w,
/static/b99771ca0a904daf1846dfd9e3fc7a94/ebbe7/lineCap.jpg 295w,
/static/b99771ca0a904daf1846dfd9e3fc7a94/c739e/lineCap.jpg 590w,
/static/b99771ca0a904daf1846dfd9e3fc7a94/aa4ed/lineCap.jpg 642w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/b99771ca0a904daf1846dfd9e3fc7a94/c739e/lineCap.jpg&quot;
          alt=&quot;lineCap&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾ç»“æœå¯ä»¥çœ‹å‡ºï¼Œå†å°†&lt;code class=&quot;language-text&quot;&gt;lineCap&lt;/code&gt;è®¾ç½®ä¸º&lt;strong&gt;round&lt;/strong&gt; å’Œ&lt;strong&gt;square&lt;/strong&gt;æ—¶ä¼šåœ¨åŸçº¿æ®µçš„ä¸¤ç«¯åŠ ä¸Šä¸€å®šé•¿åº¦çš„ç«¯ç‚¹ï¼Œåªä¸è¿‡&lt;strong&gt;round&lt;/strong&gt;æ˜¯åœ†å¼§æ ·å¼ï¼Œ&lt;strong&gt;square&lt;/strong&gt;æ˜¯çŸ©å½¢æ ·å¼ã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨ canvas ç»˜åˆ¶ä¸Šä¸‹æ–‡ä¸­åŒä¸€æ—¶åˆ»åªèƒ½å­˜åœ¨ä¸€ä¸ªå½“å‰è·¯å¾„ï¼Œä¸ºäº†ç»˜åˆ¶ä¸åŒçš„çº¿æ®µï¼Œå¿…é¡»åœ¨æ¯æ¬¡ç»˜åˆ¶ä¹‹å‰è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;beginPath()&lt;/code&gt;æ¥æ¸…ç©ºå½“å‰è·¯çº¿ï¼Œå¼€å§‹æ–°çš„è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥è¯•è¯•ç”¨ä¸åŒçš„&lt;code class=&quot;language-text&quot;&gt;lineJoin&lt;/code&gt;å€¼æ¥ç»˜åˆ¶ä¸¤ä¸ªçº¿æ®µç„¦ç‚¹å¤„çš„æ ·å¼&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineCap &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;butt&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; colors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lineJoins &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;bevel&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;round&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;miter&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; lj&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; lineJoins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®çº¿æ®µçš„é¢œè‰²&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; colors&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®lineJoin&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineJoin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lj
  &lt;span class=&quot;token comment&quot;&gt;// æ¸…ç©ºå½“å‰è·¯å¾„&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lj&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/93203712a27010729a1b9dba0632aead/c59a2/lineJoin.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.36593059936908%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHYW4JFD//EABkQAAEFAAAAAAAAAAAAAAAAAAEAEhMgIf/aAAgBAQABBQJmxlGn/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAEDAQE/ATV//8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/ARF//8QAGxABAAEFAQAAAAAAAAAAAAAAAREAAiAhIqH/2gAIAQEABj8CdsNWdsnuP//EABkQAAMBAQEAAAAAAAAAAAAAAAAhMREBYf/aAAgBAQABPyG9ZNnfBdK3BRpp0//aAAwDAQACAAMAAAAQ/M//xAAWEQEBAQAAAAAAAAAAAAAAAAABERD/2gAIAQMBAT8QVVz/xAAWEQEBAQAAAAAAAAAAAAAAAAABERD/2gAIAQIBAT8QVUz/xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMUFR/9oACAEBAAE/EBKauVfTq8hcNCvatMS982ABnkFXWW+sSvZ//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/93203712a27010729a1b9dba0632aead/cc182/lineJoin.webp 148w,
/static/93203712a27010729a1b9dba0632aead/f7e40/lineJoin.webp 295w,
/static/93203712a27010729a1b9dba0632aead/1a2f4/lineJoin.webp 590w,
/static/93203712a27010729a1b9dba0632aead/ab069/lineJoin.webp 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/93203712a27010729a1b9dba0632aead/8ee9c/lineJoin.jpg 148w,
/static/93203712a27010729a1b9dba0632aead/ebbe7/lineJoin.jpg 295w,
/static/93203712a27010729a1b9dba0632aead/c739e/lineJoin.jpg 590w,
/static/93203712a27010729a1b9dba0632aead/c59a2/lineJoin.jpg 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/93203712a27010729a1b9dba0632aead/c739e/lineJoin.jpg&quot;
          alt=&quot;lineJoin&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œä¸‰ç§&lt;code class=&quot;language-text&quot;&gt;lineJoin&lt;/code&gt;åœ¨å¤„ç†ä¸¤æ¡çº¿æ®µçš„ç„¦ç‚¹å¤„çš„ä¸åŒã€‚å…¶ä¸­ï¼Œåœ¨è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;lineJoin=&amp;quot;miter&amp;quot;&lt;/code&gt;æ—¶ï¼Œé€šè¿‡è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;miterLimit&lt;/code&gt;å±æ€§å¯ä»¥è®¾ç½®æ–œæ¥çº¿çš„é•¿åº¦ä¸äºŒåˆ†ä¹‹ä¸€çº¿å®½çš„æœ€å¤§æ¯”å€¼ï¼Œå½“è¶…è¿‡è¿™ä¸ªæ¯”å€¼æ—¶ï¼Œåˆ™&lt;code class=&quot;language-text&quot;&gt;lineJoin&lt;/code&gt;ä¼šé‡‡ç”¨&lt;strong&gt;bevel&lt;/strong&gt;æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;canvas ä¸ä»…å¯ä»¥ç»˜åˆ¶å®çº¿ï¼Œè¿˜å¯ä»¥ç»˜åˆ¶è™šçº¿ã€‚ç»˜åˆ¶è™šçº¿ï¼Œé€šè¿‡è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;lineDashOffset&lt;/code&gt;å±æ€§å’Œè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;setLineDash()&lt;/code&gt;æ–¹å¼ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è¡¨ç¤ºå®çº¿éƒ¨åˆ†8ä¸ªåƒç´ ï¼Œé—´éš™éƒ¨åˆ†8ä¸ªåƒç´ &lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; colors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lineDashOffsets &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ldOffset&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; lineDashOffsets&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// çº¿æ®µé¢œè‰²&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; colors&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®äº†åç§»é‡&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineDashOffset &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ldOffset
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`lineDashOffset:&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;ldOffset&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;160&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1d9166a538458656648e89549280590a/c59a2/lineDashOffset.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.31230283911672%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdq0DJD/xAAYEAADAQEAAAAAAAAAAAAAAAAAARECEP/aAAgBAQABBQJLVQyl5//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAMBAQEAAAAAAAAAAAAAAAABETEhcf/aAAgBAQABPyHQz0R3pooobP/aAAwDAQACAAMAAAAQsM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAYEAEBAQEBAAAAAAAAAAAAAAABACExYf/aAAgBAQABPxARX3sGuyAYvS9JF1v/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/1d9166a538458656648e89549280590a/cc182/lineDashOffset.webp 148w,
/static/1d9166a538458656648e89549280590a/f7e40/lineDashOffset.webp 295w,
/static/1d9166a538458656648e89549280590a/1a2f4/lineDashOffset.webp 590w,
/static/1d9166a538458656648e89549280590a/ab069/lineDashOffset.webp 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/1d9166a538458656648e89549280590a/8ee9c/lineDashOffset.jpg 148w,
/static/1d9166a538458656648e89549280590a/ebbe7/lineDashOffset.jpg 295w,
/static/1d9166a538458656648e89549280590a/c739e/lineDashOffset.jpg 590w,
/static/1d9166a538458656648e89549280590a/c59a2/lineDashOffset.jpg 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/1d9166a538458656648e89549280590a/c739e/lineDashOffset.jpg&quot;
          alt=&quot;lineDashOffset&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾å¯ä»¥çœ‹åˆ°&lt;code class=&quot;language-text&quot;&gt;lineDashOffset&lt;/code&gt;å°±æ˜¯è®¾ç½®çš„å¼€å§‹ç»˜åˆ¶è™šçº¿çš„åç§»é‡ã€‚&lt;code class=&quot;language-text&quot;&gt;setLineDash()&lt;/code&gt;æ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ªæ•°ç»„å‚æ•°ï¼Œå¦‚æœæ•°ç»„ä¸ªæ•°æ˜¯å¥‡æ•°ï¼Œåˆ™ä¼šé»˜è®¤æŠŠå½“å‰æ•°ç»„å…ƒç´ å¤åˆ¶ä¸€ä»½ï¼Œä½¿ä¹‹å˜æˆå¶æ•°ã€‚ä»ç¬¬ 0 ä¸ªå…ƒç´ ï¼Œè¡¨ç¤ºå®çº¿éƒ¨åˆ†é•¿åº¦ï¼Œç¬¬ 1 ä¸ªå…ƒç´ ï¼Œè¡¨ç¤ºé—´éš™éƒ¨åˆ†é•¿åº¦ï¼Œç¬¬ 2 ä¸ªå…ƒç´ ï¼Œè¡¨ç¤ºå®çº¿éƒ¨åˆ†é•¿åº¦ï¼Œç¬¬ 3 ä¸ªå…ƒç´ ï¼Œè¡¨ç¤ºé—´éš™éƒ¨åˆ†é•¿åº¦ï¼Œå¦‚æœåˆ°æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ äº†ï¼Œåˆä¼šä»å¤´å¼€å§‹ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;textAlign &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; colors &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;gray&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lineDashes &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ld&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; lineDashes&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;entries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; colors&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;index&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®lineDash&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ld&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beginPath&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;moveTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lineTo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;171&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fillText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`lineDashes:[&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;ld&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;]`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;240&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; index&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ef4dc9a06709a4a2c5697fbb84dc92c3/e3959/setLineDash.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.459119496855344%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAexuiA//xAAZEAACAwEAAAAAAAAAAAAAAAAAERASISL/2gAIAQEAAQUC6W1GOP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAMBAQEAAAAAAAAAAAAAAAABESFxsf/aAAgBAQABPyFKVe+CwqdOlFDZ/9oADAMBAAIAAwAAABAzD//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/EKf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEAAgMBAAAAAAAAAAAAAAABABEhMUFh/9oACAEBAAE/EMrB2rV0GzHb1yG2B7HLCw2uek9Iy5Z//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ef4dc9a06709a4a2c5697fbb84dc92c3/cc182/setLineDash.webp 148w,
/static/ef4dc9a06709a4a2c5697fbb84dc92c3/f7e40/setLineDash.webp 295w,
/static/ef4dc9a06709a4a2c5697fbb84dc92c3/1a2f4/setLineDash.webp 590w,
/static/ef4dc9a06709a4a2c5697fbb84dc92c3/9fd29/setLineDash.webp 636w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ef4dc9a06709a4a2c5697fbb84dc92c3/8ee9c/setLineDash.jpg 148w,
/static/ef4dc9a06709a4a2c5697fbb84dc92c3/ebbe7/setLineDash.jpg 295w,
/static/ef4dc9a06709a4a2c5697fbb84dc92c3/c739e/setLineDash.jpg 590w,
/static/ef4dc9a06709a4a2c5697fbb84dc92c3/e3959/setLineDash.jpg 636w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ef4dc9a06709a4a2c5697fbb84dc92c3/c739e/setLineDash.jpg&quot;
          alt=&quot;setLineDash&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡åŠ¨æ€è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;lineDashOffset&lt;/code&gt;æ¥å®ç°èšçº¿ï¼Œæ¯”å¦‚é€‰æ‹© PS ä¸­é€‰åŒºè¾¹ç¼˜çš„èšçº¿ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åˆå§‹lineDashOffset&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; lineDashOffset &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;strokeStyle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;green&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lineDashOffset &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    lineDashOffset &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// æ¸…ç©ºå½“å‰canvas&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clearRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; width&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®lineDashOffset&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lineDashOffset &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;lineDashOffset
  &lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®å®çº¿é•¿åº¦å’Œé—´éš™é•¿åº¦&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLineDash&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¯¹canvaså½“å‰è·¯å¾„æè¾¹&lt;/span&gt;
  ctx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// lineDashOffsetåç§»åŠ 1&lt;/span&gt;
  lineDashOffset &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ç”¨æµè§ˆå™¨å¸§é€Ÿç‡æ¥åå¤æ‰§è¡Œanimateå‡½æ•°&lt;/span&gt;
  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;animate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;animate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5bdd5c5a6a0936c949641f522f708753/c59a2/dynamicLineDashOffset.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 52.6813880126183%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd5wwJD/xAAWEAEBAQAAAAAAAAAAAAAAAAABEAD/2gAIAQEAAQUCjXf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAACAwEAAAAAAAAAAAAAAAAAARARITH/2gAIAQEAAT8hrCkdRbG0/9oADAMBAAIAAwAAABAgz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAIDAQEAAAAAAAAAAAAAAAABESFhMZH/2gAIAQEAAT8QhYwQqVKol54bDH0f/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/5bdd5c5a6a0936c949641f522f708753/cc182/dynamicLineDashOffset.webp 148w,
/static/5bdd5c5a6a0936c949641f522f708753/f7e40/dynamicLineDashOffset.webp 295w,
/static/5bdd5c5a6a0936c949641f522f708753/1a2f4/dynamicLineDashOffset.webp 590w,
/static/5bdd5c5a6a0936c949641f522f708753/ab069/dynamicLineDashOffset.webp 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/5bdd5c5a6a0936c949641f522f708753/8ee9c/dynamicLineDashOffset.jpg 148w,
/static/5bdd5c5a6a0936c949641f522f708753/ebbe7/dynamicLineDashOffset.jpg 295w,
/static/5bdd5c5a6a0936c949641f522f708753/c739e/dynamicLineDashOffset.jpg 590w,
/static/5bdd5c5a6a0936c949641f522f708753/c59a2/dynamicLineDashOffset.jpg 634w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/5bdd5c5a6a0936c949641f522f708753/c739e/dynamicLineDashOffset.jpg&quot;
          alt=&quot;dynamicLineDashOffset&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;ç»˜åˆ¶çº¿æ®µæ—¶ï¼Œè¦ç†è§£ canvas å½“å‰è·¯å¾„æ¦‚å¿µï¼ŒæŸä¸€æ—¶åˆ»ï¼Œcanvas ä¸­å½“å‰è·¯å¾„åªæœ‰ä¸€æ¡ï¼Œåœ¨å¼€å§‹æ–°çš„è·¯å¾„æ—¶ï¼Œå¿…é¡»è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;beginPath()&lt;/code&gt;ã€‚å¯ä»¥é€šè¿‡è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;lineWidth&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;lineCap&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;lineJoin&lt;/code&gt;è®¾ç½®çº¿æ®µçš„ç»˜åˆ¶æ ·å¼ã€‚åœ¨æè¾¹çº¿æ®µæ—¶ï¼Œå¯ä»¥é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;strokeStyle&lt;/code&gt;æ¥è®¾ç½®çº¿æ®µçš„é¢œè‰²ã€‚&lt;/p&gt;
&lt;p&gt;canvas ä¸­ä¸ä»…å¯ä»¥ç»˜åˆ¶å®çº¿ï¼Œè¿˜å¯ä»¥é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;lineDashOffset&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;setLineDash()&lt;/code&gt;æ¥ç»˜åˆ¶è™šçº¿ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[canvasæ ¸å¿ƒæŠ€æœ¯]]></title><description><![CDATA[æœ€è¿‘é¡¹ç›®éœ€æ±‚ä¸­è¦å†™è¾ƒå¤š H5 å°æ¸¸æˆï¼Œæ¸¸æˆæœ¬èº«ä½“é‡ä¸æ˜¯å¾ˆå¤æ‚ï¼Œä¸»è¦æ˜¯æ‰¿è½½è¾ƒå¤šä¸šåŠ¡é€»è¾‘ï¼Œæ‰€ä»¥å†³å®šç”¨ canvas æ¥å®Œæˆæ¸¸æˆéƒ¨åˆ†ã€‚ä¹‹å‰åªæ˜¯çŸ¥é“ H5 ä¸­æœ‰ canvas è¿™ä¸ªä¸œè¥¿ï¼Œä¹ŸçŸ¥é“å®ƒå¤§æ¦‚æ˜¯ç”»å›¾çš„ï¼Œä½†å…·ä½“æ€ä¹ˆç”¨ï¼Œè¿˜æ˜¯ä¸€æ— æ‰€çŸ¥çš„ã€‚åœ¨MDNåœ¨çœ‹äº†ä¸€äº›ç›¸å…³èµ„æ–™ï¼Œä¸€å£æ°”ä¹Ÿçœ‹äº†HTMLâ€¦]]></description><link>https://snayan.github.io//post/core_html5_canvas/</link><guid isPermaLink="false">https://snayan.github.io//post/core_html5_canvas/</guid><pubDate>Mon, 09 Jul 2018 19:53:41 GMT</pubDate><content:encoded>&lt;p&gt;æœ€è¿‘é¡¹ç›®éœ€æ±‚ä¸­è¦å†™è¾ƒå¤š H5 å°æ¸¸æˆï¼Œæ¸¸æˆæœ¬èº«ä½“é‡ä¸æ˜¯å¾ˆå¤æ‚ï¼Œä¸»è¦æ˜¯æ‰¿è½½è¾ƒå¤šä¸šåŠ¡é€»è¾‘ï¼Œæ‰€ä»¥å†³å®šç”¨ canvas æ¥å®Œæˆæ¸¸æˆéƒ¨åˆ†ã€‚ä¹‹å‰åªæ˜¯çŸ¥é“ H5 ä¸­æœ‰ canvas è¿™ä¸ªä¸œè¥¿ï¼Œä¹ŸçŸ¥é“å®ƒå¤§æ¦‚æ˜¯ç”»å›¾çš„ï¼Œä½†å…·ä½“æ€ä¹ˆç”¨ï¼Œè¿˜æ˜¯ä¸€æ— æ‰€çŸ¥çš„ã€‚åœ¨&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial&quot;&gt;MDN&lt;/a&gt;åœ¨çœ‹äº†ä¸€äº›ç›¸å…³èµ„æ–™ï¼Œä¸€å£æ°”ä¹Ÿçœ‹äº†&lt;a href=&quot;https://book.douban.com/subject/24533314/&quot;&gt;HTML 5 Canvas æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;å’Œ&lt;a href=&quot;https://book.douban.com/subject/27088021/&quot;&gt;HTML5 2D æ¸¸æˆç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯&lt;/a&gt;ï¼Œå¯¹ canvas H5 æ¸¸æˆç¼–ç¨‹æœ‰äº†å¤§è‡´çš„äº†è§£ï¼Œå‘ç° canvas æ¸¸æˆç¼–ç¨‹å…¶å®æŒºæœ‰è¶£çš„ã€‚ç›®å‰ä¹Ÿåœ¨å­¦ä¹  webgl ç›¸å…³çŸ¥è¯†ï¼Œæ‰“ç®—æŠŠå‰ç«¯å¯è§†åŒ–è¿™ä¸€å—ä¹Ÿæ·±å…¥å­¦ä¹ ã€‚ç°åœ¨å…ˆè®°å½•ä¸€äº›è‡ªå·±è®¤ä¸º canvas æ¯”è¾ƒé‡è¦çš„çŸ¥è¯†ï¼Œå›é¡¾å’Œå†å­¦ä¹ ã€‚åç»­åœ¨è®°å½• webgl ç›¸å…³çŸ¥è¯†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          ä¸»è¦çŸ¥è¯†ç‚¹
        &lt;/h3&gt;
      
&lt;p&gt;æœ¬ç³»åˆ—ä¸»è¦æ·±å…¥å­¦ä¹  canvas 2d ç¼–ç¨‹ä¸­ç›¸å…³æ¯”è¾ƒé‡è¦å’ŒåŸºç¡€çš„çŸ¥è¯†ï¼Œç®—æ˜¯å¯¹ã€ŒHTML 5 Canvas æ ¸å¿ƒæŠ€æœ¯ã€è¿™æœ¬ä¹¦çš„è¯»åæ„Ÿï¼Œå¤§è‡´çŸ¥è¯†ç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºç¡€çŸ¥è¯†ï¼Œå­¦ä¹ å¦‚ä½•ç»˜åˆ¶çº¿æ®µï¼Œå›¾å½¢ï¼Œå›¾ç‰‡ï¼Œæ–‡æœ¬ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;åŠ¨ç”»çŸ¥è¯†ï¼Œå­¦ä¹ å¦‚ä½•ç”¨ canvas å®ç°ç®€å•çš„åŠ¨ç”»ä»¥åŠç›¸å…³å½±å“å› ç´ &lt;/li&gt;
&lt;li&gt;ç¢°æ’æ£€æµ‹ï¼Œå­¦ä¹ å¦‚ä½•æ£€æµ‹ä¸¤ä¸ªç‰©ä½“åœ¨è¿åŠ¨è¿‡ç¨‹ä¸­æ˜¯å¦å‘ç”Ÿç¢°æ’&lt;/li&gt;
&lt;li&gt;2D æ¸¸æˆå¼€å‘ï¼Œå­¦ä¹ ç”¨ canvas å¼€å‘ 2D æ¸¸æˆ&lt;/li&gt;
&lt;li&gt;canvas ç›¸å…³å°çŸ¥è¯†ç‚¹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæœ€å¥½æ˜¯è‡ªå·±èƒ½åŠ¨æ‰‹å®ç°ï¼Œæˆ‘å°±ä¸“é—¨å»ºäº†ä¸€ä¸ª canvas demo çš„é¡¹ç›®ï¼Œé‡Œé¢éƒ½æ˜¯è‡ªå·±åœ¨å­¦ä¹  canvas æ—¶åŠ¨æ‰‹å†™çš„ä¸€äº›ä¾‹å­ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;é¡¹ç›®ä»“åº“åœ°å€ï¼š&lt;a href=&quot;https://github.com/snayan/canvas-demo&quot;&gt;https://github.com/snayan/canvas-demo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;demo é¢„è§ˆåœ°å€ï¼š&lt;a href=&quot;https://snayan.github.io/canvas-demo/&quot;&gt;https://snayan.github.io/canvas-demo/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä¼šæŒ‰ç…§ä¸Šé¢çš„ä¸»è¦çŸ¥è¯†ç‚¹ï¼Œåˆ†ç¯‡å¹…æ¥å­¦ä¹ å’Œå›é¡¾ canvas ç›¸å…³çš„æ ¸å¿ƒæŠ€æœ¯ã€‚ä¸»è¦å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/post/how_to_draw_line/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶çº¿æ®µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/post/how_to_draw_graphics/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•ç»˜åˆ¶å›¾å½¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/post/how_to_draw_image_and_text/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å›¾ç‰‡å’Œæ–‡æœ¬&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/post/how_to_implement_simple_animations/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°ç®€å•åŠ¨ç”»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/post/how_to_implement_complex_animations/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°å¤æ‚åŠ¨ç”»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/post/how_to_detect_collision/&quot;&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°ç¢°æ’æ£€æµ‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å¦‚ä½•å®ç°ä¸€ä¸ªç®€å•çš„ 2D æ¸¸æˆå¼•æ“&lt;/li&gt;
&lt;li&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å®½é«˜ï¼Œæ¸å˜ï¼Œç»˜åˆ¶çœŸæ­£ 1px çº¿æ®µ&lt;/li&gt;
&lt;li&gt;canvas æ ¸å¿ƒæŠ€æœ¯-å‘é‡ï¼Œä¸‰è§’å‡½æ•°&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[webpackæ„å»ºå¸¸è§æµç¨‹]]></title><description><![CDATA[ç°åœ¨å‰ç«¯é¡¹ç›®çš„æ„å»ºä¸€èˆ¬åŸºæœ¬éƒ½æ˜¯åŸºäº webpack çš„ã€‚é¡¹ç›®çš„æŠ€æœ¯æ ˆç›®å‰æ¯”è¾ƒä¸»æµçš„æ˜¯ react å…¨å®¶æ¡¶å’Œ vue å…¨å®¶æ¡¶ã€‚
è¶ç©ºé—²ï¼Œä»¥å…¬å¸ä¸€ä¸ªé¡¹ç›®æ•´ç†äº† webpack æ„å»ºå¸¸è§çš„æµç¨‹,è¿™ä¸ªé¡¹ç›®æ˜¯ä½¿ç”¨ vueâ€¦]]></description><link>https://snayan.github.io//post/process_of_webpack_build_project/</link><guid isPermaLink="false">https://snayan.github.io//post/process_of_webpack_build_project/</guid><pubDate>Wed, 27 Jun 2018 16:03:05 GMT</pubDate><content:encoded>&lt;p&gt;ç°åœ¨å‰ç«¯é¡¹ç›®çš„æ„å»ºä¸€èˆ¬åŸºæœ¬éƒ½æ˜¯åŸºäº webpack çš„ã€‚é¡¹ç›®çš„æŠ€æœ¯æ ˆç›®å‰æ¯”è¾ƒä¸»æµçš„æ˜¯ react å…¨å®¶æ¡¶å’Œ vue å…¨å®¶æ¡¶ã€‚
è¶ç©ºé—²ï¼Œä»¥å…¬å¸ä¸€ä¸ªé¡¹ç›®æ•´ç†äº† webpack æ„å»ºå¸¸è§çš„æµç¨‹,è¿™ä¸ªé¡¹ç›®æ˜¯ä½¿ç”¨ vue å…¨å®¶æ¡¶å¼€å‘çš„ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          æŠ€æœ¯æ ˆ
        &lt;/h3&gt;
      
&lt;ul&gt;
&lt;li&gt;vue&lt;/li&gt;
&lt;li&gt;typescript&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          æµè§ˆå™¨æ”¯æŒ
        &lt;/h3&gt;
      
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;browserslist&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;&gt; 1%&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;last 2 versions&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;not ie &amp;lt;= 9&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;Android &gt;= 4.3&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          æµç¨‹å›¾
        &lt;/h3&gt;
      
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bd566805aa9d655a68cebd7f4b25061e/fbfd0/webpack_build.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.27743902439024%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAC8klEQVQoz4VSa0iTYRR+nZjgBVuZFnnDLkQEUT+SCqJfQURFBhlWWGGiAzMIKk0x75GhOfdtNsVNPt3Ntrl5V/TT7dvNuRy2prU5beYUzVuESG6evq2kHxUdeHlfzjnP8z7P4SBExau2cvTfmEVhkV93Zh+0xpVQp3jP6q5ctIJC/+grVKT77iplFS1XkXyspDv95CPRtYT8ltSEgo7bpx+33Yj3NXhQXIrzskfmYILcxoSM6euAAEV7S4R16oLKMp2ktnyORlW9JX7e5N3a4yG4Dp9qGK6B2n7uJoeocEvfS4Crxtg+wk0Ul227tzCoaQC1Coe8jxkr1CdRFCuNHHfJSavLrB2bPYfaTUZ/AECJ7LAQmaF/UmAUwJuhTg9fw9voGicB14owH+E6ismy3ZqQ6ZnfFDps9b7t5idK4e5/juhKTVCw1NAz2WTEQaiVu3lk3UbH+ADgGgHLW6+E0m2hX1A4akZ0lIMigxZReOzGAf8t/MOCFz8flPcM7dg8L7ni6HapscshNAlApFV46tUU4dgANGrE1b8wwa0MCNRbl/gGyyJ/vBSCvElb+8vYFZKtX1JhjlWSI0e9JvtVYsSZl1R+hC7WKycFw40gMsg9PLKWUkhQhEL2mgIFDJGHI+3TD2LVljE2MWmvkzpa9noJR2VlUYsqrGWur0q9rMZe/7bMDQwW6eQO3MAHoU7qrie5bolZBkIVJnEpM3ve4llOu5Qx6mhjcizPTFMT9SOcv85OaSR9czhfiUIoy07xiBgkRgXwtXXQaiWgeaBOSeSWzRN5NdBfwIShcqHOdWIGHBc/iLy4tYgFmquPQzOLC2lreq4fquwu8q1NYnV4sEAneVev4a41aSXLtSrWUpOheV00iOFmLIcwsZ47TaxilxF7mmbJ3KAPPekO9+LmUh3I3sFGy2o2Whio9i42w6eUpajxoxY7pqgjdV9RZ1p8aScjPr/tzv5SRUoEeM6EgvsUHb6f3QFwKGDL3fylmT8c/wC9epX40V0ESAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/bd566805aa9d655a68cebd7f4b25061e/cc182/webpack_build.webp 148w,
/static/bd566805aa9d655a68cebd7f4b25061e/f7e40/webpack_build.webp 295w,
/static/bd566805aa9d655a68cebd7f4b25061e/1a2f4/webpack_build.webp 590w,
/static/bd566805aa9d655a68cebd7f4b25061e/4837b/webpack_build.webp 885w,
/static/bd566805aa9d655a68cebd7f4b25061e/2f819/webpack_build.webp 1180w,
/static/bd566805aa9d655a68cebd7f4b25061e/04463/webpack_build.webp 1312w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/bd566805aa9d655a68cebd7f4b25061e/cf440/webpack_build.png 148w,
/static/bd566805aa9d655a68cebd7f4b25061e/d2d38/webpack_build.png 295w,
/static/bd566805aa9d655a68cebd7f4b25061e/b9e4f/webpack_build.png 590w,
/static/bd566805aa9d655a68cebd7f4b25061e/f9b6a/webpack_build.png 885w,
/static/bd566805aa9d655a68cebd7f4b25061e/2d849/webpack_build.png 1180w,
/static/bd566805aa9d655a68cebd7f4b25061e/fbfd0/webpack_build.png 1312w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/bd566805aa9d655a68cebd7f4b25061e/b9e4f/webpack_build.png&quot;
          alt=&quot;webpack build&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          åŠŸèƒ½
        &lt;/h3&gt;
      
&lt;ul&gt;
&lt;li&gt;babel&lt;/li&gt;
&lt;li&gt;postcss&lt;/li&gt;
&lt;li&gt;eslint&lt;/li&gt;
&lt;/ul&gt;

        &lt;h4 id=&apos;toc-4-1&apos; &gt;
          babel
        &lt;/h4&gt;
      
&lt;blockquote&gt;
&lt;p&gt;Babel is a JavaScript compiler.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è®©æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¾ƒæ–° JavaScript ç‰¹æ€§ã€‚å¯ä»¥é€šè¿‡.babelrcæ–‡ä»¶æŒ‡å®šæˆ‘ä»¬éœ€è¦ç¼–è¯‘åˆ°çš„ç›®æ ‡ç‰ˆæœ¬&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;presets&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;env&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;modules&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;useBuiltIns&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;usage&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;stage-2&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;plugins&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;transform-vue-jsx&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;transform-runtime&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h4 id=&apos;toc-4-2&apos; &gt;
          postcss
        &lt;/h4&gt;
      
&lt;blockquote&gt;
&lt;p&gt;a tool for transforming styles with JS plugins&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯ä»¥è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä½¿ç”¨ä¸€äº›è¾ƒæ–° css çš„ç‰¹æ€§ã€‚å¯ä»¥é€šè¿‡&lt;strong&gt;.postcssrc.js&lt;/strong&gt;æ–‡ä»¶æŒ‡å®šæˆ‘ä»¬é…ç½®çš„ postcss æ’ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥é€šè¿‡ rem æ–¹æ¡ˆæ¥å¤„ç†ç§»åŠ¨è®¾å¤‡ä¸Šçš„é€‚é…ï¼Œåœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨äº† px2rem æ’ä»¶æ¥å°† px è½¬ä¸º remã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨äº† postcss-import å°†@import å¼•å…¥çš„ css æ–‡ä»¶å†…å®¹å†…è”åˆ°å½“å‰æ–‡ä»¶å†…&lt;/li&gt;
&lt;li&gt;postcss-urlï¼Œé…åˆ postcss-import ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;postcss-cssnextï¼Œä½¿ç”¨ä¸€äº› css æ–°ç‰¹æ€§ï¼Œç›®å‰å·²å»ºè®®ä½¿ç”¨ postcss-preset-env æ›¿æ¢ã€‚&lt;/li&gt;
&lt;li&gt;postss-pxtoremï¼Œå°† px è½¬ä¸º rem&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  plugins&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;postcss-import&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      path&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;src/css/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;postcss-url&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;postcss-cssnext&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;postcss-pxtorem&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      rootValue&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      unitPrecision&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      propList&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      selectorBlackList&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      replace&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      mediaQuery&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      minPixelValue&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h4 id=&apos;toc-4-3&apos; &gt;
          tslint
        &lt;/h4&gt;
      
&lt;blockquote&gt;
&lt;p&gt;An extensible linter for the TypeScript language.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®šåˆ¶é¡¹ç›® javascript ä½¿ç”¨çš„æ ‡å‡†åŒ–ï¼Œå»ºè®®å°†å¤šä¸ªé¡¹ç›®ç»Ÿä¸€å®šåˆ¶ä¸ºä¸€å¥—ã€‚å¯ä»¥åœ¨ tslint.json ä¸­å®šåˆ¶é¡¹ç›®çš„æ£€æŸ¥è§„åˆ™ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;extends&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;tslint:recommended&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;rulesDirectory&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;path/to/custom/rules/directory/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;another/path/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;rules&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;max-line-length&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;options&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;new-parens&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;no-arg&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;no-bitwise&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;no-conditional-assignment&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;no-consecutive-blank-lines&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;no-console&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;severity&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;warning&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;options&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;info&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;timeEnd&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;trace&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;jsRules&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;max-line-length&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;options&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          ç¯å¢ƒé…ç½®
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨é…ç½® webpack æ–‡ä»¶æ—¶ï¼Œåˆ† dev å’Œ prod ç¯å¢ƒï¼Œä¸åŒçš„ç¯å¢ƒé…ç½®é¡¹æœ‰æ‰€å·®åˆ«ï¼Œä¸»è¦ä½“ç°åœ¨ plugin çš„ä½¿ç”¨ä¸Šã€‚ä¸»è¦æœ‰ä¸‰ä¸ª webpack é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;webpack.base.conf.jsï¼Œdev å’Œ prod å…¬ç”¨çš„åŸºç¡€é…ç½®ï¼Œä¸»è¦ loader çš„é…ç½®&lt;/li&gt;
&lt;li&gt;webpack.dev.conf.jsï¼Œdev ç¯å¢ƒçš„é…ç½®ï¼Œä¸»è¦é…ç½®äº† webpack-dev-serveï¼Œä¾›å¼€å‘ç¯å¢ƒä½¿ç”¨&lt;/li&gt;
&lt;li&gt;webpack.prod.conf.jsï¼Œproduction ç¯å¢ƒçš„é…ç½®ï¼Œä¸»è¦å¢åŠ äº†ä¸€äº›ä¼˜åŒ–çš„é…ç½®ï¼Œæ¯”å¦‚ OptimizeCSSPluginï¼ŒUglifyJsPlugin
å¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡æƒ…å†µï¼Œé…ç½®ä¸åŒç¯å¢ƒå˜é‡ï¼Œæ¯”å¦‚ï¼Œæˆ‘æ•´ç†çš„è¿™ä¸ªé¡¹ç›®ï¼Œæ˜¯ä¼šåŒºåˆ†ä¸åŒå›½å®¶ï¼Œä»¥åŠä¸åŒçš„æµ‹è¯•éƒ¨ç½²ç¯å¢ƒã€‚åœ¨åŒºåˆ†ä¸åŒå›½å®¶ï¼Œä¸åŒéƒ¨ç½²ç¯å¢ƒæ—¶ï¼Œé‡‡ç”¨äº† testï¼Œstagingï¼Œlive ç­‰ç¯å¢ƒåç§°ã€‚development å’Œ production åªæ˜¯é’ˆå¯¹å¼€å‘äººå‘˜è€Œè¨€çš„ï¼Œåœ¨æœ¬åœ°å¼€å‘å°±æ˜¯ developmentï¼Œä»£ç éƒ¨ç½²åˆ° testï¼Œstagingï¼Œlive éƒ½æ˜¯ productionã€‚å¯¹ä¸åŒå›½å®¶ï¼Œä¸åŒéƒ¨ç½²ç¯å¢ƒï¼Œåˆæœ‰ dev.env.js å’Œ prod.env.js.è¿™ä¸¤ä¸ªæ–‡ä»¶å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡å‚æ•°ä¸åŒè€Œå·²ã€‚å¯ä»¥ç»Ÿä¸€ä» process.env.env å’Œ process.env.cid æ‹¿å‚æ•°ï¼Œè¿™æ ·å°±å¯ä»¥ä¸éœ€è¦è¿™ä¸¤ä¸ªé…ç½®æ–‡ä»¶äº†ï¼Œä¸”ä¸éœ€è¦åœ¨ build è„šæœ¬ä¸­å»åŠ¨æ€æ›¿æ¢ prod.env.js é‡Œçš„é…ç½®é¡¹ï¼ˆä¸ªäººè§‰å¾—ï¼Œå¯ä»¥è®¨è®ºï¼‰&lt;/li&gt;
&lt;li&gt;dev.env.js&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; merge &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;webpack-merge&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; prodEnv &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./prod.env&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prodEnv&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot;development&quot;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  country&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot;sg&quot;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  environment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot;test&quot;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;prod.env.js&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;COUNTRY&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sg&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; shopeeEnvironment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;live&quot;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot;production&quot;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  country&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;COUNTRY&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  environment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; shopeeEnvironment &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&quot;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-6&apos; &gt;
          ä½¿ç”¨
        &lt;/h3&gt;
      
&lt;ul&gt;
&lt;li&gt;åœ¨ dev å¼€å‘ç¯å¢ƒï¼Œéœ€æ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;npm run start&lt;/code&gt;æˆ–è€…&lt;code class=&quot;language-text&quot;&gt;yarn start&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ build æ—¶ï¼Œéœ€æ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;npm run build&lt;/code&gt;æˆ–è€…&lt;code class=&quot;language-text&quot;&gt;yarn build&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-7&apos; &gt;
          å…¶ä»–
        &lt;/h3&gt;
      
&lt;ul&gt;
&lt;li&gt;babel-polyfillï¼Œå¯¹ä¸åŒè®¾å¤‡å¯¹ js çš„å…¼å®¹ï¼Œ&lt;strong&gt;å¯ä»¥è€ƒè™‘ä½¿ç”¨ polyfill.ioï¼Œé’ˆå¯¹å…·ä½“è®¾å¤‡å¼•å…¥å…·ä½“çš„ feature&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;normalize.cssï¼Œé’ˆå¯¹ Html5ï¼Œæ ·å¼ reset&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[vue å…¨å®¶æ¡¶åˆæ¢]]></title><description><![CDATA[è¿™ä¸ªé¡¹ç›®ä¸»è¦æ˜¯ç”¨ vue+vuex å®ç°ä¸€ä¸ªå•é¡µé¢åº”ç”¨ï¼Œçº¯ç²¹æ˜¯ç†Ÿæ‚‰ vue å…¨å®¶æ¡¶ç›¸å…³å¼€å‘æ¨¡å¼ï¼Œç”¨äºç»ƒæ‰‹éå¸¸åˆé€‚ã€‚
ç€æ‰‹å¼€å‘å®Œäº†ä¹‹åå¯ä»¥å­¦çš„ä¸œè¥¿ï¼šç†Ÿæ‚‰ vue å•æ–‡ä»¶ç»„ä»¶å¼€å‘æ–¹å¼ç†Ÿæ‚‰å¦‚ä½•å†™ä¸€ä¸ª vue æ’ä»¶ç†Ÿæ‚‰å¦‚ä½•ä½¿ç”¨ vue-router ä»¥åŠæŒ‚è½½è·¯ç”±é’©å­å‡½æ•°ç†Ÿæ‚‰ vuexâ€¦]]></description><link>https://snayan.github.io//post/vue_technology_stack/</link><guid isPermaLink="false">https://snayan.github.io//post/vue_technology_stack/</guid><pubDate>Fri, 15 Jun 2018 09:51:44 GMT</pubDate><content:encoded>
        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          ç›®çš„
        &lt;/h2&gt;
      
&lt;p&gt;è¿™ä¸ªé¡¹ç›®ä¸»è¦æ˜¯ç”¨ vue+vuex å®ç°ä¸€ä¸ªå•é¡µé¢åº”ç”¨ï¼Œçº¯ç²¹æ˜¯ç†Ÿæ‚‰ vue å…¨å®¶æ¡¶ç›¸å…³å¼€å‘æ¨¡å¼ï¼Œç”¨äºç»ƒæ‰‹éå¸¸åˆé€‚ã€‚
ç€æ‰‹å¼€å‘å®Œäº†ä¹‹åå¯ä»¥å­¦çš„ä¸œè¥¿ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç†Ÿæ‚‰ vue å•æ–‡ä»¶ç»„ä»¶å¼€å‘æ–¹å¼&lt;/li&gt;
&lt;li&gt;ç†Ÿæ‚‰å¦‚ä½•å†™ä¸€ä¸ª vue æ’ä»¶&lt;/li&gt;
&lt;li&gt;ç†Ÿæ‚‰å¦‚ä½•ä½¿ç”¨ vue-router ä»¥åŠæŒ‚è½½è·¯ç”±é’©å­å‡½æ•°&lt;/li&gt;
&lt;li&gt;ç†Ÿæ‚‰ vuex æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Œæ¨¡å—åŒ–ç»´æŠ¤åº”ç”¨çŠ¶æ€æ•°æ®&lt;/li&gt;
&lt;li&gt;ä½“éªŒ typescript çš„å¼€å‘æ–¹å¼
å¦‚æœæƒ³å­¦ vue çš„ä¸å¦¨è¿›æ¥çœ‹çœ‹ã€‚
é¡¹ç›®æºç åœ°å€ï¼š&lt;a href=&quot;https://github.com/snayan/vue-task&quot;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          æŠ€æœ¯æ ˆ
        &lt;/h2&gt;
      
&lt;ul&gt;
&lt;li&gt;vue&lt;/li&gt;
&lt;li&gt;vuex&lt;/li&gt;
&lt;li&gt;vue-router&lt;/li&gt;
&lt;li&gt;typescript&lt;/li&gt;
&lt;/ul&gt;
&lt;!--more--&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          å¼€å§‹
        &lt;/h2&gt;
      
&lt;p&gt;å¼€å§‹ä¹‹å‰ï¼Œè¿˜æ˜¯æœ‰å¿…è¦å» vue å®˜ç½‘å­¦ä¹ ä¸€ä¸‹ vueï¼Œè‡³å°‘å¾—æœ‰ä¸ªå¤§è‡´çš„äº†è§£ï¼Œåé¢åœ¨ç”¨åˆ° vue-router å’Œ vuex æ—¶ï¼Œå†å»å¯¹åº”çš„ä»“åº“çœ‹æ–‡æ¡£å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://cn.vuejs.org/v2/guide/&quot;&gt;vue å®˜ç½‘åœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://router.vuejs.org/&quot;&gt;vue-router åœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://vuex.vuejs.org/&quot;&gt;vuex åœ°å€&lt;/a&gt;
åˆ›å»ºé¡¹ç›®å¯ä»¥ç”¨ vue-cliï¼Œå…·ä½“çœ‹&lt;a href=&quot;https://github.com/vuejs/vue-cli/blob/dev/docs/README.md&quot;&gt;è¿™é‡Œ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

        &lt;h2 id=&apos;toc-2-4&apos; &gt;
          ç»“æ„
        &lt;/h2&gt;
      
&lt;p&gt;é¡¹ç›®ç»“æ„ä¸€èˆ¬æ¥è¯´éå¸¸é‡è¦ï¼Œå®šä¹‰å¥½çš„ç›®å½•ç»“æ„ï¼Œéå¸¸åˆ©äºåç»­çš„é¡¹ç›®ç»´æŠ¤ï¼Œä»¥åŠåˆ«äººé˜…è¯»ç†è§£ã€‚ä¸‹é¢å°±æ˜¯è¿™ä¸ªé¡¹ç›®çš„ç»“æ„ï¼Œåº”è¯¥çœ‹ä¸€ä¸‹å°±çŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œå¤§è‡´è¯´ä¸€ä¸‹ã€‚
é¡¹ç›®ç»“æ„åˆ†ä¸ºé™æ€èµ„æºç›®å½•ï¼Œapi æ¥å£è¯·æ±‚ç›®å½•ï¼Œç»„ä»¶ç›®å½•ï¼Œæ’ä»¶ç›®å½•ï¼Œè·¯ç”±é…ç½®ç›®å½•ï¼Œå…¬å…±æ ·å¼ç›®å½•ï¼ŒçŠ¶æ€ç»´æŠ¤ç›®å½•ï¼Œå·¥å…·ç±»ç›®å½•ï¼Œé¡µé¢è§†å›¾ç›®å½•ã€‚
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/77f26178714fcfd80de8a06f8e44a4ee/0c499/vue-structure.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 78.04878048780488%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAABMUlEQVQoz5WT2W7DIBBF/SuR2QdqnMVxbDaDSSulatU+9v8/pKTNays8ukJI6MKZ0aVZvX5/dZ0+YEwoZZiQsqlUMy6HcDWX0Qzn8zTPuu8RwrVmvujxZtawKvVECC2qsf1W007yuOpBd231gwgRzpjgrBFK2KysNYxyhDc0fMeWAvw4pJSctYxSWjewB7YE+EhsdcfnZcp+OO1V25bzOmwl4SuQdXE5XwGAbMJWADfbLSHMsylXbutZCfl2iTHETvftfeKbBibli9MpxuNpKF5yDxmtVNP1fZ5wTFF2PQPJpapXAwI+B5lCOI+X+mA+sDGm+OlknQ9hAZAlnozx8kNqclrMZKf2MaaccwjBGFtW59w8lcwx9APzVzUt5bsefMrWJ+MjFQozIEwSLhEV/+sb3fqd0njUfL0AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/77f26178714fcfd80de8a06f8e44a4ee/cc182/vue-structure.webp 148w,
/static/77f26178714fcfd80de8a06f8e44a4ee/f7e40/vue-structure.webp 295w,
/static/77f26178714fcfd80de8a06f8e44a4ee/1a2f4/vue-structure.webp 590w,
/static/77f26178714fcfd80de8a06f8e44a4ee/4837b/vue-structure.webp 885w,
/static/77f26178714fcfd80de8a06f8e44a4ee/92980/vue-structure.webp 902w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/77f26178714fcfd80de8a06f8e44a4ee/cf440/vue-structure.png 148w,
/static/77f26178714fcfd80de8a06f8e44a4ee/d2d38/vue-structure.png 295w,
/static/77f26178714fcfd80de8a06f8e44a4ee/b9e4f/vue-structure.png 590w,
/static/77f26178714fcfd80de8a06f8e44a4ee/f9b6a/vue-structure.png 885w,
/static/77f26178714fcfd80de8a06f8e44a4ee/0c499/vue-structure.png 902w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/77f26178714fcfd80de8a06f8e44a4ee/b9e4f/vue-structure.png&quot;
          alt=&quot;vue structure&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-5&apos; &gt;
          å•é¡µé¢ç»„ä»¶
        &lt;/h2&gt;
      
&lt;p&gt;vue å¼€å‘ä¸€èˆ¬éƒ½æ˜¯å•é¡µé¢ç»„ä»¶çš„æ–¹å¼ï¼Œå³ä¸€ä¸ªä»¥ vue ä¸ºåç¼€çš„æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œç»„ä»¶é‡ŒåŒ…å«äº† template æ¨¡ç‰ˆï¼Œscript è„šæœ¬ï¼Œstyle æ ·å¼ï¼Œç»„ä»¶å†…çš„é€»è¾‘å¯ä»¥å®Œå…¨å°è£…åœ¨é‡Œé¢ï¼Œå¯¹å¤–å¯ä»¥æä¾›æ¥å—çš„ Props æ•°æ®ï¼Œå¯ä»¥å¯¹å¤–å‘å°„ä¸€ä¸ªäº‹ä»¶ emitï¼Œæˆ–è€…å°†å¤–éƒ¨ç»„ä»¶ç»„åˆåˆ°è‡ªå·±å†…éƒ¨çš„ slot é‡Œé¢ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;vue&quot;&gt;&lt;pre class=&quot;language-vue&quot;&gt;&lt;code class=&quot;language-vue&quot;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class=&amp;quot;topNav&amp;quot;&amp;gt;
    &amp;lt;ul class=&amp;quot;list&amp;quot;&amp;gt;
      &amp;lt;li class=&amp;quot;item left&amp;quot;&amp;gt;
        &amp;lt;app-icon :link=&amp;quot;left&amp;quot; @click.native.stop=&amp;quot;clickLeft&amp;quot; /&amp;gt;
      &amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
  &amp;lt;/div&amp;gt;
&amp;lt;/template&amp;gt;

&amp;lt;script lang=&amp;quot;ts&amp;quot;&amp;gt;
import { Component, Prop, Emit, Vue } from &amp;quot;vue-property-decorator&amp;quot;
import AppIcon from &amp;quot;./AppIcon.vue&amp;quot;
import { PREFIX } from &amp;quot;@/store/modules/user/CONSTANTS&amp;quot;

@Component({
  components: {
    AppIcon,
  },
})
export default class TopNav extends Vue {
  @Prop({ required: true })
  private left!: string
  private get avatar() {
    return this.$store.state[PREFIX].avatar
  }
  private clickLeft() {
    this.$emit(&amp;quot;left&amp;quot;)
  }
}
&amp;lt;/script&amp;gt;

&amp;lt;style lang=&amp;quot;scss&amp;quot; scoped&amp;gt;
@import &amp;quot;../scss/theme.scss&amp;quot;;
.topNav {
  background: $topBarBgColor;
  position: fixed;
}
&amp;lt;/style&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h2 id=&apos;toc-2-6&apos; &gt;
          é…ç½®è·¯ç”±
        &lt;/h2&gt;
      
&lt;p&gt;ç”±äºåœ¨å®¢æˆ·ç«¯æ¸²æŸ“çš„å•é¡µé¢åº”ç”¨ï¼Œéœ€è¦åœ¨å®¢æˆ·ç«¯é…ç½®è·¯ç”±ï¼Œå®ç°é¡µé¢é—´çš„åˆ‡æ¢ã€‚å¼€å‘ vue æ—¶å®˜æ–¹æ¨èä½¿ç”¨ vue-routerï¼Œåœ¨é…ç½®è¿™ä¸ªé¡¹ç›®æ—¶ï¼Œç”±äºè€ƒè™‘ç™»å½•æ€çš„ç»´æŠ¤ï¼Œæ‰€ä»¥å¯¹è·¯ç”±é…ç½®åŠ äº† meta æ•°æ®ï¼Œå¹¶å¢åŠ äº†è·¯ç”±è·³è½¬é’©å­å‡½æ•°ï¼Œè¿›è¡Œé‰´æƒæ§åˆ¶å—ç™»å½•æ€çš„é¡µé¢ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Vue &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;vue&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Router &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;vue-router&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Sign &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@/views/Sign.vue&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Me &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@/views/Me.vue&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; hasLogin &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@/util/session&quot;&lt;/span&gt;

Vue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Router&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; router &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Router&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  mode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;history&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  routes&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      path&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sign&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      component&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Sign&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      path&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/me&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;me&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      component&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Me&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      meta&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; requiredAuth&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

router&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;to&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;matched&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;some&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;record&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; record&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;meta&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;requiredAuth&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// this route requires auth, check if logged in&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// if not, redirect to login page.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasLogin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        path&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        query&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; redirect&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fullPath &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// ç¡®ä¿ä¸€å®šè¦è°ƒç”¨ next()&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; router&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h2 id=&apos;toc-2-7&apos; &gt;
          vue æ’ä»¶ç¼–å†™
        &lt;/h2&gt;
      
&lt;p&gt;å¯¹äºé‚£ç§éœ€è¦å…¨ç»„ä»¶å…±äº«ï¼Œæˆ–è€…å…¨å±€æ³¨å…¥çš„æ–¹æ³•ç­‰å¯ä»¥ä½¿ç”¨ vue æ’ä»¶ã€‚å…¶å®ï¼Œvue-router å’Œ vuex å®é™…å°±æ˜¯ vue çš„æ’ä»¶ï¼Œåœ¨å…¥å£å¤„ï¼Œè°ƒ&lt;code class=&quot;language-text&quot;&gt;Vue.use(Router);&lt;/code&gt; å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚ &lt;code class=&quot;language-text&quot;&gt;Vue.use(Router);&lt;/code&gt;
ä¸€ä¸ªæ’ä»¶ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…ä¸€ä¸ªåŒ…å«&lt;code class=&quot;language-text&quot;&gt;install&lt;/code&gt;æ–¹æ³•çš„å¯¹è±¡ï¼Œåœ¨è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;Vue.use&lt;/code&gt;æ—¶ï¼Œä¼šè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;install&lt;/code&gt;æ–¹æ³•ã€‚
åœ¨æ’ä»¶é‡Œï¼Œæˆ‘ä»¬å¯ä»¥&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ·»åŠ å…¨å±€æ–¹æ³•æˆ–è€…å±æ€§ï¼Œ&lt;/li&gt;
&lt;li&gt;æ·»åŠ å…¨å±€èµ„æº&lt;/li&gt;
&lt;li&gt;é€šè¿‡å…¨å±€ mixin æ–¹æ³•æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹&lt;/li&gt;
&lt;li&gt;æ·»åŠ  Vue å®ä¾‹æ–¹æ³•&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Vue&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; VueConstructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; PluginObject &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;vue&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Loading &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./Loading.vue&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;ShowFunc&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; plugin&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PluginObject&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Vue&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; VueConstructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;CONSTRUCTOR&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Vue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Loading&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; cache&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Vue &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; show&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ShowFunc &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loading&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; loadingComponent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cache &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cache &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CONSTRUCTOR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;loadingComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$el&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; vm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; loadingComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;$mount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; HTMLElement&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;vm&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$el&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; loadingComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Vue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$loading &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; loading
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; plugin&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h2 id=&apos;toc-2-8&apos; &gt;
          çŠ¶æ€ç®¡ç†
        &lt;/h2&gt;
      
&lt;p&gt;å•é¡µé¢åº”ç”¨çš„çŠ¶æ€ç®¡ç†ä½¿ç”¨ vuexï¼Œä¸Šé¢æåˆ°äº†ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ª vue çš„æ’ä»¶ï¼Œä¼šåœ¨ç»„ä»¶å®ä¾‹ä¸Šæ³¨å…¥$store å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯&lt;code class=&quot;language-text&quot;&gt;new Vuex.Store()&lt;/code&gt;,ç›¸æ¯” redux ï¼Œæˆ‘è§‰å¾— vuex ç®€å•å¾ˆå¤šã€‚ä½¿ç”¨éœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹å°±å¯ä»¥äº†ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ”¹å˜ stateï¼Œå§‹ç»ˆæ˜¯é€šè¿‡ commit ä¸€ä¸ª mutation æ–¹å¼è¿›è¡Œï¼Œmutation å‡½æ•°é‡Œå¿…é¡»æ˜¯åŒæ­¥æ”¹å˜ stateï¼Œä¸èƒ½å¼‚æ­¥æ”¹å˜ stateã€‚å¯¹åº” redux ä¸­ï¼Œå°±æ˜¯ reducer å‡½æ•°çš„åŠŸèƒ½äº†ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºå¼‚æ­¥æ”¹å˜ stateï¼Œå¯ä»¥é€šè¿‡ dispatch ä¸€ä¸ª actionï¼Œaction é‡Œé¢å¼‚æ­¥è·å–æ•°æ®ä¹‹ååœ¨ commit ä¸€ä¸ªå¯¹åº”çš„ mutationã€‚è¿™ä¸ªåœ¨ redux é‡Œï¼Œæ˜¯é€šè¿‡ä¸­é—´ä»¶å¤„ç†å¼‚æ­¥ action çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äº state çš„è¿‡æ»¤ç­›é€‰ï¼Œå¯ä»¥å®šä¹‰ getterï¼Œgetter æ˜¯ç¼“å­˜ä¾èµ–çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºå¤§å‹å¤æ‚çš„ stateï¼Œå¯ä»¥é‡‡ç”¨æ¨¡å—åŒ–çš„æ–¹å¼ç®¡ç†å„ä¸ªæ¨¡å—çš„ stateï¼Œè¿™ä¸ªè·Ÿ redux çš„æ€æƒ³æ˜¯ä¸€æ ·çš„ã€‚
æœ¬æ¬¡é¡¹ç›®ä¹Ÿæ˜¯ç”¨æ¨¡å—åŒ–çš„ç®¡ç†çŠ¶æ€çš„æ–¹å¼ï¼ŒæŠŠæ•´ä¸ªåº”ç”¨çš„çŠ¶æ€ä»¥ä¸šåŠ¡åˆ’åˆ†ä¸ºå­çŠ¶æ€ï¼Œæœ€ååœ¨ modules ä¸­åˆå¹¶&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;  modules&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    user&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    list&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    filter&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯¹äºå•ä¸ªæ¨¡å—çš„ stateï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ³¨æ„ç‚¹å³å¯ä»¥ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// useræ¨¡å—çš„state&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; ActionTree&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; MutationTree&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ActionContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;vuex&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; login&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; loginOut&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; LoginInfo &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@/api/login&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; getUserInfo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; getUserActions &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;@/api/user&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; User &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./user&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; RootState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../rootstate&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; namespaced &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* initial state */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  id&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  username&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  email&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  avatar&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  likes_count&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  goings_count&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  past_count&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* user actions */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; actions&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ActionTree&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;User&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; RootState&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; commit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; state &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ActionContext&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;User&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; RootState&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; LoginInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;payload&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; token&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; token&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; User &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;commit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;saveToken&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; token&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; root&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;commit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;saveUser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getUserInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; commit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; state &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ActionContext&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;User&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; RootState&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getUserInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;user&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;commit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;saveUser&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/* user mutations */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; mutations&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; MutationTree&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;User&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;saveUser&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; user&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id
    state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;username &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;username
    state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;email
    state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;avatar &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;avatar
    state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;likes_count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;likes_count
    state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;goings_count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;goings_count
    state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;past_count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; user&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;past_count
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  actions&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  mutations&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  namespaced&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[react 16å­¦ä¹ (å››)]]></title><description><![CDATA[React ä¸­æ¯”è¾ƒé‡è¦çš„å°±æ˜¯React elementsäº†ï¼Œå¯ä»¥ç†è§£ä¸ºé¡µé¢ä¸­å¯çœ‹åˆ°çš„èŠ‚ç‚¹å…ƒç´ ã€‚ä¸€ä¸ªReact elementçš„ç»“æ„ä¸ºä¸‹é¢è¿™æ ·ï¼Œ
å¯ä»¥çœ‹åˆ°æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªå±æ€§ï¼š$$typeofï¼Œkeyï¼Œpropsï¼Œrefï¼Œtypeã€‚$$typeofï¼šå›ºå®šä¸ºï¼Œåœ¨éªŒè¯Reactâ€¦]]></description><link>https://snayan.github.io//post/learn_react16_part4/</link><guid isPermaLink="false">https://snayan.github.io//post/learn_react16_part4/</guid><pubDate>Wed, 11 Apr 2018 09:48:07 GMT</pubDate><content:encoded>&lt;p&gt;React ä¸­æ¯”è¾ƒé‡è¦çš„å°±æ˜¯&lt;strong&gt;React elements&lt;/strong&gt;äº†ï¼Œå¯ä»¥ç†è§£ä¸ºé¡µé¢ä¸­å¯çœ‹åˆ°çš„èŠ‚ç‚¹å…ƒç´ ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          ç»“æ„
        &lt;/h2&gt;
      
&lt;p&gt;ä¸€ä¸ª&lt;strong&gt;React element&lt;/strong&gt;çš„ç»“æ„ä¸ºä¸‹é¢è¿™æ ·ï¼Œ
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f621474fee94664bcdbb6718dcd1081d/1bf5c/react_element.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 27.232142857142854%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3aAD/8QAFRABAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQEAAQUCp//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABgQAAIDAAAAAAAAAAAAAAAAAAABEBEh/9oACAEBAAE/IUtFR//aAAwDAQACAAMAAAAQc8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAYEAEBAQEBAAAAAAAAAAAAAAABABExUf/aAAgBAQABPxAUEO7Y8sv/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/f621474fee94664bcdbb6718dcd1081d/cc182/react_element.webp 148w,
/static/f621474fee94664bcdbb6718dcd1081d/f7e40/react_element.webp 295w,
/static/f621474fee94664bcdbb6718dcd1081d/1a2f4/react_element.webp 590w,
/static/f621474fee94664bcdbb6718dcd1081d/4837b/react_element.webp 885w,
/static/f621474fee94664bcdbb6718dcd1081d/2f819/react_element.webp 1180w,
/static/f621474fee94664bcdbb6718dcd1081d/9f9b9/react_element.webp 1344w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/f621474fee94664bcdbb6718dcd1081d/8ee9c/react_element.jpg 148w,
/static/f621474fee94664bcdbb6718dcd1081d/ebbe7/react_element.jpg 295w,
/static/f621474fee94664bcdbb6718dcd1081d/c739e/react_element.jpg 590w,
/static/f621474fee94664bcdbb6718dcd1081d/5413e/react_element.jpg 885w,
/static/f621474fee94664bcdbb6718dcd1081d/4efde/react_element.jpg 1180w,
/static/f621474fee94664bcdbb6718dcd1081d/1bf5c/react_element.jpg 1344w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/f621474fee94664bcdbb6718dcd1081d/c739e/react_element.jpg&quot;
          alt=&quot;react element&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªå±æ€§ï¼š&lt;strong&gt;$$typeof&lt;/strong&gt;ï¼Œ&lt;strong&gt;key&lt;/strong&gt;ï¼Œ&lt;strong&gt;props&lt;/strong&gt;ï¼Œ&lt;strong&gt;ref&lt;/strong&gt;ï¼Œ&lt;strong&gt;type&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$$typeofï¼šå›ºå®šä¸º&lt;code class=&quot;language-text&quot;&gt;Symbol(react.element)&lt;/code&gt;ï¼Œåœ¨éªŒè¯React elementæ—¶å°±æ˜¯å–çš„è¿™ä¸ªå€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isValidElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; object &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;object&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    object &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_ELEMENT_TYPE&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;keyï¼šåœ¨å¾ªç¯è¾“å‡º React elements æ—¶åŠ ä¸Š key å±æ€§ï¼Œå¯ä»¥æå¤§çš„ä¼˜åŒ–æ€§èƒ½ï¼Œreact åœ¨è¿›è¡ŒèŠ‚ç‚¹â€diffâ€æ¯”è¾ƒæ—¶ï¼Œä¼šå– key å€¼è¿›è¡Œæ¯”è¾ƒã€‚&lt;/li&gt;
&lt;li&gt;propsï¼šä¼ é€’ç»™ element çš„å±æ€§å¯¹è±¡ï¼Œä¹ŸåŒ…å«äº†å½“å‰å…ƒç´ çš„å­èŠ‚ç‚¹&lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b8204a562291346a8c4f6bac82f1a7da/0626d/element_prop.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 14.06896551724138%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdyQsD//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAXEAADAQAAAAAAAAAAAAAAAAAAARAx/9oACAEBAAE/IYsP/9oADAMBAAIAAwAAABB0D//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQABBQEAAAAAAAAAAAAAAAEhABARMYGR/9oACAEBAAE/EAlwpLprr7a//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b8204a562291346a8c4f6bac82f1a7da/cc182/element_prop.webp 148w,
/static/b8204a562291346a8c4f6bac82f1a7da/f7e40/element_prop.webp 295w,
/static/b8204a562291346a8c4f6bac82f1a7da/1a2f4/element_prop.webp 590w,
/static/b8204a562291346a8c4f6bac82f1a7da/4837b/element_prop.webp 885w,
/static/b8204a562291346a8c4f6bac82f1a7da/2f819/element_prop.webp 1180w,
/static/b8204a562291346a8c4f6bac82f1a7da/d0ccc/element_prop.webp 1450w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b8204a562291346a8c4f6bac82f1a7da/8ee9c/element_prop.jpg 148w,
/static/b8204a562291346a8c4f6bac82f1a7da/ebbe7/element_prop.jpg 295w,
/static/b8204a562291346a8c4f6bac82f1a7da/c739e/element_prop.jpg 590w,
/static/b8204a562291346a8c4f6bac82f1a7da/5413e/element_prop.jpg 885w,
/static/b8204a562291346a8c4f6bac82f1a7da/4efde/element_prop.jpg 1180w,
/static/b8204a562291346a8c4f6bac82f1a7da/0626d/element_prop.jpg 1450w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/b8204a562291346a8c4f6bac82f1a7da/c739e/element_prop.jpg&quot;
          alt=&quot;element prop&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;refï¼šä¿å­˜äº†å¯¹åº”çœŸå® dom çš„èŠ‚ç‚¹çš„è®¿é—®çš„åç§°&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; refs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; inst&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;refs &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; emptyObject &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;inst&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;refs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; inst&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;refs
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;delete&lt;/span&gt; refs&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;stringRef&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    refs&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;stringRef&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; value
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;typeï¼šå½“å‰å…ƒç´ çš„ç±»å‹ï¼Œå–å€¼ä¸º html å…ƒç´ ï¼Œè‡ªå®šä¹‰ç»„ä»¶ï¼ŒFragmentï¼ŒStrictModeï¼ŒAsyncModeã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isValidElementType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; mixed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;string&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Note: its typeof might be other than &apos;symbol&apos; or &apos;number&apos; if it&apos;s a polyfill.&lt;/span&gt;
    type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_FRAGMENT_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
    type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_ASYNC_MODE_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
    type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_STRICT_MODE_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;object&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
      type &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_PROVIDER_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
        type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_CONTEXT_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
        type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_FORWARD_REF_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          æºç åˆ†æ
        &lt;/h2&gt;
      
&lt;p&gt;&lt;strong&gt;React elements&lt;/strong&gt;æ˜¯é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;React.createElement&lt;/code&gt;å‡½æ•°åˆ›å»ºçš„ï¼Œå¯ä»¥åˆ›å»ºå†…éƒ¨é¢„å®šä¹‰çš„å…ƒç´ ç±»å‹ï¼Œè¿™äº›é¢„å®šä¹‰çš„å°±æ˜¯å¯¹åº” html ä¸­çš„åŸå§‹ tagNameï¼ˆå®šä¹‰åœ¨ validateDOMNesting.js æ–‡ä»¶ä¸­ï¼‰ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶çš„å…ƒç´ ç±»å‹ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; propName

  &lt;span class=&quot;token comment&quot;&gt;// Reserved names are extracted&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ref &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; self &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; source &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasValidRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      ref &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ref
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasValidKey&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    self &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__self &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__self
    source &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__source &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__source
    &lt;span class=&quot;token comment&quot;&gt;// Remaining properties are added to a new props object&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;propName &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; propName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RESERVED_PROPS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        props&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Children can be more than one argument, and those are transferred onto&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// the newly allocated props object.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; childrenLength &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arguments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;childrenLength &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; children
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;childrenLength &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; childArray &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;childrenLength&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; childrenLength&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      childArray&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arguments&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; childArray
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Resolve default props&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaultProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; defaultProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaultProps
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;propName &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; defaultProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        props&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; defaultProps&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    $$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_ELEMENT_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    ref&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    props&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _owner&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; owner&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          JSX
        &lt;/h2&gt;
      
&lt;p&gt;åœ¨åˆ›å»º&lt;strong&gt;React elements&lt;/strong&gt;æ—¶ï¼Œç”¨&lt;code class=&quot;language-text&quot;&gt;React.createElement&lt;/code&gt;å®Œå…¨å¯ä»¥æ»¡è¶³ä»»ä½•åœºæ™¯ï¼Œå¹¶ä¸” javascript å‡½æ•°å¼ç¼–ç¨‹çš„æå¤§ä½“ç°ï¼Œæå¤§çš„çµæ´»ã€‚ä½†æ˜¯å‘¢ï¼Œåœ¨ä¸€äº›ç»“æ„å¤æ‚ï¼Œä¸”åµŒå¥—å±‚çº§å¤šçš„ç»“æ„ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;React.createElement&lt;/code&gt;å†™ä¼šè§‰å¾—æ¯”è¾ƒç¹çï¼Œå¹¶ä¸”ç›´è§‚ä¸Šä¸å®¹æ˜“ç†è§£å…ƒç´ çš„ç»“æ„ã€‚äºæ˜¯ï¼Œ&lt;code class=&quot;language-text&quot;&gt;JSX&lt;/code&gt;åº”è¿è€Œç”Ÿï¼Œç”¨å†™ html çš„æ–¹å¼å†™ React elements çš„ç»“æ„ã€‚å®é™…èƒŒåæ˜¯ babelï¼Œä¼šæŠŠ&lt;code class=&quot;language-text&quot;&gt;JSX&lt;/code&gt;è½¬æ¢ä¸º&lt;code class=&quot;language-text&quot;&gt;React.createElement&lt;/code&gt;çš„æ–¹å¼ã€‚è¯¦è§ï¼š&lt;a href=&quot;https://babeljs.io/docs/plugins/transform-react-jsx&quot;&gt;transform-react-jsx&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[react 16å­¦ä¹ (ä¸‰)]]></title><description><![CDATA[ReactDom åœ¨ 16 ç‰ˆæœ¬ä¸­ä¹Ÿæ–°å¢äº†ä¸€äº›æ–°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚createPortalï¼Œhydrateã€‚ä»Šå¤©ä¸»è¦å­¦ä¹ ä¸€ä¸‹createPortalã€‚
å…ˆçœ‹ä¸‹ ReactDom çš„å¤§è‡´åŒ…å«çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ã€‚å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„ï¼Œï¼Œã€‚è¿™é‡Œé¢æ–°å¢äº†ä¸¤ä¸ªæ–°çš„æ–¹æ³•å’Œã€‚ä»¥ unstableâ€¦]]></description><link>https://snayan.github.io//post/learn_react16_part3/</link><guid isPermaLink="false">https://snayan.github.io//post/learn_react16_part3/</guid><pubDate>Wed, 04 Apr 2018 09:11:45 GMT</pubDate><content:encoded>&lt;p&gt;ReactDom åœ¨ 16 ç‰ˆæœ¬ä¸­ä¹Ÿæ–°å¢äº†ä¸€äº›æ–°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚&lt;strong&gt;createPortal&lt;/strong&gt;ï¼Œ&lt;strong&gt;hydrate&lt;/strong&gt;ã€‚ä»Šå¤©ä¸»è¦å­¦ä¹ ä¸€ä¸‹&lt;strong&gt;createPortal&lt;/strong&gt;ã€‚
å…ˆçœ‹ä¸‹ ReactDom çš„å¤§è‡´åŒ…å«çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ReactDom &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  createPortal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//reacte16ä¸­æ–°å¢çš„&lt;/span&gt;
  hydrate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//reacte16ä¸­æ–°å¢çš„&lt;/span&gt;
  findDomNode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  render&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  unmountComponentAtNode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  flushSync&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  unstable_renderSubtreeIntoContainer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  unstable_createPortal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//è¿™ä¸ªå®é™…å°±æ˜¯ç°åœ¨çš„createPortal,å°†åœ¨React17ç‰ˆæœ¬ä¸­ç§»é™¤&lt;/span&gt;
  unstable_batchedUpdates&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  unstable_deferredUpdates&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  unstable_flushControlled&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„&lt;code class=&quot;language-text&quot;&gt;findDomNode&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;unmountComponentAtNode&lt;/code&gt;ã€‚è¿™é‡Œé¢æ–°å¢äº†ä¸¤ä¸ªæ–°çš„æ–¹æ³•&lt;code class=&quot;language-text&quot;&gt;createPortal&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;hydrate&lt;/code&gt;ã€‚ä»¥ unstable_å¼€å¤´çš„è¡¨ç¤ºçš„æ˜¯å½“å‰ç‰ˆæœ¬ä¸­å­˜åœ¨çš„æ–¹æ³•ï¼Œä½†å¯èƒ½ä¼šåœ¨åç»­ç‰ˆæœ¬ä¸­æ”¹åŠ¨æˆ–ç§»é™¤ï¼Œæ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;!--more--&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          createPortal
        &lt;/h2&gt;
      
&lt;p&gt;å…ˆæ¥çœ‹ä¸‹è¿™ä¸ªæ–¹æ³•çš„ç­¾å:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createPortal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token parameter&quot;&gt;children&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ReactNodeList&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  container&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DOMContainer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ReactPortal &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// This tag allow us to uniquely identify this as a React Portal&lt;/span&gt;
    $$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_PORTAL_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    children&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    containerInfo&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    implementation&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ª childrenï¼Œè¦æ¸²æŸ“çš„èŠ‚ç‚¹å…ƒç´ ï¼Œç¬¬äºŒä¸ªæ˜¯ containerï¼Œè¦æ¸²æŸ“çš„å®¹å™¨ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å¯é€‰çš„å‚æ•° keyï¼Œè¿™ä¸ªå‚æ•°ä¸€èˆ¬æ²¡ç”¨ï¼Œé»˜è®¤ä¸º nullã€‚
å®ƒçš„ä½œç”¨å°±æ˜¯åœ¨ä»»æ„åˆæ³•çš„ dom èŠ‚ç‚¹éƒ½å¯ä»¥ç”¨ä½œæ¸²æŸ“çš„å®¹å™¨ï¼Œè€Œä¸ä»…ä»…æ˜¯å½“å‰çˆ¶çº§èŠ‚ç‚¹ã€‚ä¸‹é¢ä¸ºå®˜æ–¹çš„è¯´æ˜:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Portals provide a first-class way to render children into a DOM node that exists outside the DOM hierarchy of the parent component.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;ä¸­æŒ‚è½½ React child åˆ°å®ƒæœ€è¿‘çš„çˆ¶èŠ‚ç‚¹ä¸‹ï¼Œä¾‹å¦‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// React mounts a new div and renders the children into it&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è€Œ&lt;strong&gt;createPortal&lt;/strong&gt;å´å¯ä»¥ä½¿å¾— React child æŒ‚è½½åˆ°ä»»ä½•åˆæ³•çš„ dom èŠ‚ç‚¹ä¸‹&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// React does *not* create a new div. It renders the children into `domNode`.&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// `domNode` is any valid DOM node, regardless of its location in the DOM.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ReactDOM&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createPortal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    domNode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è™½ç„¶&lt;strong&gt;createPortal&lt;/strong&gt;å¯ä»¥æŒ‚è½½åˆ°ä»»ä½•åˆæ³•çš„ dom å®¹å™¨ä¸­ï¼Œä½†æ˜¯å®ƒåœ¨ React tree ä¸­çš„å±‚æ¬¡ç»“æ„æ˜¯ä¸ä¼šå—å½±å“çš„ï¼Œæ¯”å¦‚äº‹ä»¶å†’æ³¡ã€‚åœ¨ç”¨&lt;strong&gt;createPortal&lt;/strong&gt;æ¸²æŸ“çš„ç»„ä»¶ä¸­è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œä¾ç„¶å¯ä»¥è¢«å®ƒåœ¨ React tree ä¸­çš„çˆ¶çº§èŠ‚ç‚¹æ•è·åˆ°ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š
ä¾‹å¦‚æœ‰ä¸‹é¢çš„ html ç»“æ„&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;app-root&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;modal-root&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;body&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;html&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åœ¨ React tree ä¸­ï¼Œapp-root èŠ‚ç‚¹ä¾ç„¶å¯ä»¥æ•è·åˆ° modal-root èŠ‚ç‚¹å†’æ³¡å‡ºæ¥çš„äº‹ä»¶ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// These two containers are siblings in the DOM&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; appRoot &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;app-root&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; modalRoot &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;modal-root&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Modal&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;el &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// The portal element is inserted in the DOM tree after&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// the Modal&apos;s children are mounted, meaning that children&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// will be mounted on a detached DOM node. If a child&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// component requires to be attached to the DOM tree&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// immediately when mounted, for example to measure a&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// DOM node, or uses &apos;autoFocus&apos; in a descendant, add&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// state to Modal and only render the children when Modal&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// is inserted in the DOM tree.&lt;/span&gt;
    modalRoot&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;el&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;componentWillUnmount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    modalRoot&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;el&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ReactDOM&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createPortal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;el&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Parent&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; clicks&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleClick &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handleClick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;handleClick&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// This will fire when the button in Child is clicked,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// updating Parent&apos;s state, even though button&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// is not direct descendant in the DOM.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prevState&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      clicks&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; prevState&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clicks &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;onClick&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handleClick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Number of clicks: &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;clicks&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          Open up the browser DevTools to observe that the button is not a child
          of the div with the onClick handler.
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Modal&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
          &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Child&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Modal&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Child&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// The click event on this button will bubble up to parent,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// because there is no &apos;onClick&apos; attribute defined&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;className&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;modal&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Click&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

ReactDOM&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Parent&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; appRoot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[React 16å­¦ä¹ (äºŒ)]]></title><description><![CDATA[ä¸Šç¯‡å¤§è‡´è¯´äº† react16 çš„ç»“æ„ï¼Œä»Šå¤©æ¥çœ‹çœ‹ react16 ä¸­æ–°å¢çš„ Fragmentã€‚react16 ä¸­æ–°å¢çš„å¯ä»¥æ¸²æŸ“çš„ç±»å‹ï¼šå’Œã€‚åœ¨ react16 ä¸­ï¼Œçš„æ–¹æ³•ç°åœ¨å¯ä»¥è¿”å›ä¸€ä¸ªæ•°ç»„äº†ï¼Œè€Œåœ¨ react1â€¦]]></description><link>https://snayan.github.io//post/learn_react16_part2/</link><guid isPermaLink="false">https://snayan.github.io//post/learn_react16_part2/</guid><pubDate>Fri, 02 Mar 2018 21:05:48 GMT</pubDate><content:encoded>&lt;p&gt;ä¸Šç¯‡å¤§è‡´è¯´äº† react16 çš„ç»“æ„ï¼Œä»Šå¤©æ¥çœ‹çœ‹ react16 ä¸­æ–°å¢çš„ Fragmentã€‚&lt;/p&gt;
&lt;p&gt;react16 ä¸­æ–°å¢çš„å¯ä»¥æ¸²æŸ“çš„ç±»å‹ï¼š&lt;code class=&quot;language-text&quot;&gt;fragment&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          Fragments
        &lt;/h2&gt;
      
&lt;p&gt;åœ¨ react16 ä¸­ï¼Œ&lt;code class=&quot;language-text&quot;&gt;component&lt;/code&gt;çš„&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;æ–¹æ³•ç°åœ¨å¯ä»¥è¿”å›ä¸€ä¸ªæ•°ç»„äº†ï¼Œè€Œåœ¨ react16 ä¹‹å‰åªèƒ½è¿”å›ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;ReactElement&lt;/code&gt;ï¼Œä¸€èˆ¬è¢«&lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;åŒ…è£¹ç€ã€‚åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œé¡µé¢ä¼šè¾“å‡ºä¸€äº›å¾ˆå¤šæ²¡æœ‰ç”¨å¤„çš„&lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;ï¼Œå¢åŠ äº† dom ç»“æ„çš„åµŒå¥—å±‚æ•°ï¼Œä¸åˆ©äºé¡µé¢å¿«é€Ÿçš„æ¸²æŸ“ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          react16 ä¹‹å‰
        &lt;/h3&gt;
      
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Demo&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`é“¾æ¥&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;v&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          react16
        &lt;/h3&gt;
      
&lt;p&gt;å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè€Œä¸éœ€è¦å¤–å±‚åŒ…è£¹ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;ï¼Œè¿™ä¸ªå¿…é¡»åŒ…å«&lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Demo&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`é“¾æ¥&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;v&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨ fragmentsï¼Œè€Œä¸éœ€è¦ç”³æ˜&lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Demo&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`é“¾æ¥&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;v&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æˆ–è€…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Demo&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Fragment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Fragment
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Fragment&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`é“¾æ¥&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;v&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Fragment&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          Strings
        &lt;/h2&gt;
      
&lt;p&gt;react16 ä¹Ÿæ”¯æŒç›´æ¥åœ¨&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;ä¸­è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Demo&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;è¿™é‡Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[React 16å­¦ä¹ (-)]]></title><description><![CDATA[è¶ç€ç¦»èŒæœŸè¿™æ®µæ—¶é—´ï¼Œåˆ¶å®šäº†ä¸€ä¸ªè®¡åˆ’ï¼Œå†æ¬¡é˜…è¯» React16 çš„æºç ï¼ŒReact16 æ˜¯ä¸€ä¸ªå¤§ç‰ˆæœ¬çš„æ›´æ–°ï¼Œå…¶ä¸­æ–°å¢äº†è®¸å¤šçš„æ–°ç‰¹æ€§ï¼Œå¹¶ä¸”é‡å†™äº†æ ¸å¿ƒæ¨¡å—çš„æ¶æ„ï¼Œå«åšFiberï¼Œæœ€ä»¤äººå…´å¥‹çš„æ˜¯async renderingã€‚ä¹‹å‰ä¹Ÿæµ…æ˜¾çš„é˜…è¯»è¿‡ React1â€¦]]></description><link>https://snayan.github.io//post/learn_react16_part1/</link><guid isPermaLink="false">https://snayan.github.io//post/learn_react16_part1/</guid><pubDate>Thu, 01 Mar 2018 20:11:21 GMT</pubDate><content:encoded>&lt;p&gt;è¶ç€ç¦»èŒæœŸè¿™æ®µæ—¶é—´ï¼Œåˆ¶å®šäº†ä¸€ä¸ªè®¡åˆ’ï¼Œå†æ¬¡é˜…è¯» React16 çš„æºç ï¼ŒReact16 æ˜¯ä¸€ä¸ªå¤§ç‰ˆæœ¬çš„æ›´æ–°ï¼Œå…¶ä¸­æ–°å¢äº†è®¸å¤šçš„æ–°ç‰¹æ€§ï¼Œå¹¶ä¸”é‡å†™äº†æ ¸å¿ƒæ¨¡å—çš„æ¶æ„ï¼Œå«åš&lt;strong&gt;Fiber&lt;/strong&gt;ï¼Œæœ€ä»¤äººå…´å¥‹çš„æ˜¯&lt;strong&gt;async rendering&lt;/strong&gt;ã€‚ä¹‹å‰ä¹Ÿæµ…æ˜¾çš„é˜…è¯»è¿‡ React15 çš„éƒ¨åˆ†æºç ï¼Œå‘ç°è¿™æ¬¡ React16 ä¸ä¹‹æœ‰å¾ˆå¤§çš„ä¸åŒã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          æ ¸å¿ƒæ–‡ä»¶
        &lt;/h2&gt;
      
&lt;p&gt;React16 çœŸçš„æ˜¯é‡æ–°æ¢³ç†äº†ä»£ç ç»“æ„ï¼Œå¹¶ä¸”è§£è€¦äº†å¾ˆå¤šï¼Œä¸‹é¢ä¸º React16 çš„æ–‡ä»¶ç»“æ„&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2157d97d8ca570791edce8da8819a70e/8854f/react16_file_structure.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 76.5079365079365%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwT/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHDXJDEH//EABcQAQEBAQAAAAAAAAAAAAAAAAEAITH/2gAIAQEAAQUCOZESxf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABoQAAIDAQEAAAAAAAAAAAAAAAABETFBoSH/2gAIAQEAAT8hhgcM6MorpRimvCh//9oADAMBAAIAAwAAABBkD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAAMBAQEBAAAAAAAAAAAAAAABESFxMVH/2gAIAQEAAT8Qd2TbG5pRHXBajeh5b6RTZa8FrdP/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/2157d97d8ca570791edce8da8819a70e/cc182/react16_file_structure.webp 148w,
/static/2157d97d8ca570791edce8da8819a70e/f7e40/react16_file_structure.webp 295w,
/static/2157d97d8ca570791edce8da8819a70e/1a2f4/react16_file_structure.webp 590w,
/static/2157d97d8ca570791edce8da8819a70e/eae19/react16_file_structure.webp 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/2157d97d8ca570791edce8da8819a70e/8ee9c/react16_file_structure.jpg 148w,
/static/2157d97d8ca570791edce8da8819a70e/ebbe7/react16_file_structure.jpg 295w,
/static/2157d97d8ca570791edce8da8819a70e/c739e/react16_file_structure.jpg 590w,
/static/2157d97d8ca570791edce8da8819a70e/8854f/react16_file_structure.jpg 630w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/2157d97d8ca570791edce8da8819a70e/c739e/react16_file_structure.jpg&quot;
          alt=&quot;react16çš„æ–‡ä»¶ç»“æ„&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„ react å’Œ react-domã€‚react-art æ˜¯ç»˜åˆ¶å›¾å½¢çš„ï¼Œæ¯”å¦‚ Canvasï¼ŒSVGï¼ŒVMLã€‚react-call-return æ˜¯ä¸€ä¸ªè¯•éªŒæ€§çš„ï¼Œç”¨äº react ä¸­çš„å¤šéæ¸²æŸ“ã€‚react-reconciler æ˜¯ Fiber çš„å®ç°ã€‚share ä¸­å­˜æ”¾ç€ä¸€äº›å…¬ç”¨çš„æ–¹æ³•å’Œå±æ€§ã€‚&lt;/p&gt;
&lt;!--more--&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          React ç›®å½•
        &lt;/h2&gt;
      
&lt;p&gt;react ç›®å½•ä¸‹å­˜æ”¾ç€ react çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œå¦‚å›¾&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/98f96ec8abe53a99ae170e283e5c91ef/73369/react-strycture.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 117.36334405144693%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAXABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHnxVJDVNJZB//EABgQAQADAQAAAAAAAAAAAAAAAAEAAhAx/9oACAEBAAEFAja9SEr1c//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABkQAQADAQEAAAAAAAAAAAAAAAEAEBExQf/aAAgBAQABPyHlI5AH2gLGDiEGf//aAAwDAQACAAMAAAAQ28c8/8QAGBEAAwEBAAAAAAAAAAAAAAAAARFRABD/2gAIAQMBAT8QRuRvf//EABcRAAMBAAAAAAAAAAAAAAAAAAARYRD/2gAIAQIBAT8QcHN//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARMUFRIWGR/9oACAEBAAE/EEN1b1UFshXCHWr5KdSqoAvWABPfYLh7ChA684n/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/98f96ec8abe53a99ae170e283e5c91ef/cc182/react-strycture.webp 148w,
/static/98f96ec8abe53a99ae170e283e5c91ef/f7e40/react-strycture.webp 295w,
/static/98f96ec8abe53a99ae170e283e5c91ef/1a2f4/react-strycture.webp 590w,
/static/98f96ec8abe53a99ae170e283e5c91ef/bc6b6/react-strycture.webp 622w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/98f96ec8abe53a99ae170e283e5c91ef/8ee9c/react-strycture.jpg 148w,
/static/98f96ec8abe53a99ae170e283e5c91ef/ebbe7/react-strycture.jpg 295w,
/static/98f96ec8abe53a99ae170e283e5c91ef/c739e/react-strycture.jpg 590w,
/static/98f96ec8abe53a99ae170e283e5c91ef/73369/react-strycture.jpg 622w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/98f96ec8abe53a99ae170e283e5c91ef/c739e/react-strycture.jpg&quot;
          alt=&quot;reactç›®å½•&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;çœ‹ç€æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œè·Ÿ react15 çš„å¾ˆå¤šä¸€æ ·ã€‚ReactBaseClasses å®ç°äº†&lt;code class=&quot;language-text&quot;&gt;Component&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;PureComponent&lt;/code&gt;ã€‚ReactChildren é‡Œæ˜¯ä¸€äº›å·¥å…·å‡½æ•°ã€‚ReactCurrentOwner å°±æ˜¯åˆ›å»ºå½“å‰ä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡ã€‚ReactElement å®ç°äº†&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;createFactory&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;cloneElement&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;isvalidElement&lt;/code&gt;ã€‚ReactElementValidator ç”¨äºéªŒè¯&lt;code class=&quot;language-text&quot;&gt;ReactElement&lt;/code&gt;ç›¸å…³æ–¹æ³•ã€‚&lt;code class=&quot;language-text&quot;&gt;ReactNoopUpdateQueue&lt;/code&gt;ç»´æŠ¤ç€ react çš„æ›´æ–°é˜Ÿåˆ—ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          React æºç 
        &lt;/h2&gt;
      
&lt;p&gt;ä¸ React15 ä¸€æ ·ï¼Œreact è¾“å‡ºçš„ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸Šç»‘å®šç€æˆ‘ä»¬ç”¨çš„ä¸€äº›ç±»æˆ–æ–¹æ³•ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; React &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Children&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    map&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    forEach&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    toArray&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    only&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  Component&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  PureComponent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  Fragment&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_FRAGMENT_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;//react16å¢åŠ äº†Fragment&lt;/span&gt;
  StrictMode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_STRICT_MODE_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  unstable_AsyncMode&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;REACT_ASYNC_MODE_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  createElement&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; __DEV__ &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; createElementWithValidation &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; createElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  cloneElement&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; __DEV__ &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; cloneElementWithValidation &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cloneElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  createFactory&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; __DEV__ &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; createFactoryWithValidation &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; createFactory&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  isValidElement&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; isValidElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  version&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ReactVersion&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    ReactCurrentOwner&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Used by renderers to avoid bundling object-assign twice in UMD bundles:&lt;/span&gt;
    assign&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å…¶ä¸­å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œreact16 ä¸­å¢åŠ äº† Fragmentï¼Œè¿™ä¸ªæ˜¯ react15 ä¸­æ²¡æœ‰çš„ã€‚ä¸Šé¢ä»£ç éƒ½æ¯”è¾ƒç®€å•ï¼Œæˆ‘å°±ä¸ä¸€ä¸€è¯´äº†ã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ç®€å•çš„äº”å­æ£‹]]></title><description><![CDATA[åœ¨æŸæ¬¡æ±‚èŒè¿‡ç¨‹ä¸­ï¼Œæ”¶åˆ°äº†ä¸€ä¸ªç¬”è¯•é¢˜ï¼Œè¦æ±‚å†™ä¸€ä¸ªäººæœºå¯¹æˆ˜çš„äº”å­æ£‹ï¼Œé¢˜ç›®è¦æ±‚å¦‚ä¸‹ï¼šè¯·ç¼–å†™ä¸€ä¸ªå•æœºã€äº”å­æ£‹ã€‘æ¸¸æˆï¼Œè¦æ±‚å¦‚ä¸‹ï¼š
ä½¿ç”¨åŸç”ŸæŠ€æœ¯å®ç°ï¼Œå…¼å®¹ Chrome æµè§ˆå™¨å³å¯ã€‚
å®ç°èƒœè´Ÿåˆ¤æ–­ï¼Œå¹¶ç»™å‡ºèµ¢æ£‹æç¤ºï¼›ä»»æ„ç©å®¶èµ¢å¾—æ£‹å±€ï¼Œé”å®šæ£‹ç›˜ã€‚
è¯·å°½å¯èƒ½çš„è€ƒè™‘æ¸¸æˆçš„æ‰©å±•æ€§ï¼Œç•Œé¢å¯ä»¥ä½¿ç”¨ DOMâ€¦]]></description><link>https://snayan.github.io//post/gomoku/</link><guid isPermaLink="false">https://snayan.github.io//post/gomoku/</guid><pubDate>Tue, 23 Jan 2018 17:14:43 GMT</pubDate><content:encoded>&lt;p&gt;åœ¨æŸæ¬¡æ±‚èŒè¿‡ç¨‹ä¸­ï¼Œæ”¶åˆ°äº†ä¸€ä¸ªç¬”è¯•é¢˜ï¼Œè¦æ±‚å†™ä¸€ä¸ªäººæœºå¯¹æˆ˜çš„äº”å­æ£‹ï¼Œé¢˜ç›®è¦æ±‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯·ç¼–å†™ä¸€ä¸ªå•æœºã€äº”å­æ£‹ã€‘æ¸¸æˆï¼Œè¦æ±‚å¦‚ä¸‹ï¼š
ä½¿ç”¨åŸç”ŸæŠ€æœ¯å®ç°ï¼Œå…¼å®¹ Chrome æµè§ˆå™¨å³å¯ã€‚
å®ç°èƒœè´Ÿåˆ¤æ–­ï¼Œå¹¶ç»™å‡ºèµ¢æ£‹æç¤ºï¼›ä»»æ„ç©å®¶èµ¢å¾—æ£‹å±€ï¼Œé”å®šæ£‹ç›˜ã€‚
è¯·å°½å¯èƒ½çš„è€ƒè™‘æ¸¸æˆçš„æ‰©å±•æ€§ï¼Œç•Œé¢å¯ä»¥ä½¿ç”¨ DOM / Canvas å®ç°ã€‚è€ƒè™‘åç»­åˆ‡æ¢ç•Œé¢å®ç°çš„æ–¹å¼æˆæœ¬æœ€ä½ã€‚ï¼ˆæ¯”å¦‚é€‰æ‹©ä½¿ç”¨ DOM å®ç°ç•Œé¢ï¼Œéœ€æ±‚æ”¹å˜ä¸ºä½¿ç”¨ Canvas å®ç°æ—¶å°½å¯èƒ½å°‘çš„æ”¹åŠ¨ä»£ç ï¼‰ã€‚
å®ç°ä¸€ä¸ªæ‚”æ£‹åŠŸèƒ½
å®ç°ä¸€ä¸ªæ’¤é”€æ‚”æ£‹åŠŸèƒ½
å®ç°ä¸€ä¸ªäººæœºå¯¹æˆ˜åŠŸèƒ½
å°½å¯èƒ½çš„è€ƒè™‘å®ç°çš„çµæ´»æ€§å’Œæ‰©å±•æ€§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‡ªå·±æ”¶åˆ°è¿™ä¸ªé¢˜ç›®ä¹‹åæ„Ÿè§‰æœ‰ç‚¹æ£˜æ‰‹ï¼Œè‡ªå·±æ²¡æœ‰å¼€å‘è¿‡æ¸¸æˆï¼Œæ—¶é—´ä¹Ÿæ¯”è¾ƒç´§ã€‚ä¸‹ç­ä¹‹åå°±å¼€å§‹å¼„äº†ï¼Œç®€å•ä»‹ç»ä¸‹è‡ªå·±çš„å®ç°è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;!--more--&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          éš¾ç‚¹
        &lt;/h3&gt;
      
&lt;ul&gt;
&lt;li&gt;æœºå™¨äººè‡ªåŠ¨é€‰æ‹©æœ€ä½³å¯ä¸‹æ£‹å­çš„ä½ç½®&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­æ˜¯å¦èƒœåˆ©&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          æ€è·¯
        &lt;/h3&gt;
      
&lt;ul&gt;
&lt;li&gt;é€‰æ‹© dom æ–¹å¼å®ç°ï¼Œé‡‡ç”¨åæ ‡ç³»æ–¹å¼è®¡ç®—æ¯ä¸ªæ ¼å­çš„å€¼ï¼Œå¯¹ canvas ä¸æ˜¯å¤ªç†Ÿæ‚‰ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†ç¦» dom äº¤äº’çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚ç”»æ£‹ç›˜ï¼Œç”»æ£‹å­ï¼Œæ‚”æ£‹ç­‰ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†ç¦»äººæœºå¯¹æˆ˜é€»è¾‘éƒ¨åˆ†ï¼Œæ¯”å¦‚è®¡ç®—å¯ä¸‹åŒºåŸŸçš„é€»è¾‘ï¼Œèƒœåˆ©çš„é€»è¾‘ï¼Œæœºå™¨äººé€‰æ‹©æœ€ä½³æ£‹å­çš„é€»è¾‘ï¼Œæ‚”æ£‹é€»è¾‘ï¼Œæ’¤é”€æ‚”æ£‹é€»è¾‘ç­‰ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          å®ç°
        &lt;/h3&gt;
      
&lt;p&gt;dom äº¤äº’éƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œå°±ä¸è¯´äº†ï¼Œåªè¯´è¯´äººæœºå¯¹æˆ˜çš„é€»è¾‘éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;è¦å®ç°æœºå™¨äººè‡ªåŠ¨å¯¹æˆ˜ï¼Œå°±è¦è®©æœºå™¨äººå¦‚ä½•èƒ½è‡ªåŠ¨é€‰æ‹©æœ€ä½³ä½ç½®å»ä¸‹ã€‚æˆ‘åœ¨å®ç°çš„æ—¶å€™é‡‡ç”¨æƒé‡æ³•ï¼Œå°±æ˜¯ä¼˜å…ˆé€‰æ‹©æƒé‡å¤§çš„æ ¼å­ä¸‹ï¼Œè¿™æ ·æ‰èƒ½æœ€å¤§æ¦‚ç‡çš„æˆ˜èƒœç©å®¶ã€‚é‚£ä¹ˆéš¾ç‚¹å°±æ˜¯å¦‚ä½•è®¡ç®—å¯ä¸‹åŒºåŸŸæ ¼å­çš„æƒé‡å¤§å°å‘¢ï¼Ÿæˆ‘æŠŠæ£‹ç›˜é‡‡ç”¨åæ ‡ç³»çš„æ–¹å¼è¡¨ç¤ºï¼Œå¯¹æ¯ä¸ªæ ¼å­éƒ½æœ‰ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œå…ˆè®¡ç®—å‡ºå¯é€‰æ‹©åŒºåŸŸçš„æ ¼å­ï¼Œç„¶åå¯¹æ¯ä¸ªæ ¼å­è®¡ç®—å‡ºè¿™ä¸ªæ ¼å­å½“å‰çš„æƒé‡ï¼ˆæƒé‡å’Œæ£‹å­å€¼ä¸ä¸€æ ·ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªéš¾ç‚¹å°±æ˜¯åˆ¤æ–­æ¯ä¸€æ­¥éƒ½æ˜¯å¦èƒœåˆ©ç»“æŸæ¸¸æˆï¼Œäº”å­æ£‹èƒœåˆ©çš„åˆ¤æ–­å°±æ˜¯ä¸€æ–¹è¿ç»­ 5 é¢—æ£‹å­ï¼Œæ–¹å‘æœ‰æ°´å¹³æ–¹å‘ï¼Œå‚ç›´æ–¹å‘ï¼Œ45 åº¦æ–¹å‘å’Œ 135 åº¦æ–¹å‘ï¼Œä»»æ„ä¸€ä¸ªæ–¹å‘æ»¡è¶³éƒ½è§†ä¸ºèƒœåˆ©ã€‚é‡‡ç”¨åæ ‡æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªè®¡ç®—å°±éå¸¸ç®€å•ã€‚&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-1&apos; &gt;
          å½“å‰æ£‹å­æƒé‡è®¡ç®—
        &lt;/h4&gt;
      
&lt;p&gt;å½“å‰æ£‹å­æƒé‡çš„è®¡ç®—ï¼Œè€ƒè™‘åˆ°å¦‚ä½•æœ€æœ‰åˆ©äºè‡ªå·±è·èƒœï¼Œå½“å‰æ£‹å­åœ¨å½“å‰æ–¹å‘çš„æƒé‡ï¼Œè®¡ç®—è§„åˆ™ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é‡åˆ°ï¼Œæ˜¯æœºå™¨äººçš„æ£‹å­ï¼Œåˆ™åŠ  10&lt;/li&gt;
&lt;li&gt;é‡åˆ°ï¼Œå½“å‰æ ¼å­è¿˜æ˜¯å¯ä¸‹åŒºåŸŸï¼Œåˆ™åŠ  1&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;outerMin &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; lineMin &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; outerMin &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; lineMax&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;currents&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;outerMin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    winWeight &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;havenBoardStatus&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;outerMin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    winWeight &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;outerMax &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; lineMin &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; outerMax &lt;span class=&quot;token operator&quot;&gt;&amp;lt;=&lt;/span&gt; lineMax&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;currents&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;outerMax&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    winWeight &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;havenBoardStatus&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;outerMax&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    winWeight &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h4 id=&apos;toc-4-2&apos; &gt;
          ä¼˜å…ˆçº§çš„é€»è¾‘
        &lt;/h4&gt;
      
&lt;p&gt;å†è®¡ç®—äº†æƒé‡ä¹‹åï¼Œé¦–å…ˆè¦è€ƒè™‘ä¼˜å…ˆçº§ï¼Œæ¯”å¦‚æˆäº”æ¯”å…¶ä»–æƒ…å†µéƒ½ä¼˜å…ˆã€‚
ä¼˜å…ˆçº§è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“å‰æ ¼å­èƒ½ä½¿è‡ªå·±æˆäº”èƒœåˆ©ï¼Œä¼˜å…ˆçº§æœ€é«˜ï¼Œ1&lt;/li&gt;
&lt;li&gt;å½“å‰æ ¼å­ä¸‹äº†ä¹‹åï¼Œå¯æˆå››çš„çº¿è·¯ï¼Œå¦‚æœæœ‰å¤šæ¡çº¿è·¯ï¼Œåˆ™ä¼˜å…ˆçº§å…¶æ¬¡ï¼Œ2ã€‚&lt;/li&gt;
&lt;li&gt;å½“å‰æ ¼å­ä¸‹äº†ä¹‹åï¼Œå¯å¦ä½¿è‡ªå·±æˆå››ï¼Œå¹¶ä¸”é˜»æ­¢ç©å®¶æˆå››ï¼Œä¼˜å…ˆçº§ä¸º 3ã€‚&lt;/li&gt;
&lt;li&gt;å½“å‰æ ¼å­ä¸‹äº†ä¹‹åï¼Œå¯å¦ä½¿è‡ªå·±æˆå››ï¼Œå¹¶ä¸”ä½¿è‡ªå·±å…¶ä»–çº¿è·¯æˆä¸‰ï¼Œä¼˜å…ˆçº§ä¸º 4ã€‚&lt;/li&gt;
&lt;li&gt;å½“å‰æ ¼å­ä¸‹äº†ä¹‹åï¼Œå¯å¦ä½¿è‡ªå·±æˆå››ï¼Œå¹¶ä¸”é˜»æ­¢ç©å®¶æˆä¸‰ï¼Œä¼˜å…ˆçº§ä¸º 5ã€‚&lt;/li&gt;
&lt;li&gt;å½“å‰æ ¼å­ä¸‹äº†ä¹‹åï¼Œå¯å¦é˜»æ­¢ç©å®¶æˆå¤šæ¡çº¿è·¯çš„å››ï¼Œä¼˜å…ˆçº§ä¸º 6ã€‚&lt;/li&gt;
&lt;li&gt;å½“å‰æ ¼å­ä¸‹äº†ä¹‹åï¼Œå¯å¦é˜»æ­¢ç©å®¶æˆå››ï¼Œå¹¶ä¸”å…¶ä»–çº¿è·¯æˆä¸‰ï¼Œä¼˜å…ˆçº§ä¸º 7ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥æ­¤ç±»æ¨â€¦â€¦&lt;/li&gt;
&lt;/ol&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          æ•ˆæœ
        &lt;/h3&gt;
      
&lt;p&gt;å†™å®Œäº†ä¹‹åï¼Œç”±äºå¯¹ Canvas çš„æ‰©å±•æ€§ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥ç»“æœæŒ‚äº†ã€‚è‡ªå·±å·²ç»å°½é‡æŠ½ç¦»äº† UI äº¤äº’éƒ¨åˆ†å’Œå¯¹æˆ˜é€»è¾‘éƒ¨åˆ†ï¼Œå¯æ˜¯å¯¹æˆ˜é€»è¾‘éƒ¨åˆ†è¿˜æ˜¯è·Ÿ UI è€¦åˆç¨‹åº¦è¿˜æ˜¯æ¯”è¾ƒæ·±ï¼Œä¸»è¦ä¹Ÿæ˜¯å› ä¸ºè‡ªå·±å¯¹ Canvas ä¸æ˜¯å¾ˆç†Ÿï¼Œåç»­éœ€è¦å°½é‡é”»ç‚¼è‡ªå·±çš„é€»è¾‘æŠ½è±¡æ€ç»´ï¼Œå‡†å¤‡èŠ±æ—¶é—´æŠŠæ•°æ®ç»“æ„ä¸ç›¸å…³ç®—æ³•åœ¨å­¦ä¹ ä¸€ä¸‹ï¼Œ&lt;a href=&quot;https://github.com/snayan/bookLists#2018-%E7%9B%AE%E5%89%8D%E8%AE%A1%E5%88%92&quot;&gt;å­¦ä¹  JavaScript æ•°æ®ç»“æ„ä¸ç®—æ³•(ç¬¬ 2 ç‰ˆ)&lt;/a&gt;è¿™æœ¬ä¹¦å·²ç»åŠ åˆ° 2018 çš„ä¹¦å•è®¡åˆ’ä¸­äº†ã€‚&lt;/p&gt;
&lt;p&gt;é¡¹ç›®åœ°å€:&lt;a href=&quot;https://github.com/snayan/fivepiece&quot;&gt;https://github.com/snayan/fivepiece&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€åè¿˜æ˜¯è´´ä¸€ä¸‹ç•Œé¢æ•ˆæœå›¾ï¼š
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/4db5f/fivepiece.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 105.05050505050507%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAADfUlEQVQ4y51VW28SURDuH/TdF33RJ6OJiZrGp8bGeDcao7GJ91ui1qTeYaFQSsG2WttaW2ELLC2XAtvSlrILuwucz5mzgK1iYiSZnDmzM99cz9AHQECIPSRYZm0KU0+J2romYG8J23bExsaG0HVdmKYp2K7z69oCdh/aP/EbYTuBZOQ50pOvgEoS5a0KwuEJBAJBrGayro3o6ou2wOlzPbXIQ9OlVudskFKz60PIe8d+l36XBH9w+iR0bQP2agS1dATWShSmNiEJxRnMKE9wbfAk8V9IFoaRCpOe+73W1rPSYYFqfhegWYKV9MNM+FGJeWFrQTjpMRjLPpn2+0eXUU+OYoe+WakAmqvj8s58YyVEtopobqUZyQUURgnIhvHxyRWcOXGIDEIozr3FkQP7UFgMkEYd1weOYuTueTQzYXI8So4V7MR9xAdgqF7R2l75BYiaTh790Bc+YHVqGHZ2GnVKPTPrgaFFgPISQsM3MKc8gJ0OoZYMYJuiNZb9xAdhLnOEvwGalF49NYYanbDy1OVlYDMBe22WAszh5uAxvLl3Ds2VoEwTuQiqBOja9ACsUf3YI9Y+4f6VfkRGbgNVDXZuBo3SIjlQIfTvJEsjNjGMm2ePEzDVUiPAxF8i5Jqw0vtHlzDvfyxB6plpOIV5WLmvkkf5B7SpEbwcGqTogrKGJtVwD2CnKZ6nVzFw/CBJypSuCqsUQ6P4je6buNh/CC9uDcDRAnIKuDmVuAKDGvRnU2hsHFJap6akoi/gZD7Bobl0spMoLXiwNP4Sa98UFBcUGhWqIY0Nd9rSmA/zyP2ZsqEqMnyLarL9w0MloHrqU4i+vo3TR/aDQkVLX0QjzTMaIh2vLFHvCNs1rKr+rtLWkhdDF06hOP8WIjtB3xQ59CzLzYzI0WFdPs1egNxlOVOJgGwMd/zu5X6U5t/R7I3JVDnNOyQr0NCzjO88l/WEr3eXefpRiGLw5GG8e3iJtsycBGZDGQmdyEdlDWUmcg6DvefQpJSMZEg2IhZ6hrXZN9KgqvokEBPfuXYc7Y7qlugvL2UdRtxDr2IOLXrkVmoUDqVdoSj4NRhtQOY5Mm4cn11AlQD31rDEhUWV5oqpEnO7zNuF74bqk5uHeZZ1Nk817pUbyox/FK3d2wb1Mpr5z2jkv/wXNXNTAkbBBXQ3Ny/xVo8/gn8k3vgu5/wEAw3z3pWDKXAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/cc182/fivepiece.webp 148w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/f7e40/fivepiece.webp 295w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/1a2f4/fivepiece.webp 590w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/4837b/fivepiece.webp 885w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/2f819/fivepiece.webp 1180w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/7dd64/fivepiece.webp 1188w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/cf440/fivepiece.png 148w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/d2d38/fivepiece.png 295w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/b9e4f/fivepiece.png 590w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/f9b6a/fivepiece.png 885w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/2d849/fivepiece.png 1180w,
/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/4db5f/fivepiece.png 1188w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ebbc453ffb45e2f10d5f0e7bd9af85b7/b9e4f/fivepiece.png&quot;
          alt=&quot;fivePiece&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³æŒ‘æˆ˜ä¸€ä¸‹çš„å¯ä»¥å¼€å§‹ï¼š&lt;a href=&quot;https://snayan.github.io/fivepiece/&quot;&gt;https://snayan.github.io/fivepiece/&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2017å¹´å°ç»“]]></title><description><![CDATA[å—¯ï¼Œåˆåˆ°äº†å¹´æœ«ï¼Œæ˜¯æ—¶å€™å¯¹ 17 å¹´åšä¸ªäº†æ–­ï¼Œå¥½å¥½å¼€å§‹ 18 å¹´ã€‚
17 å¹´çš„å¹´åˆè®¡åˆ’æ˜¯ï¼šæ‰¾ä¸€å®¶é è°±çš„äº’è”ç½‘å…¬å¸é˜…è¯» 12 æœ¬ä¹¦æŠ¥ä¸ªè‹±è¯­åŸ¹è®­ç­å¹´åˆï¼Œ3 æœˆä»½ä»å¹¿ç”°æ™ºèƒ½æ¥åˆ°äº†æ·±åœ³å·çš®ï¼Œæ˜¯æ‰¾åˆ°äº†ä¸€å®¶äº’è”ç½‘å…¬å¸ï¼Œå¾ˆäº’è”ç½‘ ğŸ˜‚ã€‚
ä» PCâ€¦]]></description><link>https://snayan.github.io//post/summary_of_2017/</link><guid isPermaLink="false">https://snayan.github.io//post/summary_of_2017/</guid><pubDate>Thu, 14 Dec 2017 23:10:35 GMT</pubDate><content:encoded>&lt;p&gt;å—¯ï¼Œåˆåˆ°äº†å¹´æœ«ï¼Œæ˜¯æ—¶å€™å¯¹ 17 å¹´åšä¸ªäº†æ–­ï¼Œå¥½å¥½å¼€å§‹ 18 å¹´ã€‚
17 å¹´çš„å¹´åˆè®¡åˆ’æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰¾ä¸€å®¶é è°±çš„äº’è”ç½‘å…¬å¸&lt;/li&gt;
&lt;li&gt;é˜…è¯» 12 æœ¬ä¹¦&lt;/li&gt;
&lt;li&gt;æŠ¥ä¸ªè‹±è¯­åŸ¹è®­ç­&lt;/li&gt;
&lt;/ul&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          æ‰¾ä¸€å®¶é è°±çš„äº’è”ç½‘å…¬å¸
        &lt;/h3&gt;
      
&lt;p&gt;å¹´åˆï¼Œ3 æœˆä»½ä»å¹¿ç”°æ™ºèƒ½æ¥åˆ°äº†æ·±åœ³å·çš®ï¼Œæ˜¯æ‰¾åˆ°äº†ä¸€å®¶äº’è”ç½‘å…¬å¸ï¼Œå¾ˆäº’è”ç½‘ ğŸ˜‚ã€‚
ä» PC ç«¯åŠè·¯å­å‰ç«¯åˆ°ç§»åŠ¨ç«¯çš„çº¯å‰ç«¯äº†ï¼Œæ¶è¡¥å„ç§ç§»åŠ¨ç«¯å¼€å‘åŸºç¡€çŸ¥è¯†ï¼Œç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆï¼Œè¯¦è§&lt;a href=&quot;/post/mobile-layout/&quot;&gt;ç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆ&lt;/a&gt;ã€‚
ä» grunt çš„ä½¿ç”¨åˆ° gulpï¼Œå†åˆ° webpackã€‚ç”¨ gulp ä¹Ÿå†™ä¸€ä¸ªå°çš„è„šæ‰‹æ¶å·¥å…·ï¼Œè¯¦è§&lt;a href=&quot;https://github.com/snayan/web-scaffold&quot;&gt;web-scaffold&lt;/a&gt;ã€‚
ä» backbone çš„å¼€å‘æ¡†æ¶åˆ° reactï¼Œä¹Ÿç¨å¾®é˜…è¯»äº†ä¸€ä¸‹ react15 çš„éƒ¨åˆ†æºç ï¼Œè¯¦è§&lt;a href=&quot;/post/react_whole_construct/&quot;&gt;é˜…è¯» react æºç éƒ¨åˆ†&lt;/a&gt;ã€‚
ä» 0 åˆ° 1 å¼€å§‹å¼€å‘å¾®ä¿¡å°ç¨‹åºï¼Œå†™äº†ä¸€ä¸ªå°ç¨‹åºç»„ä»¶åŒ–å¼€å‘ï¼Œè¯¦è§&lt;a href=&quot;/post/mini_program_component_programming/&quot;&gt;å°ç¨‹åºç»„ä»¶åŒ–ç¼–ç¨‹&lt;/a&gt;ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          é˜…è¯» 12 æœ¬ä¹¦
        &lt;/h3&gt;
      
&lt;p&gt;ä» 3 æœˆä»½å¼€å§‹ï¼Œä¸€ç›´éƒ½åšæŒåœ¨çœ‹ä¹¦ï¼ŒæœŸé—´è™½ä¹Ÿæ–­ç»­åœäº†ä¸€æ®µï¼Œä½†å¹¸å¥½çš„æ˜¯ï¼Œç°åœ¨ä¾ç„¶åšæŒç€ã€‚æ•°æ•°ï¼Œåº”è¯¥æœ‰ 12 æœ¬ä¹¦äº†ï¼Œè¯¦è§&lt;a href=&quot;https://github.com/snayan/bookLists#2017%E8%AE%A1%E5%88%92&quot;&gt;2017 ä¹¦å•&lt;/a&gt;ã€‚å¥½ä¹ æƒ¯ï¼Œè¦åšæŒå•Š âœŠã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          æŠ¥ä¸ªè‹±è¯­åŸ¹è®­ç­
        &lt;/h3&gt;
      
&lt;p&gt;é¢ï¼Œè¿™ä¸ªè®¡åˆ’å®åœ¨æ˜¯æ²¡æœ‰åŠï¼Œä¹‹å‰ 6 æœˆä»½å¥½åƒåœ¨å¤©è™¹é‡Œæœ‰ä¸ªåŸ¹è®­ç­çš„æ‹›ç”ŸæŸœå°ï¼Œå¤§è‡´å»äº†è§£äº†ä¸€ä¸‹ã€‚ä¸‹åŠå¹´å°±ä¸€ç›´åœ¨åŠ ç­ï¼ŒçœŸçš„æ²¡æœ‰æ—¶é—´ï¼ˆæ²¡æ—¶é—´ä¸æ˜¯ç†ç”±ï¼Œå¥½å§ï¼ï¼‰ï¼Œä¸€ç›´åˆ°ç°åœ¨ä¹Ÿæ²¡æœ‰ä¸ªæ²¡æœ‰ã€‚æ˜å¹´ä¼°è®¡ä¹Ÿä¸ä¼šæŠ¥äº†ï¼Œæ²¡é’±å•Šï¼ˆåƒåœŸäº†ï¼‰ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          é¢å¤–æ”¶è·
        &lt;/h3&gt;
      
&lt;p&gt;17 å¹´ï¼ŒæŠ½ç©ºæ­äº†ä¸€ä¸ªå…è´¹çš„ GitHub åšå®¢ï¼Œåœ°å€&lt;a href=&quot;https://snayan.github.io/&quot;&gt;ä¸‰ç¾ŠåŒå­¦çš„ blog&lt;/a&gt;ã€‚åˆ°ç°åœ¨ï¼Œå†™äº†æœ‰æ¥è¿‘ 10 ç¯‡äº†å§ï¼Œå°±æ˜¯éšä¾¿å†™å†™ï¼Œæ€»ç»“ä¹Ÿå¥½ï¼Œåšç¬”è®°ä¹Ÿå¥½ï¼Œå½“ä¹¦ç­¾ä¹Ÿå¥½ï¼Œåæ­£ï¼Œè¿™æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œä¸èƒ½æ”¾å¼ƒï¼Œè¦åšæŒã€‚&lt;/p&gt;
&lt;p&gt;å¥½å§ï¼Œæ—¶é—´ä¸æ—©äº†ï¼Œæ¥å°ç»“å§ã€‚å—¯ï¼Œ17 å¹´ç¡®å®ç´¯äº†ä¸å°‘ï¼Œé€šå®µéƒ½ç†¬äº†ä¸å°‘ï¼Œè€äº†ä¸å°‘ï¼Œæˆ‘ç›¸ä¿¡ï¼Œæ”¶è·ä¹Ÿæ˜¯ä¸å°‘çš„ã€‚é¢˜å¤–è¯å“ˆï¼Œè´Ÿèƒ½é‡ï¼Œ12 æœˆåˆä¹Ÿä½“ä¼šäº†ä¸€äº›å‡‰å¿ƒçš„äº‹ï¼Œä½†æ˜¯ä¹Ÿæ”¶è·ä¸€äº›æš–å¿ƒçš„äº‹ã€‚ä¸ç®¡æ€ä¹ˆæ ·ï¼Œè¿˜æ˜¯æŠ±ç€ä¸€é¢—æ„Ÿæ©çš„å¿ƒï¼Œå»è¿‡ 18 å¹´ã€‚&lt;/p&gt;
&lt;p&gt;18 å¹´çš„è®¡åˆ’å‘¢ï¼Ÿæ˜å¹´å†å®šã€‚&lt;/p&gt;</content:encoded></item><item><title><![CDATA[ç¬”è®°ä¹‹decorator]]></title><description><![CDATA[æœ€è¿‘ä¸€ä¸ªæœˆéƒ½åœ¨å¿™å…¬å¸çš„æ–°é¡¹ç›®ä¼šè¿‡ç²¾é€‰ï¼ŒåŠ ä¸ŠåŒ 11 å¤§ä¿ƒï¼ŒçœŸçš„æ˜¯å¾ˆå¿™ã€‚åŠ ä¸Šæœ€è¿‘çš„çƒ¦å¿ƒäº‹æ¯”è¾ƒå¤šï¼Œå¿ƒæƒ…ä¸€ç›´ä¸æ˜¯å¾ˆå¥½ï¼Œåšä»€ä¹ˆäº‹æƒ…ï¼Œéƒ½æ•ˆç‡ä½ä¸‹ã€‚æ”¶æ‹¾æ”¶æ‹¾å¿ƒæƒ…ï¼Œç»§ç»­åŠªåŠ›å§ã€‚ä¸€åˆ‡éƒ½ä¸ä¼šé‚£ä¹ˆç³Ÿç³•ã€‚åœ¨åšä¼šè¿‡ç²¾é€‰ M ç«™æ—¶ï¼Œæˆ‘ä»¬å‰ç«¯ç»„é€‰å‹çš„æŠ€æœ¯æ ˆæ˜¯ Reactï¼ŒReduxï¼ŒTypeScriptâ€¦]]></description><link>https://snayan.github.io//post/note_of_decorator/</link><guid isPermaLink="false">https://snayan.github.io//post/note_of_decorator/</guid><pubDate>Sun, 26 Nov 2017 22:30:33 GMT</pubDate><content:encoded>&lt;p&gt;æœ€è¿‘ä¸€ä¸ªæœˆéƒ½åœ¨å¿™å…¬å¸çš„æ–°é¡¹ç›®&lt;strong&gt;ä¼šè¿‡ç²¾é€‰&lt;/strong&gt;ï¼ŒåŠ ä¸ŠåŒ 11 å¤§ä¿ƒï¼ŒçœŸçš„æ˜¯å¾ˆå¿™ã€‚åŠ ä¸Šæœ€è¿‘çš„çƒ¦å¿ƒäº‹æ¯”è¾ƒå¤šï¼Œå¿ƒæƒ…ä¸€ç›´ä¸æ˜¯å¾ˆå¥½ï¼Œåšä»€ä¹ˆäº‹æƒ…ï¼Œéƒ½æ•ˆç‡ä½ä¸‹ã€‚æ”¶æ‹¾æ”¶æ‹¾å¿ƒæƒ…ï¼Œç»§ç»­åŠªåŠ›å§ã€‚ä¸€åˆ‡éƒ½ä¸ä¼šé‚£ä¹ˆç³Ÿç³•ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åšä¼šè¿‡ç²¾é€‰ M ç«™æ—¶ï¼Œæˆ‘ä»¬å‰ç«¯ç»„é€‰å‹çš„æŠ€æœ¯æ ˆæ˜¯ Reactï¼ŒReduxï¼ŒTypeScriptã€‚ä¸€ç›´éƒ½çŸ¥é“ decorator è¿™ä¸ªä¸œè¥¿ï¼Œä½†ä¹‹å‰åœ¨å·çš®æ²¡æœ‰æœºä¼šç”¨ï¼Œç°åœ¨åœ¨ä¼šè¿‡ï¼Œæˆ‘å°±é«˜é«˜å…´å…´çš„å¼€å§‹ç”¨èµ·æ¥äº†ã€‚
è£…é¥°è€…çš„åŠŸèƒ½å®é™…å°±æ˜¯åœ¨ä¸æ”¹åŸåŠŸèƒ½çš„å‰æä¸‹ï¼Œå¯¹åŸç›®æ ‡è¿›è¡Œé¢å¤–åŠŸèƒ½çš„å¢å¼ºï¼Œæ¯”å¦‚ï¼šæ—¥å¿—è®°å½•ï¼Œç¼“å­˜ï¼Œè®¿é—®æ§åˆ¶ç­‰ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          å¯¹ç±»è¿›è¡Œè£…é¥°
        &lt;/h3&gt;
      
&lt;p&gt;decorator å¯ä»¥ä½œç”¨åœ¨ç±»ä¸Šï¼Œè¾¾åˆ°å¯¹ç±»çš„å±æ€§æˆ–è€…åŸå‹è¿›è¡Œæ”¹é€ ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å®šä¹‰è¿™ä¸ªé¡µé¢æ˜¯éœ€è¦ç™»é™†æƒé™çš„é¡µé¢&lt;/span&gt;
@needPageLogin
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OpenCoupons&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;OpenCouponsProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ComponentState&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;p&gt;è¿™é‡Œï¼Œ&lt;code class=&quot;language-text&quot;&gt;needPageLogin&lt;/code&gt;å°±æ˜¯ä¸€ä¸ªå¯¹ç±»è£…é¥°è€…ï¼Œæ¥å—ç±»æœ¬èº«ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ª react é¡µé¢å¿…é¡»æ˜¯ç™»é™†æå‰ä¸‹æ‰èƒ½æŸ¥çœ‹çš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; isLogin&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; goLogin &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../platform/utils&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;/* é…ç½®é¡µé¢éœ€è¦ç™»å½• */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;needPageLogin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;target&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ComponentClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; componentDidMount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;componentDidMount
  target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;componentDidMount&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isLogin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;goLogin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          å¯¹ç±»å±æ€§è¿›è¡Œè£…é¥°
        &lt;/h3&gt;
      
&lt;p&gt;decorator è¿˜å¯ä»¥ä½œç”¨åœ¨ç±»çš„å±æ€§ä¸Šï¼Œæ¯”å¦‚&lt;code class=&quot;language-text&quot;&gt;properties&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;methods&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;geters&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;setters&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OpenCoupons&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;OpenCouponsProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ComponentState&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å®šä¹‰è°ƒç”¨è¿™ä¸ªæ–¹æ³•å¿…é¡»æ˜¯éœ€è¦ç™»é™†æƒé™çš„&lt;/span&gt;
  @needActionLogin
  &lt;span class=&quot;token function&quot;&gt;someAction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™é‡Œï¼Œ&lt;code class=&quot;language-text&quot;&gt;needActionLogin&lt;/code&gt;æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ç›®æ ‡å¯¹è±¡çš„åŸå‹(OpenCoupons.proptype) ï¼Œç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯å±æ€§å(â€˜someActionâ€™)ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°å°±æ˜¯è¿™ä¸ªå±æ€§çš„å±æ€§æè¿°ç¬¦(descriptor)ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* é…ç½®æ–¹æ³•éœ€è¦ç™»å½• */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;needActionLogin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token parameter&quot;&gt;target&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  descriptor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; PropertyDescriptor&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; origin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; descriptor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;value
  descriptor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isLogin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;origin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;goLogin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          decorator æ¥å—å‚æ•°
        &lt;/h3&gt;
      
&lt;p&gt;åœ¨å®šä¹‰ decorator æ—¶å¯ä»¥ä¼ é€’å‚æ•°ï¼Œå»æ§åˆ¶å®é™…è¦å¢åŠ çš„åŠŸèƒ½ã€‚è¿™æ ·å®ç°ï¼Œå®é™…å°±æ˜¯åˆåŒ…è£…äº†ä¸€å±‚å‡½æ•°ï¼Œæ¥å—å‚æ•°ï¼Œå¤„ç†ä¹‹åå†è¿”å›å®é™…çš„ decoratorï¼Œè¿™ä¸ªå°±æ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„é«˜é˜¶å‡½æ•°ä¸€æ ·ï¼Œä¸ React ä¸­çš„é«˜é˜¶ç»„ä»¶ HOC ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å®šä¹‰è¿™ä¸ªé¡µé¢æ˜¯éœ€è¦ç™»é™†æƒé™çš„é¡µé¢&lt;/span&gt;
@&lt;span class=&quot;token function&quot;&gt;sharePage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OpenCoupons&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;OpenCouponsProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ComponentState&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™é‡Œï¼ŒsharePage æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œç”¨æ¥æ§åˆ¶é¡µé¢æ˜¯å¦å¯ä»¥åˆ†äº«ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* è®¾ç½®é¡µé¢çš„åˆ†äº«é…ç½® */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sharePage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;show&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;target&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ComponentClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; cwm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;componentWillMount
    target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;componentWillMount&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;wx&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token builtin&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getWxConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;importWxJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;ShareConfig&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; shareConfig&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Huiguo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;WxConfig &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              debug&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;debug &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              appId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;app_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              timestamp&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;timestamp&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              nonceStr&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;noncestr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              signature&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;signature&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;wx &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;wx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
              window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;wx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;shareConfig&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                jsApiList&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                  &lt;span class=&quot;token string&quot;&gt;&quot;onMenuShareTimeline&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token string&quot;&gt;&quot;onMenuShareAppMessage&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token string&quot;&gt;&quot;hideOptionMenu&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token string&quot;&gt;&quot;showOptionMenu&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token string&quot;&gt;&quot;hideMenuItems&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                  &lt;span class=&quot;token string&quot;&gt;&quot;showMenuItems&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;show&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;wx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                  window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;wx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hideOptionMenu&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                  &lt;span class=&quot;token comment&quot;&gt;/* window.wx.hideMenuItems({
                    menuList: [&apos;menuItem:share:appMessage&apos;, &apos;menuItem:share:timeline&apos;]
                  }); */&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; cwm &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;cwm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          åº”ç”¨å¤šä¸ª decorator
        &lt;/h3&gt;
      
&lt;p&gt;å¯¹åŒä¸€ä¸ªç±»æˆ–è€…ç±»çš„å±æ€§ï¼Œå¯ä»¥åŒæ—¶åº”ç”¨å¤šä¸ª decoratorï¼Œå®ƒä»¬ä¼šæŒ‰ç…§ decorator çš„é¡ºåºï¼Œå…ˆä»å¤–åˆ°å†…è¿›å…¥ï¼Œç„¶åç”±å†…å‘å¤–æ‰§è¡Œã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;@&lt;span class=&quot;token function&quot;&gt;demoDecorator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
@&lt;span class=&quot;token function&quot;&gt;demoDecorator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
@&lt;span class=&quot;token function&quot;&gt;demoDecorator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OpenCoupons&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Component&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;OpenCouponsProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ComponentState&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸Šé¢çš„å®šä¹‰ï¼Œé‚£ä¹ˆè¿›å…¥ demoDecorator ä¾æ¬¡æ˜¯ 1ï¼Œ2ï¼Œ3ï¼›ä½†æ˜¯ï¼ŒçœŸæ­£å¯¹ç±»&lt;code class=&quot;language-text&quot;&gt;OpenCoupons&lt;/code&gt;åº”ç”¨ decorator æ—¶çš„é¡ºåºæ˜¯ 3ï¼Œ2ï¼Œ1 çš„é¡ºåºã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;demoDecorator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;evaluated&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;target&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ComponentClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;executed&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®é™…ï¼Œæ‰§è¡Œçš„ç»“æœæ˜¯:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt; 1 &lt;span class=&quot;token string&quot;&gt;&quot;evaluated&quot;&lt;/span&gt;
 2 &lt;span class=&quot;token string&quot;&gt;&quot;evaluated&quot;&lt;/span&gt;
 3 &lt;span class=&quot;token string&quot;&gt;&quot;evaluated&quot;&lt;/span&gt;
 3 &lt;span class=&quot;token string&quot;&gt;&quot;executed&quot;&lt;/span&gt;
 2 &lt;span class=&quot;token string&quot;&gt;&quot;executed&quot;&lt;/span&gt;
 1 &lt;span class=&quot;token string&quot;&gt;&quot;executed&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç°åœ¨ï¼ŒGitHub ä¸Šæ¯”è¾ƒå¤šçš„ä¸€ä¸ª decorator åº“æ˜¯&lt;a href=&quot;https://github.com/jayphelps/core-decorators&quot;&gt;core-decorators&lt;/a&gt;ï¼Œè¿™é‡Œå®šä¹‰äº†ä¸€äº›å¸¸è§çš„ç”¨æ³•ï¼Œä½†æ˜¯å¦‚æœè¦ç»“åˆå®é™…ä¸šåŠ¡å»ä½¿ç”¨ï¼Œé‚£å¿…é¡»è‡ªå·±å»å†™äº†ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          å°ç»“
        &lt;/h3&gt;
      
&lt;p&gt;è¿™æ¬¡åœ¨ä¼šè¿‡ç²¾é€‰é¡¹ç›®çš„ M ç«™ä¸­ï¼Œé¡µé¢ç™»å½•æƒé™æ§åˆ¶ï¼Œé¡µé¢åˆ†äº«é…ç½®ï¼ŒæœåŠ¡å™¨æ—¶é—´é…ç½®ç­‰åŠŸèƒ½éƒ½ç”¨åˆ°äº† decoratorã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-6&apos; &gt;
          å‚è€ƒ
        &lt;/h3&gt;
      
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://es6.ruanyifeng.com/#docs/decorator&quot;&gt;http://es6.ruanyifeng.com/#docs/decorator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.sitepoint.com/javascript-decorators-what-they-are/&quot;&gt;https://www.sitepoint.com/javascript-decorators-what-they-are/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/wycats/javascript-decorators&quot;&gt;https://github.com/wycats/javascript-decorators&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[å°ç¨‹åºç»„ä»¶åŒ–ç¼–ç¨‹]]></title><description><![CDATA[åœ¨å¼€å‘å¾®ä¿¡å°ç¨‹åºæ—¶ï¼Œå‘ç°ç¼ºå°‘äº†ç»„ä»¶åŒ–å¼€å‘ä½“éªŒï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†ä¸€æ³¢èµ„æºï¼Œå‘ç°éƒ½ä¸æ˜¯å¾ˆå¥½ã€‚å…¶ä¸­ï¼Œæœ‰ç”¨å¼€å‘ Vue çš„æ–¹å¼å»å¼€å‘å°ç¨‹åºï¼Œæ¯”å¦‚ï¼ŒWePYâ€¦]]></description><link>https://snayan.github.io//post/mini_program_component_programming/</link><guid isPermaLink="false">https://snayan.github.io//post/mini_program_component_programming/</guid><pubDate>Sun, 17 Sep 2017 22:24:28 GMT</pubDate><content:encoded>&lt;p&gt;åœ¨å¼€å‘å¾®ä¿¡å°ç¨‹åºæ—¶ï¼Œå‘ç°ç¼ºå°‘äº†ç»„ä»¶åŒ–å¼€å‘ä½“éªŒï¼Œåœ¨ç½‘ä¸Šæ‰¾äº†ä¸€æ³¢èµ„æºï¼Œå‘ç°éƒ½ä¸æ˜¯å¾ˆå¥½ã€‚å…¶ä¸­ï¼Œæœ‰ç”¨å¼€å‘ Vue çš„æ–¹å¼å»å¼€å‘å°ç¨‹åºï¼Œæ¯”å¦‚ï¼ŒWePYï¼Œæœ€åå°†æºä»£ç ç¼–è¯‘æˆå°ç¨‹åºçš„å®˜æ–¹æ–‡ä»¶æ¨¡å¼ã€‚è¿™ç§æ–¹å¼ï¼Œå¼€å‘æ„Ÿè§‰çˆ½ï¼Œä½†æ˜¯å¦‚æœå°ç¨‹åºç‰ˆæœ¬å‡çº§å˜äº†ä¹‹åï¼Œä¸åœ¨æ”¯æŒè¿™ç§æ–¹å¼ï¼Œé‚£ä¹ˆå°±å¾—é‡æ–°å¼€å‘ä¸€å¥—å°ç¨‹åºå®˜æ–¹æ”¯æŒçš„ä»£ç äº†ï¼Œæˆæœ¬ä»£ä»·å¾ˆå¤§ã€‚å¹¶ä¸”ï¼Œè¿™æ¬¡é¡¹ç›®æ—¶é—´éå¸¸ç´§ï¼Œå›¢é˜Ÿæˆå‘˜ä¸ç†Ÿæ‚‰ vue çš„æƒ…å†µä¸‹ï¼Œä¸æ•¢ç”¨ WePYã€‚ä½†æ˜¯ï¼Œå°ç¨‹åºå®˜æ–¹åˆå¯¹ç»„ä»¶åŒ–æ”¯æŒä¸æ˜¯å¾ˆå‹å¥½ã€‚äºæ˜¯ï¼Œå†³å®šè‡ªå·±å¼„ä¸€å¥—ï¼Œæ—¢æœ‰ç»„ä»¶åŒ–å¼€å‘ä½“éªŒï¼Œåˆæ˜¯æœ€å¤§é™åº¦çš„æ¥è¿‘å°ç¨‹åºå®˜æ–¹çš„å¼€å‘æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰é¡¹ç›®å·²ç»æˆåŠŸä¸Šçº¿ï¼Œå°ç¨‹åºï¼šä¼šè¿‡ç²¾é€‰&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/snayan/weChart-component&quot;&gt;ç¤ºä¾‹åœ°å€&lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          ç¬¬ä¸€æ­¥ï¼Œæ”¹å†™ Page
        &lt;/h3&gt;
      
&lt;p&gt;ç”±äºå°ç¨‹åºçš„é¡µé¢å®šä¹‰æ˜¯é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;Page&lt;/code&gt;æ–¹æ³•å»å®šä¹‰çš„ï¼Œé‚£ä¹ˆï¼Œ&lt;code class=&quot;language-text&quot;&gt;Page&lt;/code&gt;ä¸€å®šåœ¨å°ç¨‹åºå†…å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œæˆ‘åªéœ€è¦æ”¹å†™&lt;code class=&quot;language-text&quot;&gt;Page&lt;/code&gt;è¿™ä¸ªæ–¹æ³•ï¼Œå»å¯ä»¥å¼•ç”¨ç»„ä»¶ï¼Œè°ƒç”¨ç»„ä»¶ï¼Œè§¦å‘ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œç»´æŒç»„ä»¶å†…éƒ¨çš„æ•°æ®çŠ¶æ€ï¼Œé‚£ä¹ˆï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥æ¥è¿‘äº†ç»„ä»¶åŒ–çš„ç¼–ç¨‹ä½“éªŒäº†ï¼Œå¹¶ä¸”å¯ä»¥æŠ½ç¦»å¸¸ç”¨ç»„ä»¶ï¼Œè¾¾åˆ°å¤ç”¨çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å…ˆä¿å­˜åŸPage&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; nativePage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Page

&lt;span class=&quot;token comment&quot;&gt;/* è‡ªå®šä¹‰Page */&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;Page&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...æ”¹å†™Pageé€»è¾‘ï¼Œå¢åŠ è‡ªå·±çš„åŠŸèƒ½&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// æœ€åä¸€å®šå¾—è°ƒç”¨åŸPageæ–¹æ³•ï¼Œä¸ç„¶ï¼Œå°ç¨‹åºé¡µé¢æ— æ³•ç”Ÿæˆ&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;nativePage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;p&gt;ç¡®ä¿åé¢é¡µé¢è°ƒç”¨çš„&lt;code class=&quot;language-text&quot;&gt;Page&lt;/code&gt;æ˜¯æˆ‘ä»¬æ”¹å†™çš„ï¼Œé‚£ä¹ˆï¼Œå¿…é¡»åœ¨å°ç¨‹åºå¯åŠ¨æ—¶å¼•å…¥è¿™ä¸ªæ–‡ä»¶ï¼Œè¾¾åˆ°æ”¹å†™&lt;code class=&quot;language-text&quot;&gt;Page&lt;/code&gt;çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åœ¨app.js å¤´éƒ¨å¼•å…¥,å‡å¦‚æˆ‘ä»¬çš„æ–‡ä»¶åå«registerPage.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./registerPage&quot;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          ç¬¬äºŒæ­¥ï¼Œå¼•å…¥ç»„ä»¶
        &lt;/h3&gt;
      
&lt;p&gt;åŸ&lt;code class=&quot;language-text&quot;&gt;page&lt;/code&gt;çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡é‡Œå®šä¹‰äº†é¡µé¢çš„&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; ï¼Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œç­‰ç­‰ã€‚å¦‚æœè¦å¼•å…¥ç»„ä»¶ï¼Œæˆ‘å¾—å®šä¸€ä¸ªå­—æ®µï¼Œç”¨æ¥è¡¨æ˜ï¼Œéœ€è¦å¼•å…¥çš„ç»„ä»¶ã€‚æˆ‘å†³å®šç”¨&lt;code class=&quot;language-text&quot;&gt;componnets&lt;/code&gt; è¿™ä¸ªå­—æ®µå»å¼•å…¥å½“å‰é¡µé¢éœ€è¦å¼•å…¥çš„ç»„ä»¶ã€‚&lt;code class=&quot;language-text&quot;&gt;components&lt;/code&gt;æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥åŒæ—¶å¼•å…¥å¤šä¸ªä¸åŒçš„ç»„ä»¶ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// åœ¨componentsä¸­å¼•å…¥é¡µé¢éœ€è¦çš„ç»„ä»¶ï¼Œæˆ‘ä»¬è¿™é‡Œå¼•å…¥äº†Toastå’ŒLifeCycleè¿™2ä¸ªç»„ä»¶&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;Page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  components&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Toast&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LifeCycle&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    motto&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello World&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    userInfo&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;components&lt;/code&gt;ï¼Œè¡¨æ˜äº†éœ€è¦å¼•å…¥çš„ç»„ä»¶ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦æ³¨å…¥ç»„ä»¶çš„ç›¸å…³æ•°æ®å’Œæ–¹æ³•åˆ°å½“å‰é¡µé¢ï¼Œä»¥ä¿è¯å½“å‰é¡µé¢å†…èƒ½è°ƒç”¨ç»„ä»¶çš„æ–¹æ³•ï¼Œæˆ–æ›´æ”¹ç»„ä»¶çš„æ•°æ®çŠ¶æ€ï¼Œä»¥è¾¾åˆ°é¡µé¢çš„æ›´æ–°ã€‚ä¸ºäº†å®ç°è¿™ä¸ªï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰è§„èŒƒç»„ä»¶çš„ç»“æ„ï¼Œè¿™æ ·æ‰èƒ½æ­£ç¡®æ‹¿åˆ°ç»„ä»¶çš„ç›¸å…³ä¿¡æ¯ã€‚æˆ‘ä»¬å®šä¹‰çš„ç»„ä»¶æ ¼å¼ä¸º&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å®šä¹‰äº†ä¸€ä¸ªåˆå§‹åŒ–ç»„ä»¶çš„æ–¹æ³•initComponent,è¿™ä¸ªæ–¹æ³•å°±æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè·Ÿpageé‡Œçš„å‚æ•°ç±»ä¼¼ï¼Œæè¿°äº†ç»„ä»¶äº†ç›¸å…³ä¿¡æ¯ã€‚&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;initComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    timer&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      content&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;msg&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; initComponent &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          ç¬¬ä¸‰æ­¥ï¼Œæ³¨å…¥ç»„ä»¶
        &lt;/h3&gt;
      
&lt;p&gt;æœ‰äº†ç»„ä»¶çš„ç›¸å…³ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿™äº›ä¿¡æ¯è‡ªåŠ¨æ³¨å…¥åˆ°é¡µé¢ä¸­ï¼Œè¿™æ ·ï¼Œåœ¨é¡µé¢ä¸­æ‰èƒ½ä¸ç»„ä»¶é€šä¿¡ï¼Œå¹¶ä¸”ä¹Ÿéœ€è¦æŠŠé¡µé¢çš„ä¿¡æ¯å¼•å…¥åˆ°ç»„ä»¶å†…ï¼Œè¿™æ ·ï¼Œåœ¨ç»„ä»¶ä¸­ä¹Ÿå¯ä¸çˆ¶çº§é¡µé¢é€šä¿¡ã€‚å…¶ä¸­ï¼Œç»„ä»¶å†…éƒ¨æœ€ä¸ºé‡è¦çš„å°±æ˜¯&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; å­—æ®µäº†ï¼Œè¿™ä¸ªå­—æ®µå†…çš„æ•°æ®å˜åŒ–äº†ï¼Œä¹Ÿè¦ä¿è¯é¡µé¢è‡ªåŠ¨åˆ·æ–°ï¼Œè·Ÿé¡µé¢åŠŸèƒ½ä¸€æ ·ã€‚ä¸ºäº†éš”ç¦»å„ä¸ªç»„ä»¶å†…éƒ¨çš„æ•°æ®ï¼Œæˆ‘å¯¹æ¯ä¸ªç»„ä»¶é»˜è®¤å®šä¸€ä¸ªå‘½åç©ºé—´ï¼Œè¿™ä¸ªå‘½åç©ºé—´å°±æ˜¯ç»„ä»¶çš„åå­—ã€‚æŠŠç»„ä»¶å†…éƒ¨çš„æ•°æ®æŒ‚åœ¨è‡ªå·±çš„å‘½åç©ºé—´ä¸‹ï¼Œå†æŠŠè¿™ä¸ªå‘½åç©ºé—´æŒ‚åˆ°é¡µé¢çš„&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; ä¸‹ã€‚åŒæ—¶ï¼ŒæŠŠç»„ä»¶çš„æ–¹æ³•å’Œå…¶ä»–ç†Ÿæ‚‰ä»¥&lt;code class=&quot;language-text&quot;&gt;ç»„ä»¶å.æ–¹æ³•åæˆ–å±æ€§å&lt;/code&gt;çš„æ–¹æ³•æŒ‚åˆ°é¡µé¢ä¸‹ã€‚è¿™æ ·ï¼Œç»„ä»¶çš„ç›¸å…³ä¿¡æ¯å°±éƒ½æ³¨å…¥åˆ°é¡µé¢ä¸­äº†ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// æŒ‚è½½ç»„ä»¶çš„dataï¼Œä»¥ç»„ä»¶åä¸ºå‘½åç©ºé—´æŒ‚è½½&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  o&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;o&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æŒ‚è½½ç»„ä»¶çš„æ–¹æ³•ï¼Œä»¥ã€ç»„ä»¶å.æ–¹æ³•åã€‘æŒ‚è½½&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; fns &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token parameter&quot;&gt;vv&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;vv&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;vv&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; fn &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; fns&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  o&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;fn&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; newThis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createComponentThis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; v&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;fn&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          ç¬¬å››æ­¥ï¼Œéš”ç¦»ç»„ä»¶
        &lt;/h3&gt;
      
&lt;p&gt;ä¸ºäº†åœ¨ç»„ä»¶å†…è°ƒç”¨è‡ªå·±çš„æ–¹æ³•ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºæ¯ä¸ªç»„ä»¶åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œä»¥éš”ç¦»ç»„ä»¶å’Œçˆ¶çº§é¡µé¢ä½œç”¨åŸŸã€‚ä¿è¯äº†ï¼Œåœ¨ç»„ä»¶å†…éƒ¨æ›´æ”¹&lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt;ï¼Œä¸ä¼šå¯¹çˆ¶çº§é¡µé¢æœ‰å½±å“ã€‚åŒæ—¶ï¼Œç»„ä»¶å†…éƒ¨ä¹Ÿå¿…é¡»æœ‰å’Œçˆ¶çº§é¡µé¢ç±»ä¼¼çš„&lt;code class=&quot;language-text&quot;&gt;setData&lt;/code&gt;æ–¹æ³•ï¼Œè¾¾åˆ°åŒæ ·çš„åˆ·æ–°é¡µé¢çš„ç›®çš„ã€‚æˆ‘ä»¬å®šä¹‰ä¸€ç»„ä¿æŠ¤çš„å±æ€§åã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* å—ä¿æŠ¤çš„å±æ€§ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; protectedProperty &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;parent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;setData&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;name&lt;/code&gt;æ˜¯ç»„ä»¶çš„åç§°ï¼Œ&lt;code class=&quot;language-text&quot;&gt;parent&lt;/code&gt;æ˜¯å¯¹çˆ¶çº§é¡µé¢çš„å¼•ç”¨ï¼Œ&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt; æ˜¯ç»„ä»¶å†…éƒ¨æ•°æ®çŠ¶æ€ï¼Œ&lt;code class=&quot;language-text&quot;&gt;setData&lt;/code&gt;æ˜¯è·Ÿçˆ¶çº§é¡µé¢ç±»ä¼¼çš„æ–¹æ³•ï¼Œç”¨æ¥æ›´æ”¹ç»„ä»¶å†…éƒ¨è‡ªå·±çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºç»„ä»¶ä½œç”¨åŸŸ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* åˆ›å»ºä¸€ä¸ªæ–°çš„Componentä½œç”¨åŸŸ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;createComponentThis&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;component&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; page&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; component&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;page&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`__&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.this__`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`__&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.this__`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; keys &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;component&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; newThis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; protectedKeys &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; protectedProperty&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;protectedEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; otherKeys &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; keys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;~&lt;/span&gt;protectedKeys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; key &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; otherKeys&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; component&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;defineProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;key&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          page&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;key&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; val
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;defineProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; component&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;key&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;val&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          component&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;key&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; val
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;defineProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    configurable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    enumerable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; name
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;defineProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    configurable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    enumerable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;defineProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;parent&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    configurable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    enumerable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; page
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;defineProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;setData&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;parseData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    enumerable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    configurable&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  page&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`__&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.this__`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; newThis
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; newThis
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h3 id=&apos;toc-3-5&apos; &gt;
          ç¬¬äº”æ­¥ï¼Œè§¦å‘ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•
        &lt;/h3&gt;
      
&lt;p&gt;æ¯ä¸ªç»„ä»¶å¿…é¡»éƒ½å¯ä»¥å®šä¹‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸çˆ¶çº§é¡µé¢çš„ä¸€æ ·ã€‚å› ä¸ºï¼Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¿…é¡»æ˜¯åœ¨çˆ¶çº§é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å†…è§¦å‘çš„ã€‚å¿…é¡»æ˜¯å°ç¨‹åºå®˜æ–¹æ”¯æŒçš„ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* å—ä¿æŠ¤çš„é¡µé¢äº‹ä»¶ */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; protectedEvent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;onLoad&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;onReady&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;onShow&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;onHide&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;onUnload&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;onPullDownRefreash&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;onReachBottom&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;onPageScroll&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æˆ‘ä»¬å¿…é¡»æŠŠç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æŒ‚åœ¨çˆ¶çº§é¡µé¢çš„å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å†…ï¼Œè¿™æ ·ï¼Œæ‰èƒ½åœ¨è§¦å‘çˆ¶çº§é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ—¶ï¼Œè‡ªåŠ¨è§¦å‘ç»„ä»¶å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚&lt;em&gt;å…¶ä¸­ï¼Œå…ˆæ˜¯è§¦å‘å®Œæ‰€æœ‰çš„ç»„ä»¶çš„æ–¹æ³•ï¼Œå†æœ€åè§¦å‘çˆ¶çº§é¡µé¢çš„æ–¹æ³•&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* ç»‘å®šå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;bindComponentLifeEvent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;page&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; components &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;components
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; key &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; protectedEvent&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; symbols &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;for&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pageLifeFn &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;symbols&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; symbols&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; pageLifeFn &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        symbols&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          fn&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; pageLifeFn&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;page&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          context&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      page&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; pageThis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; args &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ofn &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; symbols&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; currentThis
          &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ofn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;component&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            currentThis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createComponentThis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ofn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pageThis&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            currentThis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pageThis
          &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          args&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; ofn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ofn&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentThis&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é€šè¿‡ä¸Šè¿°è¿™äº›æ­¥éª¤æ”¹å†™&lt;code class=&quot;language-text&quot;&gt;Page&lt;/code&gt;ä¹‹åï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥å¿«é€Ÿå¼€å§‹äº†æˆ‘çš„å°ç¨‹åºç»„ä»¶åŒ–ç¼–ç¨‹ä½“éªŒäº†ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®åŸç†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å°ç¨‹åºå¯åŠ¨æ—¶åŠ«è·å°ç¨‹åºçš„ Page å‡½æ•°ï¼Œåœ¨è‡ªå®šä¹‰çš„ Page å‡½æ•°ä¸­æ³¨å…¥å­ç»„ä»¶çš„ç›¸å…³æ•°æ®åˆ°çˆ¶çº§é¡µé¢ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;å°†ç»„ä»¶çš„ data æ³¨å…¥åˆ°çˆ¶çº§é¡µé¢çš„ data ä¸‹ï¼Œä½†æ˜¯ç»„ä»¶çš„ data ä¼šä»¥ç»„ä»¶ name ä¸ºå‘½åç©ºé—´ï¼Œä»¥éš”ç¦»çˆ¶çº§ data æˆ–å…¶ä»–ç»„ä»¶çš„ data&lt;/li&gt;
&lt;li&gt;å°†ç»„ä»¶çš„ä¸€èˆ¬æ–¹æ³•ï¼ˆéç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼‰æ³¨å…¥åˆ°çˆ¶çº§é¡µé¢çš„æ–¹æ³•ä¸­ï¼Œæ–¹æ³•åå˜æˆäº†{ç»„ä»¶ name.æ–¹æ³•å}&lt;/li&gt;
&lt;li&gt;åœ¨ç»„ä»¶å†…éƒ¨çš„æ–¹æ³•éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ç»„ä»¶ thisï¼Œéš”ç¦»çˆ¶çº§ thisï¼Œç»„ä»¶ this ä¸­éƒ½æ˜¯å®šä¹‰äº†ä¸€ç³»åˆ—çš„ getterï¼Œsetter æ–¹æ³•ï¼Œå®é™…æ“ä½œçš„æ˜¯æ³¨å…¥åˆ°çˆ¶çº§é¡µé¢ä¸­çš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;æ³¨æ„ç‚¹&lt;/em&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»„ä»¶é‡Œçš„æ–¹æ³•å¿…é¡»æ˜¯ es5 çš„å‡½æ•°å£°æ˜æ¨¡å¼ï¼Œä¸èƒ½æ˜¯ es6 çš„ç®­å¤´å‡½æ•°ï¼Œå› ä¸ºä½¿ç”¨ es6 çš„ç®­å¤´å‡½æ•°ä¼šä¸¢å¤±ç»„ä»¶ thisã€‚&lt;/li&gt;
&lt;li&gt;ç»„ä»¶çš„ js è¾¾åˆ°äº†è‡ªåŠ¨åŒ–æ³¨å…¥ï¼Œä½†æ˜¯ wxml å’Œ wxss è¿˜æ˜¯å¾—æ‰‹åŠ¨å¼•å…¥ã€‚&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[ç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆæµ…è°ˆ]]></title><description><![CDATA[ä¸€ç›´æƒ³æŠ½æ—¶é—´æ€»ç»“ä¸€ä¸‹ç°åœ¨ä¸šç•Œå¯ç”¨çš„ç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆã€‚éœ€æ±‚å¤šï¼Œ995 æ¨¡å¼ï¼Œèº«å¿ƒè¢«æç©ºï¼Œä¸€æ‹–å†æ‹–ï¼Œç»ˆäºåœ¨å‘¨å…­çš„æ™šä¸Šï¼Œåšç€æ¢¦å¼„å®Œæˆçš„ï¼Œä¸è¶³ä¹‹é“ ğŸ˜ªï¼Œè¯·æŒ‡æ•™æ”¹æ­£ ğŸ¤ ã€‚ç›´æ¥é‡‡ç”¨åª’ä½“æŸ¥è¯¢åŠ ç™¾åˆ†æ¯”å»å¸ƒå±€ã€‚æ ¸å¿ƒæ€æƒ³ï¼šé¡µé¢ä¸»ä½“å¸ƒå±€åŸºæœ¬é‡‡ç”¨ç™¾åˆ†æ¯”å»è®¾ç½®ã€‚ç„¶åï¼Œå…¶ä»–å—å†…å¸ƒå±€,ä¾‹å¦‚ fontâ€¦]]></description><link>https://snayan.github.io//post/mobile-layout/</link><guid isPermaLink="false">https://snayan.github.io//post/mobile-layout/</guid><pubDate>Mon, 31 Jul 2017 22:23:19 GMT</pubDate><content:encoded>&lt;p&gt;ä¸€ç›´æƒ³æŠ½æ—¶é—´æ€»ç»“ä¸€ä¸‹ç°åœ¨ä¸šç•Œå¯ç”¨çš„ç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆã€‚éœ€æ±‚å¤šï¼Œ995 æ¨¡å¼ï¼Œèº«å¿ƒè¢«æç©ºï¼Œä¸€æ‹–å†æ‹–ï¼Œç»ˆäºåœ¨å‘¨å…­çš„æ™šä¸Šï¼Œåšç€æ¢¦å¼„å®Œæˆçš„ï¼Œä¸è¶³ä¹‹é“ ğŸ˜ªï¼Œè¯·æŒ‡æ•™æ”¹æ­£ ğŸ¤ ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          media+ç™¾åˆ†æ¯”
        &lt;/h3&gt;
      
&lt;p&gt;ç›´æ¥é‡‡ç”¨åª’ä½“æŸ¥è¯¢åŠ ç™¾åˆ†æ¯”å»å¸ƒå±€ã€‚&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒæ€æƒ³ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¡µé¢ä¸»ä½“å¸ƒå±€åŸºæœ¬é‡‡ç”¨ç™¾åˆ†æ¯”å»è®¾ç½®ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œå…¶ä»–å—å†…å¸ƒå±€,ä¾‹å¦‚ font-size ç­‰å¯é€šè¿‡è®¾ç½®åª’ä½“æŸ¥è¯¢çš„æ–­ç‚¹æ¥åˆ†è®¾ç½®ï¼Œå·²è¾¾åˆ°å…¼å®¹å…¶ä»–æ‰‹æœºå°ºå¯¸ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;!--more--&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çµæ´»ï¼Œç®€å•&lt;/li&gt;
&lt;li&gt;å…¼å®¹æ€§å¥½ï¼Œåª’ä½“æŸ¥è¯¢ï¼Œ97.65%çš„æµè§ˆå™¨éƒ½æ”¯æŒäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åª’ä½“æŸ¥è¯¢çš„æ–­ç‚¹è®¾ç½®éº»çƒ¦ï¼Œåªèƒ½åœ¨é€‰å–çš„å‡ ä¸ªä¸»æµè®¾å¤‡å°ºå¯¸ä¸‹å‘ˆç°å®Œç¾é€‚é…ã€‚&lt;/li&gt;
&lt;li&gt;1px çš„é—®é¢˜ï¼Œéœ€è¦é¢å¤–åšå¤„ç†ï¼Œæ¯”å¦‚ transform:scaleX(0.5)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å­ï¼šäº¬ä¸œ
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/db2f9495be56d06d7752fada8166e710/ab042/media.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 40.67796610169491%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAPoAAAD6AG1e1JrAAAB2UlEQVQY0w2Qy2vUQADG83d50JseigiKF23B+qrWeikL9rAHodSDSlGQLbUgWFBat1baFRda14N7qA90aWlNNbt5TJLJZGYyyUzeu9usuXyHD37wfT+JMWZbFnQcAIALQEhJFIW+L0DP6Cm2BaChWSbAHiGUUEyogxBELibE51x6vrDw+N79ytzc7PT07o2pn5VqEoZpNoAagoCFXFAiMEkiwX0/4cQTyEkZiykWLpLmKw+uXrk2Pjk1cX3m4Wx1/PydwOej0ShnJCIoYsEwy0/yfjE6KcsYQ9DtOpZJkMMIkW5evD1z+kJl7PKtU+cmz45NnLmEqHi3J1417bUdde0Let/G9a+4zI02bX/TA0aCMMoGgzTPpdX1ndeLW63l5u76xrO3tdX6G8qSxQZ9+gG+bChL22qtYdY+Gktbf5/Ule2WWsrwLDPELkdQ+qyxgwM373UDq9MzD38EZtHvlwvTOIRGV1dtWcE93cWWTpGdJUlSqnKg73nC9yUEVfi7SVWZ/dvH3zdNs5PlwxIOAi4fHR/LYP8IyQoyNE3TLY/xJBQlxrngQkiZ+SddqQYrj8SL+Xj5bna4WbJZmlDqaarZ7sBPe6j1Cxs29QIehxG17fJtURTD4fA/pIiLVCuvnJwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/db2f9495be56d06d7752fada8166e710/cc182/media.webp 148w,
/static/db2f9495be56d06d7752fada8166e710/f7e40/media.webp 295w,
/static/db2f9495be56d06d7752fada8166e710/1a2f4/media.webp 590w,
/static/db2f9495be56d06d7752fada8166e710/4837b/media.webp 885w,
/static/db2f9495be56d06d7752fada8166e710/2f819/media.webp 1180w,
/static/db2f9495be56d06d7752fada8166e710/82da6/media.webp 2360w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/db2f9495be56d06d7752fada8166e710/cf440/media.png 148w,
/static/db2f9495be56d06d7752fada8166e710/d2d38/media.png 295w,
/static/db2f9495be56d06d7752fada8166e710/b9e4f/media.png 590w,
/static/db2f9495be56d06d7752fada8166e710/f9b6a/media.png 885w,
/static/db2f9495be56d06d7752fada8166e710/2d849/media.png 1180w,
/static/db2f9495be56d06d7752fada8166e710/ab042/media.png 2360w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/db2f9495be56d06d7752fada8166e710/b9e4f/media.png&quot;
          alt=&quot;hotcss&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          hotcss
        &lt;/h3&gt;
      
&lt;p&gt;è¿™ä¸ªæ–¹æ¡ˆæ¯”è¾ƒç®€å•å’Œå®ç”¨ï¼Œç†è§£èµ·æ¥ä¹Ÿä¸éš¾ã€‚é¡¹ç›®åœ°å€&lt;a href=&quot;https://github.com/imochen/hotcss&quot;&gt;æŸ¥çœ‹è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åŸç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªåŠ¨é€šè¿‡ hotcss.js è®¡ç®—é¡µé¢çš„&lt;code class=&quot;language-text&quot;&gt;html&lt;/code&gt;çš„&lt;code class=&quot;language-text&quot;&gt;font-size&lt;/code&gt;çš„å¤§å°ï¼Œå…¶ååœ¨å¸ƒå±€ä¸­ä½¿ç”¨ rem ä½œä¸ºåƒç´ å•ä½ï¼Œä½¿å¾—é¡µé¢åœ¨ä¸åŒçš„ç§»åŠ¨è®¾å¤‡ä¸Šå¯ä»¥è§†è§‰ä¸€è‡´ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡è·å– dprï¼Œåœ¨&lt;code class=&quot;language-text&quot;&gt;html&lt;/code&gt;ä¸Šè®¾ç½®å±æ€§&lt;code class=&quot;language-text&quot;&gt;data-dpr&lt;/code&gt;ï¼Œåœ¨è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;font-size&lt;/code&gt;æ—¶ï¼Œå¯ä»¥é…åˆ&lt;code class=&quot;language-text&quot;&gt;data-dpr&lt;/code&gt;æ¥ä½¿ç”¨ px ä½œä¸ºåƒç´ å•ä½ã€‚&lt;/li&gt;
&lt;li&gt;è®¡ç®— scaleï¼Œä¸ºé¡µé¢è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;viewport&lt;/code&gt;ï¼Œä½¿å¾—é¡µé¢æ ¹æ® dpr è¿›è¡Œç¼©æ”¾ï¼Œæœ€ç»ˆè¾¾åˆ°ï¼Œ1 ä¸ªç‰©ç†åƒç´ =1pxã€‚è¿™æ ·ï¼Œä¹Ÿæœ‰æ•ˆè§£å†³äº† 1px çš„é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;é»˜è®¤åœ¨ 320px å±å¹•ä¸­ï¼ˆé Retina å±ï¼‰ï¼Œ1rem=20px;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¸å¿ƒæºç ï¼š&lt;/p&gt;
&lt;p&gt;è®¡ç®— dpr å¹¶è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;data-dpr&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;scale&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—dpr&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; dpr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;devicePixelRatio &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// åœ¨å…¶ä»–çš„ä¸€äº›æ–¹æ¡ˆä¸­ï¼Œä¼šåŒºåˆ†ioså’Œandroidï¼Œå¯¹androidç»Ÿä¸€è®¾ç½®ä¸º1.&lt;/span&gt;
dpr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; dpr &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; dpr &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®data-dpr&lt;/span&gt;
document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;data-dpr&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dpr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—scale&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; scale &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; dpr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  content &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;width=device-width,initial-scale=&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    scale &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;,minimum-scale=&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    scale &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;,maximum-scale=&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    scale &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;,user-scalable=no&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ’å…¥metaï¼Œè®¾ç½®é¡µé¢ç¼©æ”¾&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; viewport &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;meta&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
viewport&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;viewport&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
viewport&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; content&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;head&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;viewport&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è®¡ç®—&lt;code class=&quot;language-text&quot;&gt;font-size&lt;/code&gt;å¹¶è®¾ç½®&lt;code class=&quot;language-text&quot;&gt;html&lt;/code&gt;çš„&lt;code class=&quot;language-text&quot;&gt;font-size&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// è·å–è®¾å¤‡çš„å®½åº¦&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; innerWidth &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBoundingClientRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerWidth
&lt;span class=&quot;token comment&quot;&gt;// è®¡ç®—font-seizeï¼Œé»˜è®¤320pxä¸­ï¼Œ1rem=20px.&lt;/span&gt;
document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;documentElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fontSize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;innerWidth &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åç»­å¸ƒå±€å¤„ç†ç®€å•ï¼Œé…åˆ px2rem æ’ä»¶ç­‰ï¼Œä½¿ç”¨ååˆ†æ–¹ä¾¿ã€‚&lt;/li&gt;
&lt;li&gt;åŸºæœ¬èƒ½å¾ˆå¥½é€‚é…å¸‚é¢å³å¤§å¤šæ•°å°ºå¯¸æ‰‹æœºã€‚&lt;/li&gt;
&lt;li&gt;å…¼å®¹æ€§ä¹Ÿæ¯”è¾ƒå¥½ï¼Œ97.62%æµè§ˆå™¨åŸºæœ¬æ”¯æŒ rem å•ä½äº†ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡è®¾ç½®ç¼©æ”¾æ¯”ä¾‹ï¼Œæœ‰æ•ˆè§£å†³äº† 1px çš„é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¡µé¢éœ€è¦é¢å¤–å¼•å…¥ js è„šæœ¬å»è®¡ç®—ï¼Œå¢åŠ ä¸€æ¬¡é¢å¤–çš„ http è¯·æ±‚ï¼Œæˆ–å†…åµŒåˆ°é¡µé¢ä¸­å¢åŠ é¡µé¢ä½“ç§¯å¤§å°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å­ï¼šå·çš®
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/af52ec43cd19b1b626e3e47775b680db/087d3/hotcss.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.980392156862756%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAB8ElEQVQozx1S2XKbQADj/3+kj31spk3q1jYQe5o0TWIcL8eyXLvc7MWyGHBp9aqRNBrJkFrndV2URVmVJaWYsaqXlDHa1HkAUxekAFQQ5L5bBCAPfOz7xHMrgqu6NiSKVBT3lEpK+wtQO6u3D4oL3UsOfAYcCoPW93mcySQRScqjRKXkNvTzshgDitjFlR1Vgg+n83B3P2y2mov5tvR0KD0P+bHndVlUxKhsi4I2nR6GaZqv16tx1ZpR2lEqpOTDIK5XNo5qpedJ0qEK/Ajik9OEQZmHQeA1Ydjpnqte62E0akzyNCOEYIybpslgRFC8Gq1iLXUDoQsT+1S4iOAInZ2sKejtP+Z5MsIo3lrW4XC8XIB1/LX79Pn160bqf8mCjQSm0EdPz9nba+Y45P09O70VadwkcQsRNXCWvr38BuAcIegA4IMTDBHnfFD6+Sn5/g0cTfDz4ePuLtibsWkn5mNi2rF1SA82NCYCb+/HhZu3zvqi20ALs1rUNPdt9/Lo2jtntz1blr/bnx9+BJtduNnCvY3sJ/xnfzJY27JqnbZToisFF6qvmNTjuEyjpF3kuQhlISyblKQwb7K1OcFJxTs2K2EwztdLLMsyz3NdlqMeVVsoKZbbUnfq45KRMIoSlpQ9qWjeCB/LsFRZsd5C/QUq7hxYqbmcFwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/af52ec43cd19b1b626e3e47775b680db/cc182/hotcss.webp 148w,
/static/af52ec43cd19b1b626e3e47775b680db/f7e40/hotcss.webp 295w,
/static/af52ec43cd19b1b626e3e47775b680db/1a2f4/hotcss.webp 590w,
/static/af52ec43cd19b1b626e3e47775b680db/4837b/hotcss.webp 885w,
/static/af52ec43cd19b1b626e3e47775b680db/2f819/hotcss.webp 1180w,
/static/af52ec43cd19b1b626e3e47775b680db/ad9a8/hotcss.webp 1836w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/af52ec43cd19b1b626e3e47775b680db/cf440/hotcss.png 148w,
/static/af52ec43cd19b1b626e3e47775b680db/d2d38/hotcss.png 295w,
/static/af52ec43cd19b1b626e3e47775b680db/b9e4f/hotcss.png 590w,
/static/af52ec43cd19b1b626e3e47775b680db/f9b6a/hotcss.png 885w,
/static/af52ec43cd19b1b626e3e47775b680db/2d849/hotcss.png 1180w,
/static/af52ec43cd19b1b626e3e47775b680db/087d3/hotcss.png 1836w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/af52ec43cd19b1b626e3e47775b680db/b9e4f/hotcss.png&quot;
          alt=&quot;hotcss&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          flexible
        &lt;/h3&gt;
      
&lt;p&gt;è¿™ä¸ªæ˜¯æ‰‹æœºæ·˜å®æ¨å‡ºæ¥ä¸€ä¸ªæ–¹æ¡ˆï¼Œè§£å†³æ‰‹æœºæ·˜å® H5 åœ¨ç§»åŠ¨ç«¯çš„å¸ƒå±€ã€‚é¡¹ç›®åœ°å€&lt;a href=&quot;https://github.com/amfe/lib-flexible&quot;&gt;æŸ¥çœ‹è¿™é‡Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åŸç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªåŠ¨é€šè¿‡ flexible.js è®¡ç®—é¡µé¢&lt;code class=&quot;language-text&quot;&gt;html&lt;/code&gt;çš„&lt;code class=&quot;language-text&quot;&gt;font-size&lt;/code&gt;çš„å¤§å°ï¼Œç„¶ååœ¨é¡µé¢å¸ƒå±€ä¸­ä½¿ç”¨ rem ä½œä¸ºå•ä½ï¼Œè€Œé pxã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœé¡µé¢æŒ‡å®šäº†&lt;code class=&quot;language-text&quot;&gt;meta[name=&amp;quot;viewport&amp;quot;]&lt;/code&gt;ï¼Œåˆ™ç›´æ¥æ ¹æ®å·²æœ‰çš„ meta æ ‡ç­¾æ¥è®¾ç½®ç¼©æ”¾æ¯”ä¾‹ï¼›å¦åˆ™ï¼Œé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;dpr&lt;/code&gt;æ¥è‡ªåŠ¨è®¡ç®—é¡µé¢ç¼©æ”¾æ¯”ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;è®¾ç½® 1rem=10vwï¼Œä¾‹å¦‚ï¼Œåœ¨ 320px å±å¹•ï¼ˆé Retina å±ï¼‰ï¼Œ1rem=32pxï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¸å¿ƒæºç ï¼š&lt;/p&gt;
&lt;p&gt;è®¡ç®—ç¼©æ”¾æ¯”ä¾‹&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// å‚è¯•è·å–é¡µé¢å·²å®šä¹‰çš„ç¼©æ”¾æ¯”ä¾‹&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; metaEl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; doc&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;querySelector&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;meta[name=&quot;viewport&quot;]&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;metaEl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;å°†æ ¹æ®å·²æœ‰çš„metaæ ‡ç­¾æ¥è®¾ç½®ç¼©æ”¾æ¯”ä¾‹&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; match &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; metaEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/initial\-scale=([\d\.]+)/&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;match&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    scale &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parseFloat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;match&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    dpr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; scale&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// å¦‚æœæ²¡æœ‰ï¼Œåˆ™è‡ªåŠ¨è®¡ç®—&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;dpr &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;scale&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; isAndroid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; win&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;appVersion&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/android/gi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; isIPhone &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; win&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;navigator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;appVersion&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token regex&quot;&gt;/iphone/gi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; devicePixelRatio &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; win&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;devicePixelRatio
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isIPhone&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// iOSä¸‹ï¼Œå¯¹äº2å’Œ3çš„å±ï¼Œç”¨2å€çš„æ–¹æ¡ˆï¼Œå…¶ä½™çš„ç”¨1å€æ–¹æ¡ˆ&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;devicePixelRatio &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;dpr &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; dpr &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      dpr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;devicePixelRatio &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;dpr &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; dpr &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      dpr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      dpr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å…¶ä»–è®¾å¤‡ä¸‹ï¼Œä»æ—§ä½¿ç”¨1å€çš„æ–¹æ¡ˆ&lt;/span&gt;
    dpr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  scale &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; dpr
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è®¾ç½® meta&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;metaEl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  metaEl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; doc&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;meta&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  metaEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;viewport&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  metaEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;content&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;initial-scale=&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
      scale &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;, maximum-scale=&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
      scale &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;, minimum-scale=&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
      scale &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&quot;, user-scalable=no&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;docEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;firstElementChild&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    docEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;firstElementChild&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;metaEl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; wrap &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; doc&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;div&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    wrap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;metaEl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    doc&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wrap&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è®¡ç®—é¡µé¢çš„ html çš„ font-size&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; width &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; docEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBoundingClientRect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;width
&lt;span class=&quot;token comment&quot;&gt;// æœ€å¤§å±å¹•å®½åº¦ä¸º540*dpr&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; dpr &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;540&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  width &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;540&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; dpr
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// è®¾ç½®1rem=10vw&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; rem &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; width &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
docEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;style&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fontSize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rem &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;px&quot;&lt;/span&gt;
flexible&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rem &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; win&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rem &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; rem&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¼˜ç¼ºç‚¹åŒ hotcssã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å­ï¼šæ·˜å®
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e19bf945503c353cb2bb8060ca7af78f/01cfd/flexible.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.384193194291996%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAPoAAAD6AG1e1JrAAACIElEQVQozzWOSWsUQQCF+y8J/gJPglcRvYgXEY/iUfEgQRRBoiDRQzQuGCREc1NiQxBNJonDTGYyWy/VW3VXdXX1vkx199T0OBh8PD7e5YMnZLyhbObXc7/kdDojRR3zJpmyyKcE6LYs25JMddVVgQsAXlIFWFGXOzQNod57h57chiu38Opd79U99OwOeHgzH/0py5q0T93+MDV15kDmeqVLauIxRArkFohwgoXtx/e3r55/euXS6o3LK9evrV08l14QmPiRLxYsmfqaAXVkaFFKIUQxChirZov/EbZ64ovdN8/Fz2vi5qfO1pfd9e7pWxxNmvmimlYhRJpGZSmKsNlViHjiAZQsteZM/o5+PhI3Hmy+/NDfeL23vv7+x0Gr7ZROw5syrwLDcEwbGh6BcKgE3THVzIgV1ZktmFZvsP9V7x+0T7Rh93f7247YtnOW8TlnWYVkADUDKB6YmNAMKQ4dO44iVv07L+QIu4fHTV+Sj2E4GTN3dDSGdVVzXqdJqStQUezDE9ruu+0eOujgvhqOrXQCszirBIakaW+nDFpNvFcrvfJ4tBjt1FXFOY+TUpJdoOGhmgCY2A6WjHBgpMDNIc5pXAmFTzPbijHyCQ6IG1IaBXTGeZWnpD/UWz2jNSCSEpog0K1AN6lmLBlqRmxZQuHYBVDLJLX8GIdxGASObc/m87pIE0XT9zunv47UoxHqDDxZzx1UILxsZmNG3L/+JwWsijNoUwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/e19bf945503c353cb2bb8060ca7af78f/cc182/flexible.webp 148w,
/static/e19bf945503c353cb2bb8060ca7af78f/f7e40/flexible.webp 295w,
/static/e19bf945503c353cb2bb8060ca7af78f/1a2f4/flexible.webp 590w,
/static/e19bf945503c353cb2bb8060ca7af78f/4837b/flexible.webp 885w,
/static/e19bf945503c353cb2bb8060ca7af78f/2f819/flexible.webp 1180w,
/static/e19bf945503c353cb2bb8060ca7af78f/f309c/flexible.webp 1822w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/e19bf945503c353cb2bb8060ca7af78f/cf440/flexible.png 148w,
/static/e19bf945503c353cb2bb8060ca7af78f/d2d38/flexible.png 295w,
/static/e19bf945503c353cb2bb8060ca7af78f/b9e4f/flexible.png 590w,
/static/e19bf945503c353cb2bb8060ca7af78f/f9b6a/flexible.png 885w,
/static/e19bf945503c353cb2bb8060ca7af78f/2d849/flexible.png 1180w,
/static/e19bf945503c353cb2bb8060ca7af78f/01cfd/flexible.png 1822w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/e19bf945503c353cb2bb8060ca7af78f/b9e4f/flexible.png&quot;
          alt=&quot;hotcss&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-4&apos; &gt;
          rem+vw
        &lt;/h3&gt;
      
&lt;p&gt;è¿™ç§æ–¹æ¡ˆå°±æ˜¯åœ¨è®¡ç®— html çš„ font-size æ—¶ï¼Œæ˜¯æ ¹æ® vw å»è‡ªåŠ¨è®¡ç®—ï¼Œè€Œä¸æ˜¯ç”¨ js è„šæœ¬å»åŠ¨æ€è®¡ç®—ã€‚vw æ˜¯ä¸€ç§æ–°çš„å•ä½ï¼Œç±»ä¼¼çš„è¿˜æœ‰ vhï¼Œvminï¼Œvmaxã€‚å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vwï¼š1vw ç­‰äºè§†å£å®½åº¦çš„ 1%ï¼›ä¾‹å¦‚ï¼Œ320px å®½åº¦è§†å£ä¸­ï¼Œ1vw=3.2pxï¼Œ10vw=32pxï¼Œ100vw=320pxï¼›&lt;/li&gt;
&lt;li&gt;vhï¼š1vh ç­‰äºè§†å£é«˜åº¦çš„ 1%ï¼›ä¾‹å¦‚ï¼Œ568px é«˜åº¦è§†å£ä¸­ï¼Œ1vh=5.58pxï¼Œ10vh=56.8pxï¼Œ100vh=568pxï¼›&lt;/li&gt;
&lt;li&gt;vminï¼šé€‰å– vw å’Œ vh ä¸­æœ€å°çš„é‚£ä¸ªï¼›&lt;/li&gt;
&lt;li&gt;vmaxï¼šé€‰å– vw å’Œ vh ä¸­æœ€å¤§çš„é‚£ä¸ªï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ ¸å¿ƒæ€æƒ³ï¼š&lt;/p&gt;
&lt;p&gt;ä¸ç”¨ js å»åŠ¨æ€è®¡ç®—é¡µé¢çš„ font-size ï¼Œè€Œæ˜¯è®¾ç½®æ ¹å…ƒç´  html çš„ font-size=&lt;em&gt;a&lt;/em&gt; vwï¼›è¿™é‡Œçš„&lt;em&gt;a&lt;/em&gt;ï¼Œå¯ä»¥é€‰å–ä¸€ç§å±å¹•å°ºå¯¸å»å‚è€ƒè®¡ç®—ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³ iPhone6 ä¸‹ï¼Œhtml çš„ font-size ä¸º 100pxã€‚é‚£ä¸ª html çš„ font-size=100/375=0.26666666666666666vwã€‚é‚£ä¹ˆï¼Œå…¶ä»–å±å¹•çš„é€‚é…è®¡ç®—æ–¹å¼å°±æ˜¯:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;iphone5&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;å±å¹•æ˜¯&lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;568&lt;/span&gt;
htmlçš„font&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;size&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.26666666666666666&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;85.33333333333333&lt;/span&gt;

iphone6s&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;å±å¹•æ˜¯&lt;span class=&quot;token number&quot;&gt;414&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;736&lt;/span&gt;
htmlçš„font&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;size&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.26666666666666666&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;414&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;110.39999999999999&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;é¡µé¢å¸ƒå±€é‡‡ç”¨ rem å¸ƒå±€ï¼Œè€Œé pxã€‚æ ¹æ® html çš„ font-size å’Œ rem å•ä½è‡ªåŠ¨è®¡ç®—å‡ºäº†å¸ƒå±€ pxã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸éœ€è¦é¢å¤–å¼•å…¥ js è„šæœ¬å»è®¡ç®—ï¼Œè‡ªåŠ¨æ ¹æ® vw å»è®¡ç®— font-size&lt;/li&gt;
&lt;li&gt;åç»­å¸ƒå±€ä¹Ÿè¶…çº§ç®€å•ï¼Œé‡‡ç”¨ rem å³å¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vw å•ä½çš„æ”¯æŒç›¸å¯¹æ¯” rem çš„æµè§ˆå™¨å°‘ä¸€äº›ï¼Œç›®å‰æœ‰ 93.65%çš„æµè§ˆå™¨éƒ½æ”¯æŒäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¾‹å­ï¼šæ‹¼å¤šå¤š
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4a25f3227939fff551e4d7dc1fc09e47/40e57/vw%2Brem.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 43.06177260519248%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAPoAAAD6AG1e1JrAAABzElEQVQoz12PS2/TQBSF/S/hPyAhVFZdwZYICbWKxAa2SMCuRaVqQUJFCotKhDQhcdL4PR4787Y99tgePxhYcnTuuaur71wLIUwZM0YImcmzLMV85ZK7PbJDvg2o7RPjtYu2AYliCGIAkySGkHFu5S9Ps8kJP3mdT6fF1VflOLRs71Zo/hverg+/tnzhVGuvtKN6DxVHuJGFVlVXq7rILfrxjHw4z86vyosv1fVN5UfdOMpDjlw7ckN2YFrypix12/eqkvudjIGIwhKjAgJLTt/wd++Hoxfd8avh4VN9edOOIwMstHfOPUqC0N0B3xciqwshmXMvwkBEgQCAhIGVfb5M5j/6B0/aZ6fa5MU3Q058ai/BdkO8HYQhi6MMhFma5AQhihDP8rppOBdWRYXu+n6zH7xwsJ0WUz30IBLzRTS7hYtV9NPGG4+7IPdhxjDOOc+LQilFCLE09syLqtAM98ulx3mpdWtogWl+kCnJ97CAVBWqE2WDk8SQk/TAOaeEWsKe+bNPo9Cr74ujR49Xi/U4jl3djv34n0w/TkguOGNcSimEsCbPj8/eTiSMWopl6mtVxkRBWum26fvByOS/Peiu+0tOU0KpOaaU/gFN7+D3txySqgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/4a25f3227939fff551e4d7dc1fc09e47/cc182/vw%2Brem.webp 148w,
/static/4a25f3227939fff551e4d7dc1fc09e47/f7e40/vw%2Brem.webp 295w,
/static/4a25f3227939fff551e4d7dc1fc09e47/1a2f4/vw%2Brem.webp 590w,
/static/4a25f3227939fff551e4d7dc1fc09e47/4837b/vw%2Brem.webp 885w,
/static/4a25f3227939fff551e4d7dc1fc09e47/2f819/vw%2Brem.webp 1180w,
/static/4a25f3227939fff551e4d7dc1fc09e47/0a12f/vw%2Brem.webp 2234w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/4a25f3227939fff551e4d7dc1fc09e47/cf440/vw%2Brem.png 148w,
/static/4a25f3227939fff551e4d7dc1fc09e47/d2d38/vw%2Brem.png 295w,
/static/4a25f3227939fff551e4d7dc1fc09e47/b9e4f/vw%2Brem.png 590w,
/static/4a25f3227939fff551e4d7dc1fc09e47/f9b6a/vw%2Brem.png 885w,
/static/4a25f3227939fff551e4d7dc1fc09e47/2d849/vw%2Brem.png 1180w,
/static/4a25f3227939fff551e4d7dc1fc09e47/40e57/vw%2Brem.png 2234w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/4a25f3227939fff551e4d7dc1fc09e47/b9e4f/vw%2Brem.png&quot;
          alt=&quot;hotcss&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[å“åº”å¼å›¾ç‰‡åŠ è½½]]></title><description><![CDATA[åœ¨åšå“åº”å¼å›¾ç‰‡åŠ è½½éœ€è¦ä½¿ç”¨åˆ°çš„ä¸¤ä¸ªå…³é”®å±æ€§å°±æ˜¯å’Œ ï¼Œè¿™ä¸¤ä¸ªå±æ€§æ˜¯ H5 ä¸­æ–°åŠ çš„ï¼Œæ˜¯ç»™ img æ ‡ç­¾æä¾›å¤šä¸ªä¸åŒå°ºå¯¸çš„å›¾ç‰‡ï¼Œåœ¨ä¸åŒè®¾å¤‡ï¼Œä¸åŒåˆ†è¾¨ç‡çš„æƒ…å†µä¸‹åŠ è½½ä¸åŒçš„å›¾ç‰‡ã€‚å½“åªéœ€è¦æ ¹æ®å±å¹•åˆ†è¾¨ç‡å»é€‰æ‹©ä¸åŒçš„å›¾ç‰‡çš„æ—¶å€™ï¼Œæœ‰ 2 ç§æƒ…å†µã€‚ç¬¬ 1 ç§ï¼Œè¯­æ³•å½¢å¼ä¸ºï¼šä¸€èˆ¬å±å¹•çš„åˆ†è¾¨ç‡ä¼šåˆ°â€¦]]></description><link>https://snayan.github.io//post/img_srcset_seizes/</link><guid isPermaLink="false">https://snayan.github.io//post/img_srcset_seizes/</guid><pubDate>Mon, 24 Jul 2017 22:08:34 GMT</pubDate><content:encoded>&lt;p&gt;åœ¨åšå“åº”å¼å›¾ç‰‡åŠ è½½éœ€è¦ä½¿ç”¨åˆ°çš„ä¸¤ä¸ªå…³é”®å±æ€§å°±æ˜¯&lt;code class=&quot;language-text&quot;&gt;srcset&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;sizes&lt;/code&gt; ï¼Œè¿™ä¸¤ä¸ªå±æ€§æ˜¯ H5 ä¸­æ–°åŠ çš„ï¼Œæ˜¯ç»™ img æ ‡ç­¾æä¾›å¤šä¸ªä¸åŒå°ºå¯¸çš„å›¾ç‰‡ï¼Œåœ¨ä¸åŒè®¾å¤‡ï¼Œä¸åŒåˆ†è¾¨ç‡çš„æƒ…å†µä¸‹åŠ è½½ä¸åŒçš„å›¾ç‰‡ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          æ ¹æ®å±å¹•åˆ†è¾¨ç‡é€‰æ‹©
        &lt;/h3&gt;
      
&lt;p&gt;å½“åªéœ€è¦æ ¹æ®å±å¹•åˆ†è¾¨ç‡å»é€‰æ‹©ä¸åŒçš„å›¾ç‰‡çš„æ—¶å€™ï¼Œæœ‰ 2 ç§æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ 1 ç§ï¼Œè¯­æ³•å½¢å¼ä¸ºï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;srcset=&quot;[url] [dpr]x,[url] [dpr]x,....etc&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸€èˆ¬å±å¹•çš„åˆ†è¾¨ç‡ä¼šåˆ° 3 å€ï¼Œä¾‹å¦‚ iphone6plusï¼Œå…¶ dpr=3ï¼Œè¿™ç§æ˜¯ç›´æ¥ç»™å‡ºæ¯ç§å›¾ç‰‡çš„åˆ†è¾¨ç‡è§„æ ¼ï¼Œä¾‹å­å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;./mm-width-128px.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ç¤ºä¾‹å›¾ç‰‡&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;srcset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;./mm-width-256px.jpg 2x, ./mm-width-512px.jpg 3x&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸Šé¢çš„ç¤ºä¾‹è¡¨ç¤ºï¼Œåœ¨ dpr=1 çš„å±å¹•ä¸‹åŠ è½½ 128px è¿™å¼ å›¾ç‰‡ï¼›åœ¨ 1&amp;#x3C;dpr&amp;#x3C;=2 æ—¶ï¼ŒåŠ è½½ 256px è¿™å¼ å›¾ç‰‡ï¼›å½“ dpr&gt;2 æ—¶å°±åŠ è½½ 512px è¿™å¼ å›¾ç‰‡äº†ã€‚
æ³¨æ„ï¼Œsrcset é‡Œçš„&lt;strong&gt;x&lt;/strong&gt;ä¸€å®šè¦æ˜¯å°å†™ï¼Œå¤§å†™çš„è¯ï¼Œchrome ä¼šæ— æ³•è¯†åˆ«ã€‚
&lt;a href=&quot;https://webkit.org/demos/srcset/&quot;&gt;æŸ¥çœ‹ demo&lt;/a&gt;&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;ç¬¬ 2 ç§ï¼Œè¯­æ³•å½¢å¼ä¸ºï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;srcset=&quot;[url] [width]w,[url] [width]w,...etc&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¿™é‡Œçš„å•ä½ä¸º&lt;strong&gt;w&lt;/strong&gt;,ä¸ç¬¬ä¸€ç§ä¸åŒã€‚è¿™é‡Œçš„&lt;strong&gt;w&lt;/strong&gt;åªæ˜¯æˆ‘ä»¬å‘Šè¯‰æµè§ˆå™¨è¿™ä¸ªå›¾ç‰‡çš„å®é™…å®½åº¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™å®šä¸åŒçš„å€¼ï¼Œå®ƒä»…ç”¨äºæˆ‘ä»¬ç»™æµè§ˆå™¨æç¤ºè¿™ä¸ªå›¾ç‰‡çš„å®é™…å¤§å°ï¼Œç„¶åæµè§ˆå™¨æ ¹æ®å½“å‰è®¾å¤‡å»é€‰æ‹©æœ€ä½³çš„å›¾ç‰‡ã€‚å¦‚æœï¼Œæˆ‘ä»¬ç»™çš„æ˜¯ä¸€ä¸ªé”™è¯¯çš„å€¼ï¼Œæˆ–å¯¹æµè§ˆå™¨æ’’è°ï¼Œæµè§ˆå™¨å½“ç„¶ä¼šé€‰æ‹©é”™è¯¯çš„å›¾ç‰‡ã€‚æµè§ˆå™¨æœ€åä¹Ÿä¼šæ ¹æ®æˆ‘ä»¬ç»™çš„è¿™ä¸ªå€¼å»è½¬åŒ–ä¸ºç¬¬ 1 ç§å½¢å¼ä¸­çš„ç­‰ä»·çš„å€¼ï¼Œå³åƒç´ å¯†åº¦ã€‚è¿™ç§å½¢å¼ï¼Œæµè§ˆå™¨ä¼šé»˜è®¤æ ¹æ® 100vw çš„å®½åº¦å»è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯è®¾å¤‡çš„ viewport å®½åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´æµè§ˆå™¨ä¼šé»˜è®¤å›¾ç‰‡ä¼šé“ºæ»¡æ•´ä¸ªè®¾å¤‡çš„å®½åº¦å»æ˜¾ç¤ºï¼Œä¾‹å¦‚ï¼Œ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;./mm-width-128px.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ç¤ºä¾‹å›¾ç‰‡&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;srcset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;
    ./mm-width-128px.jpg 320w,
    ./mm-width-256px.jpg 640w,
    ./mm-width-512px.jpg 750w
  &lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæµè§ˆå™¨å…ˆä¼šè‡ªåŠ¨è®¡ç®—å‡ºæ¯ç§å›¾ç‰‡åœ¨å½“å‰è®¾å¤‡ä¸‹æ˜¾ç¤ºçš„åƒç´ å¯†åº¦ï¼Œæ¯”å¦‚å½“å‰ç”¨æˆ·åœ¨è®¾å¤‡å®½åº¦ä¸º 320px çš„è®¾å¤‡ä¸‹æŸ¥çœ‹ï¼Œåˆ™è®¡ç®—ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;640&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;750&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2.34375&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚æœå½“å‰è®¾å¤‡çš„ dpr=1ï¼Œæ‰€ä»¥æ˜¾ç¤º 128px è¿™å¼ å›¾äº†ï¼›å¦‚æœå½“å‰è®¾å¤‡çš„ dpr=2ï¼Œè¿™ä¼šé€‰æ‹© 256px è¿™å¼ å›¾ç‰‡äº†ï¼Œå¦‚æœå½“å‰è®¾å¤‡çš„ dpr=2.5ï¼Œåˆ™ä¼šæ˜¾ç¤º 516px è¿™å¼ å›¾äº†ï¼Œå®é™…ä¸Šä¸ç¬¬ 1 ç§å½¢å¼ä¸­åˆ¤æ–­çš„æ–¹å¼ä¸€æ ·ã€‚
æ³¨æ„ï¼Œ&lt;strong&gt;x&lt;/strong&gt;ä¸&lt;strong&gt;w&lt;/strong&gt;ä¸èƒ½æ··åˆä½¿ç”¨ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          æ ¹æ®åª’ä½“æŸ¥è¯¢æ¥é€‰æ‹©
        &lt;/h3&gt;
      
&lt;p&gt;åª’ä½“æŸ¥è¯¢æ¥é€‰æ‹©å°±ä¼šç”¨åˆ° sizes æ¥å†™åª’ä½“æŸ¥è¯¢è¯­å¥äº†ï¼Œsizes çš„è¯­æ³•æ ¼å¼ä¸º&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;sizes=&quot;[media query] [length],[media query] [length],...etc&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™é‡Œçš„ length å¯ä»¥æ˜¯&lt;code class=&quot;language-text&quot;&gt;rem&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;em&lt;/code&gt; ï¼Œ&lt;code class=&quot;language-text&quot;&gt;px&lt;/code&gt; ï¼Œ&lt;code class=&quot;language-text&quot;&gt;vw&lt;/code&gt;ï¼Œç”šè‡³æ˜¯ css3 ä¸­çš„&lt;code class=&quot;language-text&quot;&gt;calc&lt;/code&gt;ï¼Œè¡¨ç¤ºæˆ‘ä»¬æƒ³è®©è¿™ä¸ªå›¾ç‰‡åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„å®½åº¦ï¼Œ&lt;em&gt;æ³¨æ„å®é™…çš„å›¾ç‰‡æ˜¾ç¤ºå®½åº¦å¹¶ä¸ä¼šå—è¿™ä¸ªå€¼å¾—å½±å“,åªä¼šæ ¹æ®å›¾ç‰‡è‡ªèº«çš„å®é™…å¤§å°æˆ– css è§„åˆ™å»æ˜¾ç¤º&lt;/em&gt;ã€‚è¿™ä¸ª length å€¼ï¼Œåªæ˜¯æˆ‘ä»¬æä¾›ç»™æµè§ˆå™¨çš„ä¸€ä¸ªè®¡ç®—ä¾æ®å€¼ï¼Œæµè§ˆå™¨æ ¹æ®è¿™ä¸ªå€¼ï¼Œå†ç»“åˆ srcset æä¾›çš„å›¾ç‰‡è§„æ ¼ï¼Œå»é€‰æ‹©åœ¨å½“å‰è®¾å¤‡ä¸‹æœ€åˆé€‚çš„å›¾ç‰‡ã€‚åœ¨ä½¿ç”¨è¿™ç§æ–¹å¼æ—¶ä¸€å®šè¦ä¸ srcset é…åˆä½¿ç”¨ï¼Œæ‰èƒ½ç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;./mm-width-128px.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ç¤ºä¾‹å›¾ç‰‡&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;srcset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;
    ./mm-width-128px.jpg 320w,
    ./mm-width-256px.jpg 640w,
    ./mm-width-512px.jpg 750w
  &lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;sizes&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;(width:640px) 640px,(width:750px) 750px,320px&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸Šé¢çš„ä¾‹å­è¡¨ç¤ºï¼Œé¦–å…ˆæ ¹æ®å½“å‰è®¾å¤‡çš„ viewport å»åŒ¹é… sizes çš„åª’ä½“æŸ¥è¯¢ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„å€¼ï¼Œç„¶ååº”ç”¨å®ƒåé¢çš„ width ä½œä¸ºå›¾ç‰‡ä¼šæ˜¾ç¤ºå®½åº¦çš„å»è®¡ç®—å‡º&lt;strong&gt;x&lt;/strong&gt;å•ä½ç­‰ä»·çš„å€¼ï¼Œå³åƒç´ å¯†åº¦ï¼Œè®¡ç®—è§„åˆ™è·Ÿä¸Šé¢çš„ä¸€æ ·ï¼Œä¾‹å¦‚ï¼Œå½“å‰è®¾å¤‡çš„ viewport æ˜¯ 640pxï¼Œåˆ™åŒ¹é…åˆ° width=640pxï¼Œè®¡ç®—ç»“æœæ˜¯ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;640&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0.5&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;640&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;640&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;750&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;640&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;1.171875&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç„¶åæ ¹æ®å½“å‰è®¾å¤‡çš„ dpr å»é€‰æ‹©æœ€æ¥è¿‘çš„å›¾ç‰‡ï¼Œå¦‚æœ dpr=1ï¼Œåˆ™é€‰æ‹© 256px è¿™å¼ å›¾ç‰‡ï¼Œå¦‚æœ dpr&gt;1,åˆ™é€‰æ‹© 512px è¿™å¼ å›¾ç‰‡ã€‚ä¸Šé¢çš„ sizes æŸ¥è¯¢é€‰æ‹© 640pxï¼Œ750px ä½œä¸ºæ–­ç‚¹ï¼Œä¹Ÿå°±æ˜¯ viewport=640px æ—¶åŒ¹é… width=640pxï¼Œviewport=750px æ—¶åŒ¹é… width=750pxï¼Œå¦åˆ™å°±æ˜¯ width=320pxã€‚å®é™…ï¼Œæ›´ä¸ºé€šç”¨çš„ç«¯ç‚¹æ˜¯ä¸€ä¸ªèŒƒå›´æŸ¥è¯¢åŒ¹é…ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;./mm-width-128px.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ç¤ºä¾‹å›¾ç‰‡&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;srcset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;
    ./mm-width-128px.jpg 320w,
    ./mm-width-256px.jpg 640w,
    ./mm-width-512px.jpg 750w
  &lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token attr-name&quot;&gt;sizes&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;(max-width:750px) 100vw,60vw&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™ä¸ª sizes çš„æ„æ€æ˜¯ï¼šå¦‚æœå½“å‰è®¾å¤‡çš„ viewport&amp;#x3C;=750pxï¼Œåˆ™ width=100vwï¼ˆè¡¨ç¤ºå›¾ç‰‡é“ºæ»¡è¿™ä¸ªè®¾å¤‡å®½åº¦æ˜¾ç¤ºï¼Œ1vw=1%*viewportï¼‰,å¦åˆ™ width=60vwã€‚æ¯”å¦‚å½“å‰è®¾å¤‡çš„ viewport=780pxï¼Œåˆ™è®¡ç®—ç»“æœæ˜¯ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.6&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;780&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0.6837606837606838&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;640&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.6&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;780&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;1.3675213675213675&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;750&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0.6&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;780&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;1.6025641025641026&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç±»ä¼¼çš„ï¼Œå†æ ¹æ®å½“å‰è®¾å¤‡çš„ dpr å»é€‰æ‹©å›¾ç‰‡äº†ï¼Œå¦‚æœ dpr=1ï¼Œåˆ™é€‰æ‹© 256px è¿™å¼ å›¾ç‰‡äº†ï¼Œå¦‚æœ dpr&gt;1ï¼Œåˆ™é€‰æ‹©æœ€æ¥ è¿‘çš„ 512px è¿™å¼ äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å¦‚æœå½“å‰è®¾å¤‡ viewport=400pxï¼Œåˆ™åŒ¹é…çš„ width=100vwï¼Œè®¡ç®—ç»“æœæ˜¯ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token number&quot;&gt;320&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1.0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;0.8&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;640&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1.0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;1.6&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;750&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1.0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;1.875&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å†æ ¹æ®è®¾å¤‡çš„ dpr å»é€‰æ‹©æµè§ˆå™¨è®¤ä¸ºæœ€ä½³çš„é‚£å¼ å›¾ç‰‡äº†ã€‚
è¿™ç§ sizes æ–¹å¼æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œæµè§ˆå™¨åªä¼šåº”ç”¨ä¸€åœ°ä¸ªåŒ¹é…çš„ sizesï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœåŒæ—¶èƒ½åŒ¹é…å¤šä¸ªåª’ä½“æŸ¥è¯¢çš„æ¡ä»¶ï¼Œä½†åªä¼šåº”ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…å£°æ˜ çš„ widthã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œä¸Šé¢çš„æ€æƒ³å°±æ˜¯ï¼Œæˆ‘ä»¬ç»™å®šä¸€ç»„è§„æ ¼ä¸åŒçš„å›¾ç‰‡(è¿™ä¸ªå°±æ˜¯ srcset è®¾ç½®çš„)ï¼Œä»¥åŠè¡¨ç¤ºæˆ‘ä»¬æƒ³è¦å®ƒä»¬åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„å®½åº¦(è¿™ä¸ªå°±æ˜¯ sizes è®¾ç½®çš„ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½® sizesï¼Œåˆ™é»˜è®¤ä¸º 100vw)ï¼Œæµè§ˆå™¨æ ¹æ®æˆ‘ä»¬æä¾›çš„è¿™äº›ä¿¡æ¯å»é€‰æ‹©æœ€ä½³çš„å›¾ç‰‡ã€‚æˆ‘ä»¬ä¸€ç›´å¼ºè°ƒçš„æ˜¯æµè§ˆå™¨å»é€‰æ‹©ï¼Œæ‰€ä»¥æœ€åç”¨å“ªå¼ å›¾ï¼Œè¿˜æ˜¯å¾—æµè§ˆå™¨è¯´äº†ç®—ï¼Œè¿™æ ·çš„ç›®çš„æ˜¯ï¼Œä¸ºå°†æ¥æµè§ˆå™¨èƒ½æ›´åŠ æ™ºèƒ½çš„é€‰æ‹©ï¼Œæ¯”å¦‚ï¼Œæµè§ˆå™¨å¯èƒ½æ ¹æ®å½“å‰çš„è®¾å¤‡ç½‘ç»œç¯å¢ƒå»é€‰æ‹©æœ€ä¼˜çš„ï¼Œå¯èƒ½ 3G ç¯å¢ƒåªé€‰æ‹©æ™®æ¸…çš„å›¾ç‰‡ï¼Œè€Œåœ¨ wifi ç¯å¢ƒæ€»æ˜¯é€‰æ‹©é«˜æ¸…çš„å›¾ç‰‡ï¼Œæˆ–è€…å½“å‰ç”¨æˆ·è®¾ç½®çš„æ–¹å¼å»é€‰æ‹©æœ€ä¼˜çš„ï¼Œå¯èƒ½ç”¨æˆ·è‡ªå·±è®¾ç½®åªåŠ è½½æ™®æ¸…çš„å›¾ç‰‡ï¼Œç­‰ç­‰ã€‚å¦‚æœï¼Œè¦æµè§ˆå™¨å®Œå…¨å»æ ¹æ®æˆ‘ä»¬è®¾ç½®çš„ä¿¡æ¯å»é€‰æ‹©ï¼Œé‚£ä¹ˆä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;picture&lt;/code&gt;æ ‡ç­¾ï¼Œ&lt;code class=&quot;language-text&quot;&gt;picture&lt;/code&gt;æ ‡ç­¾ä¼šå®Œå…¨æ ¹æ®æˆ‘ä»¬æä¾›çš„ srcset å’Œ sizes å»é€‰æ‹©äº†ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;picture&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;source&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;media&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;(min-width:30em)&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;srcset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;cake-table.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;source&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;media&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;(min-width:60em)&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;srcset&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;cake-shop.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;scones.jpg&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;One way or another,you will get cake.&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;picture&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™ä¸ªä¾‹å­è¡¨ç¤ºï¼Œå¦‚æœå½“å‰è®¾å¤‡å±å¹•å¤§äºç­‰äº 30emï¼Œåˆ™æ˜¾ç¤º cake-table è¿™å¼ å›¾ç‰‡ï¼Œå¦‚æœå¤§äºç­‰äº 60emï¼Œåˆ™é€‰æ‹© cake-shop è¿™å¼ å›¾ç‰‡ï¼Œå¦åˆ™å°±æ˜¾ç¤º scones.jpg è¿™å¼ å›¾ç‰‡ï¼Œè¿™é‡Œçš„&lt;code class=&quot;language-text&quot;&gt;img&lt;/code&gt;æ ‡ç­¾ä¸€å®šæ˜¯è¦çš„ï¼Œå¯¹äºä¸æ”¯æŒ&lt;code class=&quot;language-text&quot;&gt;picture&lt;/code&gt;è®¾å¤‡ï¼Œä¼šå¿½ç•¥&lt;code class=&quot;language-text&quot;&gt;picture&lt;/code&gt;ï¼Œç›´æ¥æ˜¾ç¤º&lt;code class=&quot;language-text&quot;&gt;img&lt;/code&gt;æŒ‡å®šçš„å›¾ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºï¼Œsrcset å’Œ sizes æ˜¯ h5 ä¸­æ–°åŠ çš„ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒï¼Œæ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€ç›´ç»™&lt;code class=&quot;language-text&quot;&gt;img&lt;/code&gt;æ ‡ç­¾åŠ äº† src å±æ€§ï¼Œå› ä¸ºå¯¹äºä¸æ”¯æŒ srcset å’Œ sizes çš„è®¾å¤‡ï¼Œè‡³å°‘ä¼šæ˜¾ç¤º src æŒ‡å®šçš„å›¾ç‰‡ã€‚&lt;a href=&quot;http://caniuse.com/#search=srcset&quot;&gt;çœ‹çœ‹æµè§ˆå™¨å¯¹å®ƒçš„æ”¯æŒæƒ…å†µå§&lt;/a&gt;ï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/82cf8d3bb40a541a5f913d1f24de643d/be1b7/srcset_support.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 73.62110311750601%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAACnElEQVQoz42R60/aYBTG+Xf2X+zDPhjdzGYyXaLAVMx0ChluccR4WcYcOvGSbB90GcMoOANMVBAngoKDyqWU2pYW1HIrt9IiYjSaOJNR9cOi2Wby5OTJOeeX5817ePFdcE+vDi73EpG5KGpG/e9IzJ0K/YwRThyyxeANEtsqd2Kog4A3CGg9ivgisIOA7BnSz2Po0N7AG834HTc5hOEanad6nwoxSYilgkwyyCYgriY5n78ycP6iWUwjvDwdokblsk8PZ3e1DtzYBfQcUGg+yY2Z8tLF3jVdwvupbQ6mh972jFdrd2Y2Q/MyoPuAQm4L76dRvfn9E90jHT7tCBu73LKDxPZt4XKOPDh41/7Y4JtYA2deAbJSFufgBPR/uEgho97BKlejekxokPO7/f0F3J0v/1YauQr/N6z0KirdT78q6/UDfOmCCJc2lckc7srHwJvk9WcPexUVLqFKWW9QCF98b8TaGuioH+1uS/tW2Cx2M/yP5MS28hIeazB84EuNzVingCa9sLghtWUuZBAmHvj7qQjHcHCoytb00VozZb0vsQs3rRW5sAeSCii3iWXDdCqYi4N0PMApwSkbB3OJQIGCeci3FrmjtdbZ+tzV3Am0Nm8+6wMlpSSy87KFhmwsYCnBzhN69zAdKmax4wxeSmNHGfw4QxxlcZ6rrvL1RN0DK7/WJKxfFtWYBQKTCNdPanvqnB21c6J7Ok3vcsRo1Q4AfW06aEqyKtH7VKvgLEys8sDRXoVWLFpp7zC1i00dYotk5Ec/bJhcAjXQ4uc1YMYIThs8KrvtC7gwOe9RLwLq+S3VokcNhSy803zEEpkbCQ4vhWcDcSuaXD9iiJPD2C9m76QUPSuQ5yx5XoieFaOnpVjZcGLLlTxldn4DbzOxDzGpXG8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/82cf8d3bb40a541a5f913d1f24de643d/cc182/srcset_support.webp 148w,
/static/82cf8d3bb40a541a5f913d1f24de643d/f7e40/srcset_support.webp 295w,
/static/82cf8d3bb40a541a5f913d1f24de643d/1a2f4/srcset_support.webp 590w,
/static/82cf8d3bb40a541a5f913d1f24de643d/4837b/srcset_support.webp 885w,
/static/82cf8d3bb40a541a5f913d1f24de643d/2f819/srcset_support.webp 1180w,
/static/82cf8d3bb40a541a5f913d1f24de643d/58d77/srcset_support.webp 1251w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/82cf8d3bb40a541a5f913d1f24de643d/cf440/srcset_support.png 148w,
/static/82cf8d3bb40a541a5f913d1f24de643d/d2d38/srcset_support.png 295w,
/static/82cf8d3bb40a541a5f913d1f24de643d/b9e4f/srcset_support.png 590w,
/static/82cf8d3bb40a541a5f913d1f24de643d/f9b6a/srcset_support.png 885w,
/static/82cf8d3bb40a541a5f913d1f24de643d/2d849/srcset_support.png 1180w,
/static/82cf8d3bb40a541a5f913d1f24de643d/be1b7/srcset_support.png 1251w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/82cf8d3bb40a541a5f913d1f24de643d/b9e4f/srcset_support.png&quot;
          alt=&quot;æµè§ˆå™¨å¯¹srcsetæ”¯æŒæƒ…å†µ&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;

        &lt;h4 id=&apos;toc-4-1&apos; &gt;
          å‚è€ƒé“¾æ¥
        &lt;/h4&gt;
      
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img&quot;&gt;mozilla å¯¹ img æ ‡ç­¾å„ä¸ªå±æ€§çš„ä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://css-tricks.com/video-screencasts/133-figuring-responsive-images/&quot;&gt;Figuring Out Responsive Images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://css-tricks.com/responsive-images-youre-just-changing-resolutions-use-srcset/&quot;&gt;Responsive Images: If youâ€™re just changing resolutions, use srcset&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[javascriptä¸­ToPrimitiveè¯¦è§£]]></title><description><![CDATA[çœ‹äº†è¿™ä¹ˆå¤šæ¡†æ¶æ–¹é¢çš„ä¸œè¥¿ï¼Œä½†æ³¨æ„ï¼ŒåŸºç¡€å¾ˆé‡è¦ã€‚ä»Šå¤©å°±æ¥è¯´è¯´ javascipt ä¸­å®¹æ˜“å¿½ç•¥çš„ç±»å‹è½¬æ¢é—®é¢˜ã€‚
åœ¨ javascript ä¸­æœ‰â€¦]]></description><link>https://snayan.github.io//post/explanatio_of_ToPrimitive/</link><guid isPermaLink="false">https://snayan.github.io//post/explanatio_of_ToPrimitive/</guid><pubDate>Thu, 06 Jul 2017 23:36:19 GMT</pubDate><content:encoded>&lt;p&gt;çœ‹äº†è¿™ä¹ˆå¤šæ¡†æ¶æ–¹é¢çš„ä¸œè¥¿ï¼Œä½†æ³¨æ„ï¼ŒåŸºç¡€å¾ˆé‡è¦ã€‚ä»Šå¤©å°±æ¥è¯´è¯´ javascipt ä¸­å®¹æ˜“å¿½ç•¥çš„ç±»å‹è½¬æ¢é—®é¢˜ã€‚
åœ¨ javascript ä¸­æœ‰ 7 ç§åŸºæœ¬ç±»å‹ï¼Œå®ƒä»¬ä¸ºï¼š&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;boolean&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;symbol&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;ã€‚åˆ¤æ–­ç±»å‹çš„æ–¹å¼æ˜¯&lt;code class=&quot;language-text&quot;&gt;typeof&lt;/code&gt;ã€‚æˆ‘ä»¬æŠŠ&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;boolean&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;symbol&lt;/code&gt;è¿™å‡ ç±»ç§°ä¸ºåŸå§‹ç±»å‹ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;number&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;aa&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;string&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;boolean&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Symbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;symbol&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;undefined&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;object&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;object&apos;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;function&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ³¨æ„ä¸¤ç‚¹ï¼Œä¸€æ˜¯ï¼Œå¯¹äºå‡½æ•°ï¼Œå®é™…ä¸Šä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;ï¼Œä½†ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;typeof&lt;/code&gt;å¾—åˆ°çš„ç»“æœæ˜¯&lt;code class=&quot;language-text&quot;&gt;function&lt;/code&gt;ï¼›äºŒæ˜¯ï¼Œå¯¹äº&lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;typeof&lt;/code&gt;å¾—åˆ°çš„ç»“æœæ˜¯&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹è¿™äº›ç±»å‹ä¹‹é—´æ˜¯æ€ä¹ˆè½¬æ¢çš„å‘¢ï¼Ÿä»Šå¤©æˆ‘ä»¬è®¨è®ºçš„æ˜¯&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;ç±»å‹è½¬ä¸ºåŸå§‹å€¼ï¼Œå¯¹äºåŸå§‹å€¼è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;ï¼Œå¯ä»¥ç›´æ¥è¿›è¡ŒåŒ…è£…å³å¯ï¼Œä¾‹å¦‚&lt;code class=&quot;language-text&quot;&gt;new Number(1)&lt;/code&gt;ï¼Œæœ¬æ¬¡ä¸äºˆè®¨è®ºï¼Œæœ¬æ¬¡ä¹Ÿä¸è®¨è®ºåŸå§‹ç±»å‹ä¹‹é—´çš„ç›¸äº’è½¬æ¢ã€‚&lt;/p&gt;

        &lt;h3 id=&apos;toc-3-1&apos; &gt;
          object è½¬ä¸º number
        &lt;/h3&gt;
      
&lt;p&gt;å…ˆçœ‹çœ‹ä¸‹é¢çš„å‡ ä¸ªæƒ…å†µï¼Œ&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;è½¬&lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;ï¼Œè¾“å‡ºçš„å€¼æ˜¯å‡ å¤š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// NaN&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 2&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œ&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;æ˜¯æ ¹&lt;code class=&quot;language-text&quot;&gt;valueOf&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;toString&lt;/code&gt;å‡½æ•°æœ‰å…³çš„ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è°ƒç”¨å¯¹è±¡çš„&lt;code class=&quot;language-text&quot;&gt;valueOf()&lt;/code&gt;æ–¹æ³•ï¼Œå¦‚æœè¿”å›ç»“æœæ˜¯åŸå§‹ç±»å‹ï¼Œåˆ™æ ¹æ®è¿™ä¸ªåŸå§‹ç±»å‹å†è½¬æ¢ä¸º&lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œè°ƒç”¨å¯¹è±¡çš„&lt;code class=&quot;language-text&quot;&gt;toString()&lt;/code&gt;æ–¹æ³•ï¼Œå¦‚æœè¿”å›çš„ç»“æœæ˜¯åŸå§‹ç±»å‹ï¼Œåˆ™æ ¹æ®è¿™ä¸ªåŸå§‹ç±»å‹å†è½¬æ¢ä¸º&lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼ŒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸&lt;code class=&quot;language-text&quot;&gt;TypeError&lt;/code&gt;ã€‚æ³¨æ„ä¸€ç‚¹çš„æ˜¯ï¼Œ&lt;code class=&quot;language-text&quot;&gt;symbol&lt;/code&gt;è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸çš„ï¼Œ&lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;æ˜¯&lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;

        &lt;h3 id=&apos;toc-3-2&apos; &gt;
          object è½¬ä¸º string
        &lt;/h3&gt;
      
&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œè¾“å‡ºæ˜¯å‡ å¤š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;[object Object]&quot;&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;[object Object]&quot;&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;a&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;b&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;b&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œ&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;æ—¶ä¹Ÿæ˜¯ä¸&lt;code class=&quot;language-text&quot;&gt;valueOf&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;toString&lt;/code&gt;æœ‰å…³ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è°ƒç”¨å¯¹è±¡çš„&lt;code class=&quot;language-text&quot;&gt;toString()&lt;/code&gt;æ–¹æ³•ï¼Œå¦‚æœè¿”å›å€¼æ˜¯åŸå§‹ç±»å‹ï¼Œåˆ™å†æŠŠè¿™ä¸ªåŸå§‹ç±»å‹è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦åˆ™è°ƒç”¨å¯¹è±¡çš„&lt;code class=&quot;language-text&quot;&gt;valueOf()&lt;/code&gt;æ–¹æ³•ï¼Œå¦‚æœè¿”å›å€¼ä¸ºåŸå§‹ç±»å‹ï¼Œåˆ™å†æŠŠè¿™ä¸ªåŸå§‹ç±»å‹è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼ŒæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸&lt;code class=&quot;language-text&quot;&gt;TypeError&lt;/code&gt;ã€‚æ³¨æ„ï¼Œ&lt;code class=&quot;language-text&quot;&gt;symbol&lt;/code&gt;è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚&lt;/li&gt;
&lt;/ol&gt;

        &lt;h3 id=&apos;toc-3-3&apos; &gt;
          object è½¬ä¸º boolean
        &lt;/h3&gt;
      
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;boolean&lt;/code&gt;æ—¶æ€»æ˜¯&lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;ï¼Œåœ¨ javascript ä¸­è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;boolean&lt;/code&gt;ä¸”å€¼ä¸º&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;æ—¶åªæœ‰ä»¥ä¸‹å‡ ç§å€¼ï¼›&lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;&amp;#39;&amp;#39;&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;NaN&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;undefined&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹äº†è¿™ä¹ˆå¤šï¼Œå®é™…ä¸Šä¸»è¦æ˜¯&lt;code class=&quot;language-text&quot;&gt;object&lt;/code&gt;è½¬&lt;code class=&quot;language-text&quot;&gt;number&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;string&lt;/code&gt;æ—¶æ¯”è¾ƒå¤æ‚ï¼Œæ¶‰åŠ javascript ä¸­å†…éƒ¨çš„ ToPrimitive æ–¹æ³•ã€‚ä¸‹é¢ä¸º ecmascript262 ä¸­çš„å®˜æ–¹å®šä¹‰ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The abstract operation ToPrimitive takes an input argument and an optional argument PreferredType. The abstract operation ToPrimitive converts its input argument to a non-Object type. If an object is capable of converting to more than one primitive type, it may use the optional hint PreferredType to favour that type.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å‡½æ•°ç­¾åä¸º&lt;code class=&quot;language-text&quot;&gt;ToPrimitive(input[,PreferredType])=&amp;gt;PreferredType&lt;/code&gt;ã€‚å¦‚æœ PreferredType ä¸º Number,åˆ™æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœ input æ˜¯åŸå§‹å€¼ï¼Œåˆ™è¿”å›è¿™ä¸ªå€¼ï¼Œç»“æŸã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œå¦‚æœ input æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;input.valueOf()&lt;/code&gt;ã€‚å¦‚æœç»“æœæ˜¯åŸå§‹å€¼ï¼Œåˆ™æŠŠç»“æœå€¼è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;Number&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼Œè°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;input.toString()&lt;/code&gt;ã€‚å¦‚æœç»“æœæ˜¯åŸå§‹å€¼ï¼Œåˆ™æŠŠç»“æœå€¼è½¬ä¸º&lt;code class=&quot;language-text&quot;&gt;Number&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦åˆ™ï¼ŒæŠ›å‡ºä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;TypeError&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœ&lt;code class=&quot;language-text&quot;&gt;PreferredType&lt;/code&gt;æ˜¯&lt;code class=&quot;language-text&quot;&gt;String&lt;/code&gt;ï¼Œåˆ™æŠŠç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥è¿›è¡Œäº¤æ¢ã€‚&lt;code class=&quot;language-text&quot;&gt;PreferredType&lt;/code&gt;ä¹Ÿå¯ä»¥çœç•¥çš„ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæ—¥æœŸä¼šè¢«è®¤ä¸ºæ˜¯&lt;code class=&quot;language-text&quot;&gt;String&lt;/code&gt;è€Œå…¶ä»–å€¼ä¼šè¢«è®¤ä¸ºæ˜¯&lt;code class=&quot;language-text&quot;&gt;Number&lt;/code&gt;ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰é»˜è®¤çš„&lt;code class=&quot;language-text&quot;&gt;valueOf&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;toString&lt;/code&gt;æ–¹æ³•ï¼Œ&lt;code class=&quot;language-text&quot;&gt;valueOf&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;toString&lt;/code&gt;åˆ™æ ¹æ®å…·ä½“çš„ç±»å‹æœ‰æ‰€åŒºåˆ«ï¼ŒÂ  å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;[object Object]&quot;&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;1,2&quot;&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;function (){}&quot;&lt;/span&gt;
obj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 1497082546564&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; obj&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;
console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &quot;Sat Jun 10 2017 16:15:46 GMT+0800 (CST)&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//......&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

        &lt;h4 id=&apos;toc-4-1&apos; &gt;
          å‚è€ƒ
        &lt;/h4&gt;
      
&lt;p&gt;&lt;a href=&quot;http://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive&quot;&gt;ecma-262&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[reactç»„ä»¶ç”Ÿå‘½å‘¨æœŸæµ…è°ˆ]]></title><description><![CDATA[ä¼—æ‰€å‘¨çŸ¥ï¼Œreact çš„ç»„ä»¶æ˜¯æœ‰ä¸€ä¸ªä¸ªçš„é’©å­å‡½æ•°ï¼Œæ„å»ºæˆçš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨ç”¨ es6 çš„ class ä¸ç”¨ createClass æœ‰æ‰€ä¸åŒï¼Œå…¶ä¸­ createClass è¿˜åŒ…æ‹¬äº†ä¸ã€‚ç”±äº createClassÂ  å°†åœ¨åç»­ç‰ˆæœ¬ä¸­ç§»é™¤ï¼Œå»ºè®®ä½¿ç”¨ classâ€¦]]></description><link>https://snayan.github.io//post/react_component_life_cycle/</link><guid isPermaLink="false">https://snayan.github.io//post/react_component_life_cycle/</guid><pubDate>Mon, 19 Jun 2017 23:25:17 GMT</pubDate><content:encoded>&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥ï¼Œreact çš„ç»„ä»¶æ˜¯æœ‰ä¸€ä¸ªä¸ªçš„é’©å­å‡½æ•°ï¼Œæ„å»ºæˆçš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨ç”¨ es6 çš„ class ä¸ç”¨ createClass æœ‰æ‰€ä¸åŒï¼Œå…¶ä¸­ createClass è¿˜åŒ…æ‹¬äº†&lt;code class=&quot;language-text&quot;&gt;getDefaultProps&lt;/code&gt;ä¸&lt;code class=&quot;language-text&quot;&gt;getInitialState&lt;/code&gt;ã€‚ç”±äº createClassÂ  å°†åœ¨åç»­ç‰ˆæœ¬ä¸­ç§»é™¤ï¼Œå»ºè®®ä½¿ç”¨ class å½¢å¼ã€‚æ‰€ä»¥ï¼Œä¸‹é¢è®¨è®ºçš„éƒ½æ˜¯ class å½¢å¼ä¸‹çš„ç”Ÿå‘½å‘¨æœŸæ–¹å¼ã€‚&lt;/p&gt;

        &lt;h2 id=&apos;toc-2-1&apos; &gt;
          åˆå§‹é˜¶æ®µ
        &lt;/h2&gt;
      
&lt;ul&gt;
&lt;li&gt;constructor ï¼Œæ„é€ å‡½æ•°ï¼Œåœ¨åˆå§‹åŒ–å®ä¾‹æ—¶é¦–å…ˆè§¦å‘&lt;/li&gt;
&lt;li&gt;componentWillMountï¼Œç»„ä»¶å°†æ¸²æŸ“å‡ºæ¥ä¹‹å‰è§¦å‘ï¼Œå¯ä»¥è°ƒç”¨ setStateï¼Œç®€å•çš„åˆå¹¶ stateï¼Œä¸ä¼šè§¦å‘ render é‡æ–°æ¸²æŸ“&lt;/li&gt;
&lt;li&gt;render ï¼Œå°†ç»„ä»¶æ¸²æŸ“ï¼Œä¸å¯ä»¥è°ƒç”¨ setState&lt;/li&gt;
&lt;li&gt;componentDidMountï¼Œç»„ä»¶æ¸²æŸ“ä¹‹åè§¦å‘ï¼Œå¯ä»¥è°ƒç”¨ setStateï¼Œä¼šé‡æ–°è§¦å‘ render&lt;/li&gt;
&lt;/ul&gt;
&lt;!--more--&gt;

        &lt;h2 id=&apos;toc-2-2&apos; &gt;
          æ›´æ–°é˜¶æ®µ
        &lt;/h2&gt;
      
&lt;ul&gt;
&lt;li&gt;componentWillReceivePorpsï¼Œç»„ä»¶è·å–æ–°çš„ props æ—¶è§¦å‘&lt;/li&gt;
&lt;li&gt;shouldComponentUpdateï¼Œç»„ä»¶åœ¨è°ƒç”¨ setState é‡æ–°æ›´æ–° render ä¹‹å‰è°ƒç”¨ï¼Œå¦‚æœè¿”å› false,åˆ™ä¸è§¦å‘åç»­çš„ç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•ï¼Œä¸ä¼šæ›´æ–°ç»„ä»¶çš„æ¸²æŸ“ï¼Œè¿”å› trueï¼Œåˆ™ä¸€å®šä¼šè§¦å‘åç»­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä¸€å®šä¼šé‡æ–°æ›´æ–°ç»„ä»¶çš„æ¸²æŸ“ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•é‡Œä¸èƒ½è°ƒç”¨ setStateï¼Œå¦‚æœä¸å°å¿ƒè°ƒç”¨ï¼Œä¼šé€ æˆæ­»å¾ªç¯&lt;/li&gt;
&lt;li&gt;componentWillUpdateï¼Œç»„ä»¶åœ¨æ›´æ–°é˜¶æ®µï¼Œå³å°†æ›´æ–°ç»„ä»¶ä¹‹å‰è§¦å‘ï¼Œä¸å¯è°ƒç”¨ setStateï¼Œå¦‚æœä¸å°å¿ƒè°ƒç”¨ï¼Œä¼šé€ æˆæ­»å¾ªç¯&lt;/li&gt;
&lt;li&gt;Renderï¼Œç»„ä»¶è¿›è¡Œæ›´æ–°ï¼Œä¸å¯è°ƒç”¨ setState&lt;/li&gt;
&lt;li&gt;componentDidUpdateï¼Œç»„ä»¶æ›´æ–°ä¹‹åè§¦å‘ï¼Œ&lt;/li&gt;
&lt;/ul&gt;

        &lt;h2 id=&apos;toc-2-3&apos; &gt;
          å¸è½½é˜¶æ®µ
        &lt;/h2&gt;
      
&lt;ul&gt;
&lt;li&gt;componentWillUnmountï¼Œç»„ä»¶å³å°†å¸è½½ä¹‹å‰è§¦å‘ï¼Œåœ¨è¿™é‡Œä¸€èˆ¬åšä¸€äº›æ¸…ç†å·¥ä½œï¼Œä¹Ÿä¸å¯è°ƒç”¨ setState&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯´å®Œä¸Šé¢è¿™äº›æ–¹æ³•ï¼Œå°±éœ€è¦å®é™…å»éªŒè¯äº†ï¼Œæˆ‘å†™äº†ä¸€ä¸ªæœ€åŸºæœ¬çš„ç»„ä»¶ï¼Œä¸”åŒ…å«äº†å®ƒæ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•ï¼Œçœ‹å„ä¸ªæ–¹æ³•æ‰§è¡Œçš„æƒ…å†µã€‚ä»£ç å¦‚ä¸‹ï¼Œå…¶ä¸­ Test ä¸ App å¤§ä½“ç±»ä¼¼ï¼Œå°±ä¸åˆ—å‡ºæ¥äº†ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;zy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main constructor&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;componentWillMount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main componentWillMount&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main render&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Test&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;componentDidMount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main ComponentDidMount&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;componentWillReceiveProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main componentWillReceiveProps&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;shouldComponentUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main shouldComponentUpdate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;componentWillUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main componentWillUpdate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;componentDidUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main componentDidUpdate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;componentWillUnmount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main componentWillUnmount&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;åˆå§‹åŒ–æ—¶ï¼ŒæŸ¥çœ‹ Console æ§åˆ¶å°çš„æ‰“å°æƒ…å†µå¦‚ä¸‹ï¼Œ
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/85b81ca394849cb5f45ef7941c3e35f4/db2b8/react_init.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 42.38532110091743%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAPoAAAD6AG1e1JrAAABAElEQVQY031RyXaDMBDz/38hm1PvJgaz2pSypSIcckhTvYcBMRqNBlKWpVKqqirOuTFGaZtk9H53jHPnKimlUto5xxgTQnjvu67r+75pGpAEV13XA4i+w/MY57oN0/dP98Q8z+M4rus6TRNe27a9+BAC2hHcrC3xeXviOI7Hiet84eJRXBQFhs3zHI0I2Np76BkXQioMjOb7vh9vgHhZlizLkCVJEvgT1CEANELqEOO6omA5/sIlhid2BDFykn3bYGWMlUprbdEILf4RU0qxV/ifYuTE/rQxEMcYQWFJV8hPzhgbJxZ5ZoabNvb2xaAv6M03zeMDIE7TFP8MYw/D8AuU8MTL4UQfhwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/85b81ca394849cb5f45ef7941c3e35f4/cc182/react_init.webp 148w,
/static/85b81ca394849cb5f45ef7941c3e35f4/f7e40/react_init.webp 295w,
/static/85b81ca394849cb5f45ef7941c3e35f4/1a2f4/react_init.webp 590w,
/static/85b81ca394849cb5f45ef7941c3e35f4/4837b/react_init.webp 885w,
/static/85b81ca394849cb5f45ef7941c3e35f4/21dc7/react_init.webp 1090w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/85b81ca394849cb5f45ef7941c3e35f4/cf440/react_init.png 148w,
/static/85b81ca394849cb5f45ef7941c3e35f4/d2d38/react_init.png 295w,
/static/85b81ca394849cb5f45ef7941c3e35f4/b9e4f/react_init.png 590w,
/static/85b81ca394849cb5f45ef7941c3e35f4/f9b6a/react_init.png 885w,
/static/85b81ca394849cb5f45ef7941c3e35f4/db2b8/react_init.png 1090w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/85b81ca394849cb5f45ef7941c3e35f4/b9e4f/react_init.png&quot;
          alt=&quot;reactåˆå§‹åŒ–&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;
å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ 2 ä¸ªç‚¹æ¯”è¾ƒé‡è¦ï¼›ç¬¬ä¸€ä¸ªæ˜¯ï¼Œ sub ç»„ä»¶åªæœ‰åœ¨ main çš„ render æ–¹æ³•ä¸­å®ä¾‹åŒ–æ—¶æ‰å¼€å§‹ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„è°ƒç”¨ï¼›ç¬¬äºŒä¸ªæ˜¯ï¼Œmain ç»„ä»¶ç­‰ sub ç»„ä»¶å®ä¾‹åŒ–å®Œæˆä¹‹åæ‰å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹æ›´æ–°é˜¶æ®µçš„æƒ…å†µï¼Œ
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/23a4cb8de8fbf192233c7cad999ef784/06418/react_update.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 35.79335793357934%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAA2klEQVQY03WQ246DIBRF/f8fNCJQ4UDUtgi2sV7R7gnzMnVKAg8nrL02ZKHv84KF0K/rOo7jNE3Y8zzvf1eM8TiOHpfzXClVFEXXdRmmt+utbtpLpeSl0poYF8jC1Q8eE0RzzokIsPc+27b1fndNeyVjh9cLchxoscV4htFISmmMQUQIAfAGD5GplE5mIaSxFjEf8mQuy1JrzRhzziU4GGOVprpumrZFhWVZjv8WzKk2IlLtH1gTcPt4PL0PwzCcH3w2/9Z2roMRtdGZcwlz3OM3WAiBNwPGb78BWtOL1XRnfEYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/23a4cb8de8fbf192233c7cad999ef784/cc182/react_update.webp 148w,
/static/23a4cb8de8fbf192233c7cad999ef784/f7e40/react_update.webp 295w,
/static/23a4cb8de8fbf192233c7cad999ef784/1a2f4/react_update.webp 590w,
/static/23a4cb8de8fbf192233c7cad999ef784/4837b/react_update.webp 885w,
/static/23a4cb8de8fbf192233c7cad999ef784/b7257/react_update.webp 1084w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/23a4cb8de8fbf192233c7cad999ef784/cf440/react_update.png 148w,
/static/23a4cb8de8fbf192233c7cad999ef784/d2d38/react_update.png 295w,
/static/23a4cb8de8fbf192233c7cad999ef784/b9e4f/react_update.png 590w,
/static/23a4cb8de8fbf192233c7cad999ef784/f9b6a/react_update.png 885w,
/static/23a4cb8de8fbf192233c7cad999ef784/06418/react_update.png 1084w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/23a4cb8de8fbf192233c7cad999ef784/b9e4f/react_update.png&quot;
          alt=&quot;reactæ›´æ–°é˜¶æ®µ&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;
ä¸Šé¢æ˜¯å®Œæ•´çš„æ›´æ–°é˜¶æ®µè°ƒç”¨æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘æŠŠ shouldComponent éƒ½è¿”å›çš„æ˜¯ trueï¼Œè€Œå®é™…ä¸­ï¼ŒshouldComponentUpdate å¯èƒ½åœ¨æ§åˆ¶ç»„ä»¶æ›´æ–°æ—¶è¿”å› falseï¼Œé‚£ä¹ˆè¿”å› false çš„æƒ…å†µä¸‹ï¼Œåç»­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•éƒ½ä¸ä¼šè°ƒç”¨ï¼Œä¾‹å¦‚æˆ‘æŠŠ main çš„ shouldComponentUpdate è¿”å› falseï¼Œè°ƒç”¨æƒ…å†µå¦‚ä¸‹ï¼Œ
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dd26204831e647520ce77cf30c750a20/d1783/react_update_false.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 9.94475138121547%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAV0lEQVQI122IMQ6AIAwA+f/3EOPKBpFWiy0wFJDVxBsulzPMvO0HALbWWKSUsrR6fOm9zzmJyFrrvXfOAYBRHSKS84N4pbQOngluyvMPVY0xImIIodb6AieHcj49ebNjAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/dd26204831e647520ce77cf30c750a20/cc182/react_update_false.webp 148w,
/static/dd26204831e647520ce77cf30c750a20/f7e40/react_update_false.webp 295w,
/static/dd26204831e647520ce77cf30c750a20/1a2f4/react_update_false.webp 590w,
/static/dd26204831e647520ce77cf30c750a20/4837b/react_update_false.webp 885w,
/static/dd26204831e647520ce77cf30c750a20/a2f19/react_update_false.webp 1086w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/dd26204831e647520ce77cf30c750a20/cf440/react_update_false.png 148w,
/static/dd26204831e647520ce77cf30c750a20/d2d38/react_update_false.png 295w,
/static/dd26204831e647520ce77cf30c750a20/b9e4f/react_update_false.png 590w,
/static/dd26204831e647520ce77cf30c750a20/f9b6a/react_update_false.png 885w,
/static/dd26204831e647520ce77cf30c750a20/d1783/react_update_false.png 1086w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/dd26204831e647520ce77cf30c750a20/b9e4f/react_update_false.png&quot;
          alt=&quot;reactæ›´æ–°&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œæ¥çœ‹çœ‹å¸è½½çš„è°ƒç”¨æƒ…å†µï¼Œå¦‚ä¸‹ï¼Œ
&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b76bca702c47b6c3a60b441a05e4e2f5/0c12f/react_destory.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 10.634328358208954%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAVUlEQVQI12WMwQqAMAxD9/9fOCy1jBZ0eth0wtgO1sqOyyGElxBXyrMAxuNsrdVah/fe30mqaq33npkBQESc0ZSvbY8rhRCMi4Wcb5v+80mISETj4gMarXEWkCJU5wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/b76bca702c47b6c3a60b441a05e4e2f5/cc182/react_destory.webp 148w,
/static/b76bca702c47b6c3a60b441a05e4e2f5/f7e40/react_destory.webp 295w,
/static/b76bca702c47b6c3a60b441a05e4e2f5/1a2f4/react_destory.webp 590w,
/static/b76bca702c47b6c3a60b441a05e4e2f5/4837b/react_destory.webp 885w,
/static/b76bca702c47b6c3a60b441a05e4e2f5/c05df/react_destory.webp 1072w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/b76bca702c47b6c3a60b441a05e4e2f5/cf440/react_destory.png 148w,
/static/b76bca702c47b6c3a60b441a05e4e2f5/d2d38/react_destory.png 295w,
/static/b76bca702c47b6c3a60b441a05e4e2f5/b9e4f/react_destory.png 590w,
/static/b76bca702c47b6c3a60b441a05e4e2f5/f9b6a/react_destory.png 885w,
/static/b76bca702c47b6c3a60b441a05e4e2f5/0c12f/react_destory.png 1072w&quot;
          sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/b76bca702c47b6c3a60b441a05e4e2f5/b9e4f/react_destory.png&quot;
          alt=&quot;reactå¸è½½&quot;
          title=&quot;&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[é˜…è¯»react-domæºç --ReactMountéƒ¨åˆ†]]></title><description><![CDATA[ReactMount ä¸º react-dom å¯¹è±¡æä¾›äº†å’Œè¿™ 2 ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„è¾“å‡º react element åˆ°çœŸå®çš„ dom é‡Œã€‚æ–¹æ³•å®é™…ä¸Šæä¾›äº†ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯ react elementï¼Œç¬¬äºŒä¸ªæ˜¯é¡µé¢ä¸ŠçœŸå®çš„ domï¼Œç¬¬ä¸‰ä¸ªæ˜¯ callbackâ€¦]]></description><link>https://snayan.github.io//post/reactdom_reactmount_source/</link><guid isPermaLink="false">https://snayan.github.io//post/reactdom_reactmount_source/</guid><pubDate>Sat, 10 Jun 2017 11:46:20 GMT</pubDate><content:encoded>&lt;p&gt;ReactMount ä¸º react-dom å¯¹è±¡æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;unmountComponentAtNode&lt;/code&gt;è¿™ 2 ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;å°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„è¾“å‡º react element åˆ°çœŸå®çš„ dom é‡Œã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; ReactMount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;scrollMonitor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;container&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; renderCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;renderSubtreeIntoContainer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token parameter&quot;&gt;parentComponent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    nextElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    container&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    callback&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;nextElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; container&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;unmountComponentAtNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;æ–¹æ³•å®é™…ä¸Šæä¾›äº†ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯ react elementï¼Œç¬¬äºŒä¸ªæ˜¯é¡µé¢ä¸ŠçœŸå®çš„ domï¼Œç¬¬ä¸‰ä¸ªæ˜¯ callbackã€‚å¦‚æœ react element å·²ç»åœ¨ä¹‹å‰è¾“å‡ºåˆ° container ä¸­äº†ï¼Œé‚£ä¹ˆå†æ¬¡è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;ï¼Œåˆ™åªä¼šæœ€å°åŒ–æ›´æ–° dom çš„å˜åŒ–ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;nextElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; container&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// éªŒè¯callback&lt;/span&gt;
  ReactUpdateQueue&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;validateCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ReactDOM.render&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// éªŒè¯nextElementæ˜¯å¦æ˜¯Rect Element&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isValidElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextElement&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;æç¤ºæŠ¥é”™&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; vodid &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// éªŒè¯container&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isValidContainer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;container&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;æç¤ºæŠ¥é”™&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// åˆ›å»ºå®é™…node&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; componentInstance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;instantiateReactComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// æ›´æ–°åˆ°dom&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; component &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ReactUpdates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;batchedUpdates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;batchedMountComponentIntoNode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; componentInstance&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; container&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; shouldReuseMarkup&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_renderComponent&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getPublicInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// æ‰§è¡Œå›è°ƒå‡½æ•°&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;component&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; componnet&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€Œreact ç‰ˆæœ¬ 15.5.4ã€&lt;/p&gt;</content:encoded></item><item><title><![CDATA[é˜…è¯»reactæºç --ReactElementéƒ¨åˆ†]]></title><description><![CDATA[ReactElement å¯¹è±¡ä¸º React æä¾›äº†ï¼Œï¼Œï¼Œå››ä¸ªæ–¹æ³•ã€‚ReactElement æ˜¯ä¸€ä¸ªå·¥å‚æ–¹æ³•ï¼Œä¸æ˜¯ç±»æ¨¡å¼ï¼Œä¸è¦ä½¿ç”¨å»è°ƒç”¨ã€‚æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ react element å¯¹è±¡ï¼Œé€šè¿‡æ£€æŸ¥è¿™ä¸ªå¯¹è±¡çš„æ˜¯å¦ç­‰äºï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ï¼Œå®é™…æ˜¯ä¸€ä¸ª Componentâ€¦]]></description><link>https://snayan.github.io//post/reactelement_source/</link><guid isPermaLink="false">https://snayan.github.io//post/reactelement_source/</guid><pubDate>Tue, 30 May 2017 16:12:19 GMT</pubDate><content:encoded>&lt;p&gt;ReactElement å¯¹è±¡ä¸º React æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;createFactory&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;cloneElement&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;isValidElement&lt;/code&gt;å››ä¸ªæ–¹æ³•ã€‚ReactElement æ˜¯ä¸€ä¸ªå·¥å‚æ–¹æ³•ï¼Œä¸æ˜¯ç±»æ¨¡å¼ï¼Œä¸è¦ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;new&lt;/code&gt;å»è°ƒç”¨ã€‚æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ react element å¯¹è±¡ï¼Œé€šè¿‡æ£€æŸ¥è¿™ä¸ªå¯¹è±¡çš„&lt;code class=&quot;language-text&quot;&gt;$$typeof&lt;/code&gt;æ˜¯å¦ç­‰äº&lt;code class=&quot;language-text&quot;&gt;Symbol.for(&amp;#39;react.element&amp;#39;)&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;ReactElement&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;source&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;owner&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; element&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
	$$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;REACT_ELEMENT_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;// Symbol[&apos;for&apos;](&apos;react.element&apos;)&lt;/span&gt;
    type&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    key&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    ref&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    props&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    _owner&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;owner
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;env&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;NODE_ENV&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;production&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// ....... å¢åŠ ä¸€äº›å…¶ä»–çš„å±æ€§&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;freeze&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;freeze&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;freeze&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;element&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯&lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;ï¼Œå®é™…æ˜¯ä¸€ä¸ª Component çš„æ„é€ å‡½æ•°ï¼Œåœ¨&lt;code class=&quot;language-text&quot;&gt;type.defaultProps&lt;/code&gt;ä¸Šå®šä¹‰é»˜è®¤çš„&lt;code class=&quot;language-text&quot;&gt;props&lt;/code&gt;å€¼ï¼›ç¬¬äºŒä¸ªå‚æ•°&lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt;æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…&lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;ï¼Œå¯¹è±¡æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;props&lt;/code&gt;åï¼Œä¹Ÿå¯ä»¥æä¾›&lt;code class=&quot;language-text&quot;&gt;key&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;ref&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;__self&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;__source&lt;/code&gt;ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°åŠåç»­çš„å‚æ•°æ˜¯&lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ReactElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;children&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; propName&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; props&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;self&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;source&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasValidRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasValidKey&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  self&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__self&lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__self&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  source&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__source&lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__source&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// èµ‹å€¼configé‡Œé…ç½®çš„props&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;propName &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasOWnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;key&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ref&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;__selft&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;__source&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      props&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// èµ‹å€¼props.children&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; childrenLength&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;childrenLength&lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;childrenLength&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; childArray&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;childrenLength&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;childrenLength&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      childArray&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;arguments&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;childArray&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// èµ‹å€¼propsçš„é»˜è®¤å€¼&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaultProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; defaultProps&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaultProps&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;propName &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; defaultProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        props&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;defaultProps&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// .... éå¼€å‘ç¯å¢ƒé…ç½®&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è¿”å›react elment&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ReactElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;source&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;ReactCurrentOwner&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;createFactory&lt;/code&gt;ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªåˆ›å»º react element çš„å‡½æ•°ã€‚æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œ&lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt;ï¼Œç”¨äºæŒ‡å®šè¦åˆ›å»ºçš„ element çš„ç±»å‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ReactElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;createFactory&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; factory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ReactElemet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  factory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; type
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; factory
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cloneElement&lt;/code&gt;ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨äºå…‹éš†ä¸€ä¸ªå·²å­˜åœ¨çš„ elementï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯&lt;code class=&quot;language-text&quot;&gt;element&lt;/code&gt;ï¼Œç”¨äºè¢«å¤åˆ¶çš„ï¼Œç¬¬äºŒä¸ªæ˜¯&lt;code class=&quot;language-text&quot;&gt;config&lt;/code&gt;ï¼Œç¬¬ä¸‰ä¸ªæ˜¯&lt;code class=&quot;language-text&quot;&gt;children&lt;/code&gt;ï¼Œç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;æ„ä¹‰ä¸€æ ·ï¼Œç”¨äºè®¾ç½® props å’Œ children çš„ã€‚å…¶ä¸­ï¼Œå¦‚æœæŒ‡å®šäº† configï¼Œåˆ™ä¼šè¦†ç›–åŸ element ä¸­çš„ propsï¼Œå¦‚æœæŒ‡å®šäº† childrenï¼Œåˆ™åŒæ ·ä¼šè¦†ç›–åŸ element çš„ childrenã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ReactElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;cloneElement&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;element&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; propName
  &lt;span class=&quot;token comment&quot;&gt;// å…ˆå¤åˆ¶åŸelementçš„propså’Œkey,ref.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_assign&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    ref &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ref
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; self &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    source &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_source&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    owner &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_owner
  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœconfigä¸ä¸ºnull,åˆ™è¦†ç›–åŸelementçš„propså’Œ,key,self..&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasValidRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      ref &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ref
      owner &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ReactCurrentOwner&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cuurent
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasValidKey&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;key
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; defaultProps
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaultProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      defaultProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaultProps
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;propName &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; propName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ref&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__self&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__source&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          config&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
          defaultProps&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          props&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; defaultProps&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          props&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; config&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;propName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœchildrenä¸ä¸ºnull,åˆ™é‡æ–°æŒ‡å®šæ–°çš„elementçš„children&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; childrenLength &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arguments&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;childrenLength &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; children
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;childrenLength &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; childArray &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;childrenLength&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; childrenLength&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      childArray&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; arguments&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;children &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; childArray
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// æœ€åä¹Ÿæ˜¯ä½¿ç”¨ReactElementå·¥å‚åˆ›å»ºæ–°çš„react element&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ReactElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ref&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; source&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; owner&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isValidElement&lt;/code&gt;ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ç”¨äºæ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ react element å¯¹è±¡ã€‚åˆ¤æ–­çš„ä¾æ®å°±æ˜¯ react element çš„å¯¹è±¡ä¼šæœ‰ä¸€ä¸ªå±æ€§&lt;code class=&quot;language-text&quot;&gt;$$typeof&lt;/code&gt;ï¼Œå®ƒç­‰äº&lt;code class=&quot;language-text&quot;&gt;Symbol[&amp;#39;for&amp;#39;](&amp;#39;react.element&amp;#39;)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;ReactElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;isValidElement&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; object &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;object&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    object &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;$$&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; Symbol&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;for&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;react.element&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€Œreact ç‰ˆæœ¬ 15.5.4ã€&lt;/p&gt;</content:encoded></item><item><title><![CDATA[é˜…è¯»reactæºç --createClasséƒ¨åˆ†]]></title><description><![CDATA[ReactClass å¯¹è±¡ä¸º React æä¾›äº†æ–¹æ³•ï¼Œå®é™…ä¸Š ReactClass æœ‰ 2 ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å¯¹è±¡ã€‚ï¼Œæ¥å— 1 ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¿…é¡»åŒ…å«æ–¹æ³•ï¼›ç»“æœè¿”å›ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚æ³¨æ„ï¼Œæ–¹æ³•å°†åœ¨ 16.X ç‰ˆæœ¬ä¸­ç§»é™¤äº†ï¼Œæ‰€ä»¥ç°åœ¨è¦ç”¨ esâ€¦]]></description><link>https://snayan.github.io//post/reactclass_source/</link><guid isPermaLink="false">https://snayan.github.io//post/reactclass_source/</guid><pubDate>Mon, 22 May 2017 22:16:40 GMT</pubDate><content:encoded>&lt;p&gt;ReactClass å¯¹è±¡ä¸º React æä¾›äº†&lt;code class=&quot;language-text&quot;&gt;createClass&lt;/code&gt;æ–¹æ³•ï¼Œå®é™…ä¸Š ReactClass æœ‰ 2 ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯&lt;code class=&quot;language-text&quot;&gt;createClass&lt;/code&gt;ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯&lt;code class=&quot;language-text&quot;&gt;injection&lt;/code&gt;å¯¹è±¡ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; ReactClass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;createClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// createClasså®ç°&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  injection&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;injectMixin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;mixin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      injectedMixins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mixin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;createClass&lt;/code&gt;ï¼Œæ¥å— 1 ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¿…é¡»åŒ…å«&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;æ–¹æ³•ï¼›ç»“æœè¿”å›ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚æ³¨æ„ï¼Œ&lt;code class=&quot;language-text&quot;&gt;createClass&lt;/code&gt;æ–¹æ³•å°†åœ¨ 16.X ç‰ˆæœ¬ä¸­ç§»é™¤äº†ï¼Œæ‰€ä»¥ç°åœ¨è¦ç”¨ es6 çš„&lt;code class=&quot;language-text&quot;&gt;class&lt;/code&gt;è¯­æ³•äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;createClass&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Constructor&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; updater&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// è¿™æ®µä»£ç æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œè·Ÿcomponenté‡Œçš„ä¸€æ ·ã€‚&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; context
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;refs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; emptyObject
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; updater &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; ReactNoopUpdaterQueue

    &lt;span class=&quot;token comment&quot;&gt;// è·å–åˆå§‹åŒ–çš„state&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; initialState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getInitialState &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInitialState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// getInitialState()å¿…é¡»è¿”å›å¯¹è±¡&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; initialState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;object&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;Array&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;æç¤ºæŠ¥é”™&quot;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; initialState

    &lt;span class=&quot;token comment&quot;&gt;// ç»§æ‰¿ReactComponentï¼Œå¹¶é‡å†™replaceStateå’ŒisMounted&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ReactClassComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;constructor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Constructor

    &lt;span class=&quot;token comment&quot;&gt;// mixinæå‰æ³¨å…¥çš„å¯¹è±¡,é€šè¿‡ReactClass.injection.injectMixinæ³¨å…¥&lt;/span&gt;
    injectedMixins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mixSpecIntoComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Constructor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Mixinä¸€äº›å…¶ä»–çš„å±æ€§&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;mixSpecIntoComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; spec&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// èµ‹å€¼åˆå§‹åŒ–çš„props&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;getDefaultProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      Constructor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;defaultProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Constructor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDefaultProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// åˆ¤æ–­æ˜¯å¦æœ‰renderæ–¹æ³•ï¼Œæ²¡æœ‰å°±æŠ¥é”™&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;render &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;æç¤ºæŠ¥é”™&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// èµ‹å€¼æ²¡æœ‰å®šä¹‰çš„é»˜è®¤çš„ç”Ÿå‘½å‘¨æœŸçš„å‡½æ•°ä¸ºnull&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; methodName &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; ReactClassInterface&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;methodName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;methodName&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è¿”å›æ„é€ å‡½æ•°&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Constructor
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ç»§æ‰¿ ReactComponent å¹¶é‡å†™&lt;code class=&quot;language-text&quot;&gt;replaceState&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;isMounted&lt;/code&gt;çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Mixin replaceStateå’ŒisMountedçš„å¯¹è±¡&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; ReactClassMixin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;replaceState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;newState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enqueueReplaceStaet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;newState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enqueueCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;replaceState&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;isMounted&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isMounted&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// åˆå¹¶ReactComponent.prototypeï¼Œå’Œ ReactClassMixin&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;ReactClassComponent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;ReactClassComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;ReactComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  ReactClassMixin
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ç»§æ‰¿ReactClassComponent&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ReactClassComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;constructor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Constructor&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Mixin ä¸€äº›å…¶ä»–çš„å±æ€§çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;RESERVED_SPEC_KEYS&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;displayName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;displayName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Constructor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;displayName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;displayName&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;mixins&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;mixins&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mixins&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;mixins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;mixSpecIntoComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mixins&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;childContextTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;COnstrcutor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;childContextTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//.....&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;contextTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;contextTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//......&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;getDefaultProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;getDefaultProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//....&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;propTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;propTypes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//....&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;statics&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;statics&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//....&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;autobind&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mixSpecIntoComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;spec&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å¦‚æœspecä¸­æœ‰mixinsï¼Œåˆ™åˆå¹¶&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mixins&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token constant&quot;&gt;RESERVED_SPEC_KEYS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mixins&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mixins&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; proto&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Constructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; name &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; spec&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;mixins&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// ç¬¬ä¸€æ­¥å·²ç»åˆå¹¶äº†mixinså±æ€§äº†ï¼Œæ‰€ä»¥æ­¤å¤„ä¸éœ€è¦å†æ¬¡åˆå¹¶&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; property&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;spec&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// åˆå¹¶ä¿ç•™çš„å…³é”®å±æ€§&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;RESERVED_SPEC_KEYS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token constant&quot;&gt;RESERVED_SPEC_KEYS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Constructor&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;property&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// åˆå¹¶è‡ªå®šä¹‰çš„å±æ€§&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;injection&lt;/code&gt;ï¼Œé€šè¿‡è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ReactClass.injection.injectMixin&lt;/code&gt;å¯ä»¥å…¨å±€æ³¨å…¥éœ€è¦ mixin çš„å¯¹è±¡ï¼Œæ­¤ååœ¨è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;ReactClass.createClass(spec)&lt;/code&gt;çš„æ—¶å€™å°±ä¸éœ€è¦åœ¨å•ç‹¬æ³¨å…¥äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; injection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;injectMixin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;mixin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    injectedMixins&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mixin&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;â€‹ã€Œreact ç‰ˆæœ¬ 15.5.4ã€&lt;/p&gt;</content:encoded></item><item><title><![CDATA[é˜…è¯»reactæºç --componentéƒ¨åˆ†]]></title><description><![CDATA[ä»Šå¤©ä¸»è¦çœ‹ä¸‹ï¼Œå®é™…ä¸Šæ˜¯å¯¹è±¡ä¸Šä¸€ä¸ªæ„é€ å‡½æ•°ã€‚
æ„é€ å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œï¼Œï¼Œï¼Œå®é™…æ˜¯åœ¨ä¸­æ³¨å…¥çš„ï¼Œå®ƒæ˜¯ç”¨æ¥å®é™…æ›´æ–°Componentâ€¦]]></description><link>https://snayan.github.io//post/react_component_source/</link><guid isPermaLink="false">https://snayan.github.io//post/react_component_source/</guid><pubDate>Tue, 09 May 2017 21:28:39 GMT</pubDate><content:encoded>&lt;p&gt;ä»Šå¤©ä¸»è¦çœ‹ä¸‹&lt;code class=&quot;language-text&quot;&gt;React.Component&lt;/code&gt;ï¼Œå®é™…ä¸Š&lt;code class=&quot;language-text&quot;&gt;Component&lt;/code&gt;æ˜¯&lt;code class=&quot;language-text&quot;&gt;React&lt;/code&gt;å¯¹è±¡ä¸Šä¸€ä¸ªæ„é€ å‡½æ•°ã€‚
æ„é€ å‡½æ•°æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œ&lt;code class=&quot;language-text&quot;&gt;props&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;context&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;updater&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;updater&lt;/code&gt;å®é™…æ˜¯åœ¨&lt;code class=&quot;language-text&quot;&gt;render&lt;/code&gt;ä¸­æ³¨å…¥çš„ï¼Œå®ƒæ˜¯ç”¨æ¥å®é™…æ›´æ–°&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ReactComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; updater&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; context
  &lt;span class=&quot;token comment&quot;&gt;// emptyObject æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡{}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;refs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; emptyObject
  &lt;span class=&quot;token comment&quot;&gt;// ReactNoopUpdateQueue is the abstract API for an update queue&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; updater &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; ReactNoopUpdateQueue
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;p&gt;Component çš„åŸå‹å¯¹è±¡ä¸Šæœ‰è¿™ä¹ˆå‡ ä¸ªå±æ€§ï¼Œåˆ†åˆ«æ˜¯&lt;code class=&quot;language-text&quot;&gt;isReactComponent&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;forceUpdate&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;isMounted&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;replaceState&lt;/code&gt;ã€‚å…¶ä¸­ï¼Œ&lt;code class=&quot;language-text&quot;&gt;isMounted&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;replaceState&lt;/code&gt;ä¸æ¨èä½¿ç”¨äº†ï¼Œåç»­ç‰ˆæœ¬ä¼šç§»é™¤çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;isReactComponent&lt;/code&gt;æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;ReactComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isReactComponent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;setState()&lt;/code&gt;æ–¹æ³•ï¼Œæ”¹å˜ç»„ä»¶&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;æ—¶åº”è¯¥æ€»æ˜¯ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼ŒæŠŠ&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;çœ‹æˆä¸€ä¸ªä¸å¯å˜å¯¹è±¡ã€‚å½“è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;setState()&lt;/code&gt;æ–¹æ³•æ—¶ï¼Œä¸ä¼šä¿è¯ç«‹å³æ‰§è¡Œ&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;å‡½æ•°ï¼Œä¹Ÿä¸ä¼šç«‹å³æ”¹å˜&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;å¯¹è±¡ï¼Œå› ä¸ºå®ƒçš„æ‰§è¡Œæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„ã€‚å®ƒå¯ä»¥æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹è±¡æˆ–è€…å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;callback&lt;/code&gt;ï¼Œå½“&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;å®é™…æ‰§è¡Œå®Œæˆæ—¶ä¼šå›è°ƒè¿™ä¸ª&lt;code class=&quot;language-text&quot;&gt;callback&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;ReactComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;setState&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;partialState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; partialState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;obejct&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;typeof&lt;/span&gt; partialState &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;function&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
    partialState &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;è­¦å‘Šæˆ–è€…ç›´æ¥æŠ¥é”™.....&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å°†å½“å‰æ›´æ–°å…¥é˜Ÿ&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enqueueSetState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; partialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// å°†å½“å‰callbackå…¥é˜Ÿ&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enqueueCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;setState&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;forceUpdate()&lt;/code&gt;æ–¹æ³•ï¼Œå¼ºåˆ¶æ›´æ–°ï¼Œè°¨æ…ä½¿ç”¨ï¼Œå½“ä½ çŸ¥é“æŸäº›æ·±æˆæ¬¡çš„&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;å·²ç»å‘ç”Ÿå˜åŒ–äº†ï¼Œä½†æ²¡æœ‰è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;setState()&lt;/code&gt;æ—¶ï¼Œä½ å¯ä»¥è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;forceUpdate()&lt;/code&gt;ã€‚è°ƒç”¨&lt;code class=&quot;language-text&quot;&gt;forceUpdate()&lt;/code&gt;ä¸ä¼šè§¦å‘&lt;code class=&quot;language-text&quot;&gt;shouldComponent&lt;/code&gt;ï¼Œä¼šè§¦å‘&lt;code class=&quot;language-text&quot;&gt;componentWillUpdate&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;componentDidUpdate&lt;/code&gt;æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;ReactComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;forceUpdate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enqueueForceUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;callback&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;updater&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;enqueueCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; callback&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;forceUpdate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å†æ¥çœ‹ä¸€ä¸‹&lt;code class=&quot;language-text&quot;&gt;PureComponent&lt;/code&gt;ï¼Œå®ƒä¸&lt;code class=&quot;language-text&quot;&gt;Component&lt;/code&gt;ç»“æ„ä¸€æ ·ï¼Œåªä¸è¿‡åœ¨å…¶åŸå‹å¯¹è±¡ä¸Šå¢åŠ ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;isPureComponent=true&lt;/code&gt;çš„å±æ€§ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ComponentDummy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;ComponentDummy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ReactComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype
&lt;span class=&quot;token class-name&quot;&gt;ReactPureComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ComponentDummy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;ReactPureComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;constructor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ReactPureComponent
&lt;span class=&quot;token comment&quot;&gt;// Avoid an extra prototype jump for these methods.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;_assign&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ReactPureComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ReactComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;ReactPureComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isPureReactComponent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ã€Œreact ç‰ˆæœ¬ 15.5.4ã€&lt;/p&gt;</content:encoded></item><item><title><![CDATA[é˜…è¯»reactæºç --reactæ•´ä½“ç»“æ„]]></title><description><![CDATA[æœ€è¿‘æ‰“ç®—å­¦ä¹  react ä¸ redux çš„æºç ï¼Œä»¥æ­¤è®°å½•åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­åšçš„ç¬”è®°å§ã€‚
å…ˆæ¥æ•´ä½“çœ‹çœ‹ react çš„ç»“æ„å§ï¼Œå®é™…ä¸Š react å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨å®é™…ä½¿ç”¨çš„æ—¶å€™æ˜¯è¿™æ ·çš„æ–¹å¼æŸ¥çœ‹æºç å‘ç°ï¼Œreactâ€¦]]></description><link>https://snayan.github.io//post/react_whole_construct/</link><guid isPermaLink="false">https://snayan.github.io//post/react_whole_construct/</guid><pubDate>Thu, 04 May 2017 23:11:29 GMT</pubDate><content:encoded>&lt;p&gt;æœ€è¿‘æ‰“ç®—å­¦ä¹  react ä¸ redux çš„æºç ï¼Œä»¥æ­¤è®°å½•åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­åšçš„ç¬”è®°å§ã€‚
å…ˆæ¥æ•´ä½“çœ‹çœ‹ react çš„ç»“æ„å§ï¼Œå®é™…ä¸Š react å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨å®é™…ä½¿ç”¨çš„æ—¶å€™æ˜¯è¿™æ ·çš„æ–¹å¼&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æˆ–åˆ™&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Component&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createElement &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æŸ¥çœ‹æºç å‘ç°ï¼Œreact å¯¹è±¡å°±æ˜¯ä¸€äº›åŒ…å«ä¸€äº›å±æ€§çš„å¸¸è§å¯¹è±¡ã€‚å¸¸è§çš„å±æ€§åŒ…æ‹¬&lt;code class=&quot;language-text&quot;&gt;Component&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;createElement&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;cloneElement&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;createClass&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;DOM&lt;/code&gt;ç­‰ã€‚&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;ä¸‹é¢å°±æ˜¯å®ƒçš„ç»“æ„&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; React &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// è¿™ä¸ªä¸»è¦æ˜¯å¤„ç†ä¸€äº›react elementçš„æ–¹æ³•,&lt;/span&gt;
  Children&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; map&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; forEach&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; toArray&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; only &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Componentçš„`çˆ¶ç±»`äº†ï¼Œæˆ‘ä»¬å†™çš„componentéƒ½æ˜¯ç»§æ‰¿è¿™ä¸ª&lt;/span&gt;
  Component&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ReactComponent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// çº¯çš„Component`çˆ¶ç±»`äº†ï¼Œå®é™…åŸå‹ä¹Ÿæ˜¯ç»§æ‰¿Componentçš„ï¼Œåªä¸è¿‡å¤šäº†ä¸€ä¸ªisPureComponent=true&lt;/span&gt;
  PureComponent&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ReactPureComponent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// åˆ›å»ºreact elmentçš„æ–¹æ³•ï¼Œå®é™…ä¸­å¯ä»¥ç”¨jsxå»åˆ›å»ºreact elementã€‚&lt;/span&gt;
  createElement&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; createElment&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// å…‹éš†react elementçš„æ–¹æ³•&lt;/span&gt;
  cloneElement&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; cloneElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// éªŒè¯ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯react element,å®é™…å°±æ˜¯åˆ¤æ–­è¿™ä¸ªå¯¹è±¡æ˜¯å¦æœ‰$$typeof===Symbol[&apos;for&apos;](&apos;react.element&apos;)&lt;/span&gt;
  isValidElement&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ReactElement&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isValidElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// propsçš„ç±»å‹æ£€æŸ¥å™¨ï¼Œåœ¨15.Xçš„ç‰ˆæœ¬ä¸­ï¼Œè¿™ä¸ªå•ç‹¬ç§»åˆ°äº†prop-typesçš„åº“ä¸­äº†ï¼Œä¸å†æ˜¯Reactçš„éƒ¨åˆ†&lt;/span&gt;
  PropTypes&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ReactPropTypes&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// åˆ›å»ºä¸€ä¸ªComponentçš„ç±»å‹ï¼Œä¸»è¦æ˜¯es5çš„å†™æ³•ï¼Œåœ¨es6ä¹‹åéƒ½æ˜¯ç›´æ¥ç”¨Classå½¢å¼ç»§æ‰¿Component&lt;/span&gt;
  createClass&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ReactClass&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;createClass&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// åŒcreateClassï¼Œåªä¸è¿‡æŒ‡å®šä¸€ä¸ªtypeï¼Œä¹‹åå°±æ˜¯åˆ›å»ºåŒtypeçš„react elementã€‚&lt;/span&gt;
  createFactory&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; createFactory&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// åŒcreateFatory,åªä¸è¿‡å°è£…äº†domä¸­å¸¸è§çš„elmenetç±»å‹ï¼Œä¾‹å¦‚div,span,liç­‰&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;DOM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ReactDOMFactories&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸Šé¢åªæ˜¯åˆ—ä¸¾äº†æœ€å¸¸ç”¨çš„å±æ€§ï¼Œè¿˜æœ‰ä¸€ä¸¤ä¸ªå±æ€§æ˜¯ä¸éœ€è¦çŸ¥é“çš„ï¼Œä¹Ÿå°±æ²¡æœ‰åˆ—ä¸¾å‡ºæ¥äº†ã€‚
åé¢å‡ ç¯‡å°†è¯¦ç»†åˆ†ææ¯ä¸ªå±æ€§çš„å…·ä½“ä»£ç éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;ã€Œreact ç‰ˆæœ¬ 15.5.4ã€&lt;/p&gt;</content:encoded></item><item><title><![CDATA[å•ä¾‹æ¨¡å¼]]></title><description><![CDATA[å•ä¾‹æ¨¡å¼ï¼Œç®€å•çš„è¯´å°±æ˜¯ä¿è¯ä¸€ä¸ªç‰¹å®šçš„ç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ä¸ç®¡å®ä¾‹åŒ–å‡ æ¬¡ï¼Œéƒ½æ˜¯è¿”å›çš„åŒä¸€ä¸ªå®ä¾‹ã€‚åœ¨ javascript ä¸­ï¼Œæ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œæ¯ä¸€ä¸ªå¯¹è±¡å­—é¢é‡éƒ½å¯ä»¥æ˜¯è®¤ä¸ºæ˜¯ä¸€ä¸ªå•ä¾‹ã€‚å¯¹è±¡å…¨ç­‰ï¼Œè¡¨ç¤ºå¼•ç”¨çš„åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚åœ¨ javascriptâ€¦]]></description><link>https://snayan.github.io//post/singleton/</link><guid isPermaLink="false">https://snayan.github.io//post/singleton/</guid><pubDate>Tue, 02 May 2017 23:24:19 GMT</pubDate><content:encoded>&lt;p&gt;å•ä¾‹æ¨¡å¼ï¼Œç®€å•çš„è¯´å°±æ˜¯ä¿è¯ä¸€ä¸ªç‰¹å®šçš„ç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ä¸ç®¡å®ä¾‹åŒ–å‡ æ¬¡ï¼Œéƒ½æ˜¯è¿”å›çš„åŒä¸€ä¸ªå®ä¾‹ã€‚åœ¨ javascript ä¸­ï¼Œæ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œæ¯ä¸€ä¸ªå¯¹è±¡å­—é¢é‡éƒ½å¯ä»¥æ˜¯è®¤ä¸ºæ˜¯ä¸€ä¸ªå•ä¾‹ã€‚å¯¹è±¡å…¨ç­‰ï¼Œè¡¨ç¤ºå¼•ç”¨çš„åŒä¸€ä¸ªå†…å­˜åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ javascript ä¸­å®ç°å•ä¾‹æ¨¡å¼ï¼Œæœ‰å¦‚ä¸‹å‡ ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…¨å±€å˜é‡æ–¹å¼ï¼Œè¿™ç§æ–¹å¼ä¸å¥½ï¼Œå…¨å±€å˜é‡å¯è¢«éšæ„æ”¹å˜ï¼Œä¸”å¯èƒ½ä¸å…¶ä»–ç±»åº“å‘½åå†²çª&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; instance
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;instance &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; instance
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// åšä¸€äº›å…¶ä»–æ“ä½œ&lt;/span&gt;
  instance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;!--more--&gt;
&lt;ul&gt;
&lt;li&gt;å‡½æ•°é™æ€å±æ€§æ–¹å¼ï¼Œè¿™ç§æ–¹å¼ä¹Ÿä¸å¥½ï¼Œå‡½æ•°é™æ€å±æ€§ä¹Ÿæ˜¯å…¬å…±çš„è®¿é—®æƒï¼Œæ¯”ç¬¬ä¸€ç§è¦å¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Singleton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instance &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Singleton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instance
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  Singleton&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;instance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;é—­åŒ…æ¨¡å¼ï¼Œè¿™ç§æ–¹å¼ä¼šåˆ›å»ºä¸€ä¸ªé—­åŒ…ï¼Œä½¿å¾—å®ä¾‹ä¸å¯è¢«å¤–éƒ¨ç›´æ¥ä¿®æ”¹ï¼Œæ¯”ç¬¬äºŒç§å¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; instance
  &lt;span class=&quot;token comment&quot;&gt;// æ”¹å†™Singletonæ„é€ å‡½æ•°&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;Singleton&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; instance
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ä½¿å¾—æ”¹å†™åçš„Singletonçš„åŸå‹æŒ‡å‘åŸæ„é€ å‡½æ•°çš„åŸå‹&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;constructor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype
  &lt;span class=&quot;token comment&quot;&gt;// ä¿®æ”¹æ”¹å†™åçš„Singletonçš„åŸå‹çš„constracutoræŒ‡å‘è‡ªå·±ï¼Œè¿™ä¸ªåœ°æ–¹æ¯”è¾ƒå®¹æ˜“è¢«å¿½ç•¥&lt;/span&gt;
  &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prototype&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;constracutor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Singleton
  instance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; instance
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å®é™…ä¸Šè¿˜æœ‰å¦å¤–ä¸€ç§é—­åŒ…æ¨¡å¼ï¼Œç›¸æ¯”ä¸Šé¢è¿™ç§å½¢å¼ï¼Œæ›´å¥½ç†è§£ä¸€äº›ï¼Œä½†ä»£ç å°è£…æ€§å’Œç§»æ¤æ€§ä¸æ˜¯å¾ˆå¥½ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; Singleton
&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; instance
  &lt;span class=&quot;token function-variable function&quot;&gt;Singleton&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;instance &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; instance
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    instance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item></channel></rss>